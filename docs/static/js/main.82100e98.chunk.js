(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[0],[,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return k})),n.d(t,"b",(function(){return y})),n.d(t,"e",(function(){return g})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return O}));var a=n(8),r=n(6),c=n.n(r),i=n(2),o=n(1),l=c.a.mark(v),s=c.a.mark(h),u=c.a.mark(p),f=c.a.mark(k),d=function(){};function v(e,t,n){var a,r,s,u,f,d;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!(t<n)){c.next=3;break}c.next=38;break;case 3:if(1!==n){c.next=13;break}a=e;case 5:if(!(a<t+e)){c.next=11;break}return c.next=8,[a];case 8:a++,c.next=5;break;case 11:c.next=38;break;case 13:if(t!==n){c.next=20;break}for(r=[],s=e;s<t+e;s++)r.push(s);return c.next=18,r;case 18:c.next=38;break;case 20:u=Object(o.a)(v(e+1,t-1,n-1)),c.prev=21,u.s();case 23:if((f=u.n()).done){c.next=29;break}return d=f.value,c.next=27,[e].concat(Object(i.a)(d));case 27:c.next=23;break;case 29:c.next=34;break;case 31:c.prev=31,c.t0=c.catch(21),u.e(c.t0);case 34:return c.prev=34,u.f(),c.finish(34);case 37:return c.delegateYield(v(e+1,t-1,n),"t1",38);case 38:case"end":return c.stop()}}),l,null,[[21,31,34,37]])}function h(e,t){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(v(0,e,t),"t0",1);case 1:case"end":return n.stop()}}),s)}var b=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"start",c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ends",i={},l=Object(o.a)(e);try{for(l.s();!(t=l.n()).done;){var s,u=t.value,f=u[n],d=u[(n+1)%2],v=g(i,f,(s={},Object(a.a)(s,r,f),Object(a.a)(s,c,new Set),s));v[c].add(d)}}catch(h){l.e(h)}finally{l.f()}return i};function p(e,t,n){var a,r,l,s,f,d,v=arguments;return c.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(a=v.length>3&&void 0!==v[3]?v[3]:{checkClear:!0},r=Object.values(b(e,n)),l=r.filter((function(e){return e.ends.size<=t})),!(a.checkClear&&r.length<=t)){u.next=5;break}return u.abrupt("return");case 5:s=Object(o.a)(h(l.length,t)),u.prev=6,d=c.a.mark((function e(){var n,s,u,d,v,h,b,p,k,y,g;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=f.value,s=new Set,u=new Set,d=Object(o.a)(n),e.prev=4,d.s();case 6:if((v=d.n()).done){e.next=15;break}if(h=v.value,b=l[h],s.add(b.start),b.ends.forEach(u.add,u),!(u.size>t)){e.next=13;break}return e.abrupt("break",15);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),d.e(e.t0);case 20:return e.prev=20,d.f(),e.finish(20);case 23:if(u.size!==t){e.next=47;break}if(!(p=a.checkClear)){e.next=44;break}k=Object(o.a)(r.filter((function(e){return!s.has(e.start)}))),e.prev=27,k.s();case 29:if((y=k.n()).done){e.next=36;break}if(g=y.value,!(Object(i.a)(g.ends).filter((function(e){return!u.has(e)})).length<g.ends.size)){e.next=34;break}return p=!1,e.abrupt("break",36);case 34:e.next=29;break;case 36:e.next=41;break;case 38:e.prev=38,e.t1=e.catch(27),k.e(e.t1);case 41:return e.prev=41,k.f(),e.finish(41);case 44:if(p){e.next=47;break}return e.next=47,[s,u];case 47:case"end":return e.stop()}}),e,null,[[4,17,20,23],[27,38,41,44]])})),s.s();case 9:if((f=s.n()).done){u.next=13;break}return u.delegateYield(d(),"t0",11);case 11:u.next=9;break;case 13:u.next=18;break;case 15:u.prev=15,u.t1=u.catch(6),s.e(u.t1);case 18:return u.prev=18,s.f(),u.finish(18);case 21:case"end":return u.stop()}}),u,null,[[6,15,18,21]])}function k(e,t){var n,a,r,i,l,s,u,d,v,b,p;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:n=t+1,a=e.filter((function(e){return e.ends.size<=n})),r=Object(o.a)(h(a.length,t)),c.prev=3,r.s();case 5:if((i=r.n()).done){c.next=34;break}l=i.value,s=new Set,u=new Set,d=Object(o.a)(l),c.prev=10,d.s();case 12:if((v=d.n()).done){c.next=21;break}if(b=v.value,p=a[b],s.add(p.start),p.ends.forEach(u.add,u),!(u.size>n)){c.next=19;break}return c.abrupt("break",21);case 19:c.next=12;break;case 21:c.next=26;break;case 23:c.prev=23,c.t0=c.catch(10),d.e(c.t0);case 26:return c.prev=26,d.f(),c.finish(26);case 29:if(u.size!==n){c.next=32;break}return c.next=32,[s,u];case 32:c.next=5;break;case 34:c.next=39;break;case 36:c.prev=36,c.t1=c.catch(3),r.e(c.t1);case 39:return c.prev=39,r.f(),c.finish(39);case 42:case"end":return c.stop()}}),f,null,[[3,36,39,42],[10,23,26,29]])}(window||e||{}).console;var y={enabled:!0,ifEnabled:function(e,t){return this.enabled&&e||t},get group(){return this.ifEnabled(!1,d)},get groupEnd(){return this.ifEnabled(!1,d)},get log(){return this.ifEnabled(!1,d)},get error(){return this.ifEnabled(!1,d)}},g=function(e,t,n){return e.hasOwnProperty(t)||(e[t]=n),e[t]};function m(e){for(var t=Object(i.a)(e),n=t.length-1;n>0;n--){var a=Math.floor(Math.random()*(n+1)),r=[t[a],t[n]];t[n]=r[0],t[a]=r[1]}return t}function O(e,t){var n,a=new Set,r=Object(o.a)(t);try{for(r.s();!(n=r.n()).done;){var c=n.value;e.has(c)&&a.add(c)}}catch(i){r.e(i)}finally{r.f()}return a}}).call(this,n(50))},,,,function(e,t,n){e.exports={Value:"Cell_Value__1lDbW",Notes:"Cell_Notes__10ap7",Related:"Cell_Related__ET6Lg",Available:"Cell_Available__3vvqK",Place:"Cell_Place__3TPHN",Note:"Cell_Note__2U2fC",MarkedDomain:"Cell_MarkedDomain__31hFJ",MarkedEffect:"Cell_MarkedEffect___usON",MarkedHighlight:"Cell_MarkedHighlight__2O1xC",WithoutOutline:"Cell_WithoutOutline__35g8t",ActiveValue:"Cell_ActiveValue__3McOV",Placed:"Cell_Placed__3HOvj",Selected:"Cell_Selected__2LsAU",MarkedValue:"Cell_MarkedValue__dMEee",MarkedNoteValue:"Cell_MarkedNoteValue__24o3W",Effected:"Cell_Effected__HnLYk",RowNotes:"Cell_RowNotes__1QNhn",PlacedValue:"Cell_PlacedValue__2vP-2"}},,function(e,t,n){e.exports={Zero:"Digits_Zero__2W6xd",One:"Digits_One__-wXsd",Two:"Digits_Two__5WRCG",Three:"Digits_Three__1GKk-",Four:"Digits_Four__1ahFU",Five:"Digits_Five__3m1dx",Six:"Digits_Six__kvriF",Seven:"Digits_Seven__2_nmU",Eight:"Digits_Eight__GNMw3",Nine:"Digits_Nine__3u9wd"}},,,function(e,t,n){e.exports={Controls:"Controls_Controls__1Accx",History:"Controls_History__2GRXF",Panel:"Controls_Panel__1AK4m",Tools:"Controls_Tools__1-fbY",Tip:"Controls_Tip__2IHiE",ChainSteper:"Controls_ChainSteper__RRrIh"}},function(e,t,n){e.exports={Digits:"Digits_Digits__3-KZF",Digit:"Digits_Digit__1MXW9",digit:"Digits_digit__3Mpxe",Disabled:"Digits_Disabled__1N4Jw",active:"Digits_active__2AexO",Count:"Digits_Count__Eq4Q5",isNoting:"Digits_isNoting__-OBTK"}},,function(e,t,n){e.exports={Menu:"Main_Menu__3YGZL",Board:"Main_Board__3XJet",Controls:"Main_Controls__1MSdo",Info:"Main_Info__2888w",QRCode:"Main_QRCode__1jj5B"}},,,function(e,t,n){e.exports={Block:"Block_Block__1kJyh",Odd:"Block_Odd__2xFZf",Row:"Block_Row__11Olq"}},function(e,t,n){e.exports={SudokuBoard:"Board_SudokuBoard__3cPYp",Row:"Board_Row__2r5V5",Complete:"Board_Complete__UekFD",SudokuComplete:"Board_SudokuComplete__13blN"}},function(e,t,n){e.exports={Modal:"Modal_Modal__31OI7",Show:"Modal_Show__d05bc",Close:"Modal_Close__IQjCe"}},function(e,t,n){e.exports={Button:"Button_Button__2Ajf-",Warn:"Button_Warn__1cddQ",On:"Button_On__3d77T",Off:"Button_Off__R9f9J"}},,,,function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__Vem4f",Absolute:"Backdrop_Absolute__Z8lxG"}},function(e,t,n){e.exports={NewGame:"NewGame_NewGame__2hKIv",Error:"NewGame_Error__mao55"}},,,,,,,,,,,function(e,t,n){e.exports={Pointer:"Arrow_Pointer__1rYd7"}},function(e,t,n){e.exports={Spinner:"Loading_Spinner__1CFco"}},function(e,t,n){e.exports={Loader:"Spinner_Loader__1twK-",load2:"Spinner_load2__2gkgc"}},,function(e,t,n){e.exports={Sudoku:"Sudoku_Sudoku__3acWS"}},,function(e,t,n){e.exports=n(61)},,,,,function(e,t,n){},,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getDigitLocalPos",(function(){return H})),n.d(a,"blockShape",(function(){return D})),n.d(a,"indices",(function(){return R})),n.d(a,"blocks",(function(){return V})),n.d(a,"rows",(function(){return z})),n.d(a,"cols",(function(){return B})),n.d(a,"rowColToBlock",(function(){return U})),n.d(a,"blockRowColIndex",(function(){return X})),n.d(a,"blockRows",(function(){return W})),n.d(a,"blockCols",(function(){return F})),n.d(a,"rowPositions",(function(){return K})),n.d(a,"colPositions",(function(){return Z})),n.d(a,"getPosition",(function(){return ae})),n.d(a,"getPosBlock",(function(){return re})),n.d(a,"getBlockPositions",(function(){return ce})),n.d(a,"getBlockFlattenPositions",(function(){return ie})),n.d(a,"getRowPositions",(function(){return oe})),n.d(a,"getColPositions",(function(){return le})),n.d(a,"getRelatedBlockPositions",(function(){return se})),n.d(a,"getRelatedRowPositions",(function(){return ue})),n.d(a,"getRelatedColPositions",(function(){return fe})),n.d(a,"getRelatedPositions",(function(){return de})),n.d(a,"flattenPositions",(function(){return ve})),n.d(a,"getPositionByKey",(function(){return be})),n.d(a,"mapPositionsTo",(function(){return pe})),n.d(a,"getCell",(function(){return ke})),n.d(a,"getCommonRelatedPositions",(function(){return ge})),n.d(a,"findClosedPosPair",(function(){return Oe}));var r=n(0),c=n.n(r),i=n(33),o=n.n(i),l=(n(48),n(4)),s=n(8),u=n(1),f=n(5),d=n(2),v=n(21),h=n.n(v),b=function(e){var t=e.type,n=e.onClick,a=e.disabled,r=void 0!==a&&a,i=e.children,o=[h.a.Button];return t&&o.push(h.a[t]),c.a.createElement("button",{className:o.join(" "),disabled:r,onClick:n},i)},p=n(7),k=n.n(p),y=n(9),g=n.n(y),m=function(e){return function(t){var n,a=t.color,r=t.digitClassName,i=void 0===r?"digit":r,o=t.className,l=void 0===o?"":o,s=t.children;return c.a.createElement("div",{className:"".concat(e," ").concat(i," ").concat(l),style:(n=a,n?{backgroundColor:n}:{})},s)}},O=m(g.a.Zero),_=m(g.a.One),j=m(g.a.Two),w=m(g.a.Three),C=m(g.a.Four),x=m(g.a.Five),E=m(g.a.Six),N=m(g.a.Seven),S=m(g.a.Eight),A=m(g.a.Nine),P=[c.a.createElement(O,null),c.a.createElement(_,null),c.a.createElement(j,null),c.a.createElement(w,null),c.a.createElement(C,null),c.a.createElement(x,null),c.a.createElement(E,null),c.a.createElement(N,null),c.a.createElement(S,null),c.a.createElement(A,null)],T=n(6),I=n.n(T),L=n(22),G=n(23),H=function(e){return[Math.floor((e-1)/3),(e-1)%3]},M=[0,1,2,3,4,5,6,7,8],D=[[0,1,2],[3,4,5],[6,7,8]],R=M,V=M,z=M,B=M,U=function(e,t){return 3*Math.floor(e/3)+Math.floor(t/3)},X=function(e,t){return e%3*3+t%3},W=function(e){var t=3*Math.floor(e/3);return[t,t+1,t+2]},F=function(e){var t=e%3*3;return[t,t+1,t+2]},Y=M.map((function(e){return M.map((function(t){return{key:"r".concat(e,"c").concat(t),idx:9*e+t,row:e,col:t,block:U(e,t),toString:function(){return this.key}}}))})),K=Y,J=M.map((function(e){return M.map((function(t){return Y[e].filter((function(e){return e.col!==t}))}))})),Q=M.map((function(e){return M.map((function(t){return Y[t][e]}))})),Z=Q,q=M.map((function(e){return M.map((function(t){return Q[e].filter((function(e){return e.row!==t}))}))})),$=M.map((function(e){return W(e).map((function(t){return Y[t].filter((function(t){return t.block===e}))}))})),ee=M.map((function(e){var t=$[e];return[].concat(Object(d.a)(t[0]),Object(d.a)(t[1]),Object(d.a)(t[2]))})),te=M.map((function(e){return M.map((function(t){return ee[e].filter((function(e,n){return n!==t}))}))})),ne=M.map((function(e){return M.map((function(t){var n=U(e,t),a=[];return Y.forEach((function(r){return r.forEach((function(r){var c=r.row,i=r.col,o=r.block;e===c&&t===i&&n===o||e!==c&&t!==i&&n!==o||a.push(r)}))})),a}))})),ae=function(e,t){return Y[e][t]},re=function(e,t){return Y[e][t].block},ce=function(e){return $[e]},ie=function(e){return ee[e]},oe=function(e){return Y[e]},le=function(e){return Q[e]},se=function(e){var t=e.row,n=e.col,a=e.block;return te[void 0===a?U(t,n):a][X(t,n)]},ue=function(e){var t=e.row,n=e.col;return J[t][n]},fe=function(e){var t=e.row,n=e.col;return q[n][t]},de=function(e){var t=e.row,n=e.col;return ne[t][n]},ve=Y.flat(),he={};ve.forEach((function(e){he[e.key]=e}));var be=function(e){return he[e]},pe=function(e){return M.map((function(t){return M.map((function(n){return e(t,n)}))}))},ke=function(e,t){return e[t.row][t.col]},ye=function(e,t){var n=new Set(t);return e.filter((function(e){return n.has(e)}))},ge=function e(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];switch(n.length){case 0:return[];case 1:return de(n[0]);default:var r=n[0],c=n.slice(1);return ye(de(r),e.apply(void 0,Object(d.a)(c)))}},me=function(e,t){var n=e.row-t.row,a=e.col-t.col;return n*n+a*a},Oe=function(e,t){if(1===e.length&&1===t)return[e[0],t[0]];var n,a=Number.MAX_VALUE,r=null,c=null,i=Object(u.a)(e);try{for(i.s();!(n=i.n()).done;){var o,l=n.value,s=Object(u.a)(t);try{for(s.s();!(o=s.n()).done;){var f=o.value,d=me(l,f);d<a&&(a=d,r=l,c=f)}}catch(v){s.e(v)}finally{s.f()}}}catch(v){i.e(v)}finally{i.f()}return[r,c]},_e=n(3),je=I.a.mark(Le),we=I.a.mark(He),Ce=I.a.mark(Me),xe=I.a.mark(De),Ee=I.a.mark(qe),Ne=I.a.mark(it),Se=[1,2,3,4,5,6,7,8,9],Ae=function(){function e(){Object(L.a)(this,e)}return Object(G.a)(e,null,[{key:"new",value:function(){for(var t=e._base,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];for(var c=0,i=a;c<i.length;c++){var o=i[c];t|=1<<o}return t}},{key:"isEmpty",value:function(e){return e===this._base}},{key:"size",value:function(e){for(var t=0,n=1;n<=9;n++)1===(1&(e>>=1))&&t++;return t}},{key:"first",value:function(t){for(var n=1;n<=9;n++)if(e.has(t,n))return n}},{key:"entries",value:function(t){for(var n=[],a=1;a<=9;a++)e.has(t,a)&&n.push(a);return n}},{key:"is",value:function(e){return 0!==(e&this._base)}},{key:"has",value:function(t,n){return e.is(t)&&0!==(t&1<<n)}},{key:"add",value:function(e,t){return e|1<<t}},{key:"delete",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];for(var r=0,c=n;r<c.length;r++){var i=c[r];e&=~(1<<i)}return e}}]),e}();Ae._base=65536;var Pe=function(){function e(t){var n=this;Object(L.a)(this,e),this.jumpTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e<n._historyLowerBound||(n._curCellsIdx=e,n._curCellsIdx<0?n._curCellsIdx=0:n._curCellsIdx>=n._cellsHistory.length&&(n._curCellsIdx=n._cellsHistory.length-1),t&&n._cut(),n._rollback(),n._notify())},this.revertTo=function(e){n.jumpTo(e,!0)},this.jump=function(e){n.jumpTo(n.curIdx+e)},this.jumpToFirst=function(){n.jumpTo(0)},this.jumpToLast=function(){n.jumpTo(n.lastIdx)},this._shouldNotify=!0,this.subscribers=[],this._setPuzzle(t||e.defaultPuzzle)}return Object(G.a)(e,[{key:"_setPuzzle",value:function(t){this._cellsHistory=[],this._curCellsIdx=-1,this._txCells=null,this._historyLowerBound=0,this._setCells(e.parse(t),"init"),this.puzzle=this.stringify(),this._checkComplete(),this._notify()}},{key:"setHistoryLowerBound",value:function(e){this._historyLowerBound=e}},{key:"clearHistoryLowerBound",value:function(){this._historyLowerBound=0}},{key:"_cut",value:function(){this._curCellsIdx+1<this._cellsHistory.length&&(this._cellsHistory=this._cellsHistory.slice(0,this._curCellsIdx+1))}},{key:"_setCells",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._cut(),this._curCellsIdx++,this._cellsHistory.push({idx:this._curCellsIdx,cells:e,action:t,payload:n,get desc(){return"[".concat(t,"] ").concat(n.name||"")}})}},{key:"subscribe",value:function(e){this.subscribers.push(e)}},{key:"unsubscribe",value:function(e){this.subscribers=this.subscribers.filter((function(t){return t!==e}))}},{key:"_disableNotify",value:function(){this._shouldNotify=!1}},{key:"_enableNotify",value:function(){this._shouldNotify=!0}},{key:"_notify",value:function(){if(this._shouldNotify){this._checkComplete();var e,t=Object(u.a)(this.subscribers);try{for(t.s();!(e=t.n()).done;){(0,e.value)((function(e){return e+1}))}}catch(n){t.e(n)}finally{t.f()}}}},{key:"stringify",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Object(f.a)({placedAsOrigin:!1,withNotes:!0,originAsPlaced:!1},t),e=e||this.cells;var n,a=[],r=Object(u.a)(ve);try{for(r.s();!(n=r.n()).done;){var c=n.value,i=e[c.row][c.col],o=i.origin,l=i.value;if(Ae.is(l)){if(!t.withNotes){a.push("0");continue}Ae.isEmpty(l)?a.push("0"):a.push.apply(a,["n"].concat(Object(d.a)(Ae.entries(l)),["N"]))}else!t.placedAsOrigin&&!o||t.originAsPlaced?a.push("p",l):a.push(l)}}catch(s){r.e(s)}finally{r.f()}return a.join("")}},{key:"calcAvailableDigits",value:function(e){var t=new Set([1,2,3,4,5,6,7,8,9]);if(!e)return t;if(this.getCell(e).origin)return new Set;var n,a=Object(u.a)(de(e));try{for(a.s();!(n=a.n()).done;){var r=n.value,c=this.getCell(r).value;Ae.is(c)||t.delete(c)}}catch(i){a.e(i)}finally{a.f()}return t}},{key:"calcRemainingDigits",value:function(){var e,t={1:9,2:9,3:9,4:9,5:9,6:9,7:9,8:9,9:9},n=Object(u.a)(ve);try{for(n.s();!(e=n.n()).done;){var a=e.value,r=this.getCell(a).value;Ae.is(r)||t[r]--}}catch(c){n.e(c)}finally{n.f()}return t}},{key:"calcAvailablePositions",value:function(e){if(!(e>=1&&e<=9))return null;var t,n=pe((function(){return!0})),a=Object(u.a)(ve);try{for(a.s();!(t=a.n()).done;){var r=t.value,c=this.getCell(r).value;if(!Ae.is(c)&&(n[r.row][r.col]=!1,c===e)){var i,o=Object(u.a)(de(r));try{for(o.s();!(i=o.n()).done;){var l=i.value,s=l.row,f=l.col;n[s][f]=!1}}catch(d){o.e(d)}finally{o.f()}}}}catch(d){a.e(d)}finally{a.f()}return n}},{key:"_txSetCellValue",value:function(e,t,n){var a=t.row,r=t.col;if(n===this.getCell(t).value)return e;var c=this.getCurCells();if(e===c&&(e=Object(d.a)(c)),e[a]===c[a]&&(e[a]=Object(d.a)(c[a])),e[a][r]===c[a][r]&&(e[a][r]=Object(f.a)({},c[a][r])),e[a][r].value=n,!Ae.is(n)){var i,o=Object(u.a)(de(t));try{for(o.s();!(i=o.n()).done;){var l=i.value,s=this.getCell(l);Ae.is(s.value)&&(e=this._txSetCellValue(e,l,Ae.delete(s.value,n)))}}catch(v){o.e(v)}finally{o.f()}}return e}},{key:"getCurCells",value:function(){return this._txCells?this._txCells:this.cells}},{key:"getCell",value:function(e){var t=e.row,n=e.col;return this.getCurCells()[t][n]}},{key:"_startTx",value:function(){this._txCells||(this._txCells=this.getCurCells())}},{key:"_commit",value:function(e,t){this._txCells&&this._txCells!==this.cells&&(this._setCells(this._txCells,e,t),this._txCells=null,this._notify())}},{key:"_rollback",value:function(){this._txCells=null}},{key:"_setCellValue",value:function(e,t){this._startTx(),this._txCells=this._txSetCellValue(this._txCells,e,t)}},{key:"_handlActions",value:function(t,n){switch(t){case e.actions.RESET:this._setPuzzle(this.puzzle);break;case e.actions.NOTE:this._note(n);break;case e.actions.AUTO_NOTE:this._autoNote();break;case e.actions.AUTO_PLACE:this._autoPlace();break;case e.actions.AUTO_POINTING:this._autoPointing();break;case e.actions.AUTO_CLAIMING:this._autoClaiming();break;case e.actions.AUTO_PLACE_POINTING_CLAIMING:this._autoPlacePointingClaiming();break;case e.actions.UPDATE_CELL_VALUE:this._updateCellValue(n);break;case e.actions.ELIMINATE_GROUP:this._eliminateGroup(n);break;case e.actions.ELIMINATE_XGROUP:this._eliminateXGroup(n);break;case e.actions.ELIMINATE_CHAIN:this._eliminateChain(n);break;case e.actions.ELIMINATE_TRIAL_ERROR:this._eliminateTrialError(n);break;case e.actions.HANDLE_TIP:this._handleTip(n)}}},{key:"dispatch",value:function(e,t,n){(n=Object(f.a)({commit:!0,log:!0},n||{})).log&&(_e.b.group("[".concat(e,"]")),t&&_e.b.log("->payload:",t),n&&_e.b.log("->options:",n)),this._startTx(),this._handlActions(e,t),n.log&&_e.b.groupEnd(),n.commit&&this._commit(e,t)}},{key:"reset",value:function(){this.dispatch(e.actions.RESET)}},{key:"note",value:function(t){this.dispatch(e.actions.NOTE,t)}},{key:"updateCellValue",value:function(t,n,a){this.dispatch(e.actions.UPDATE_CELL_VALUE,{isNoting:t,pos:n,value:a})}},{key:"autoNote",value:function(){this.dispatch(e.actions.AUTO_NOTE)}},{key:"autoPlacePointingClaiming",value:function(){this.dispatch(e.actions.AUTO_PLACE_POINTING_CLAIMING)}},{key:"autoPlace",value:function(){this.dispatch(e.actions.AUTO_PLACE)}},{key:"autoPointing",value:function(){this.dispatch(e.actions.AUTO_POINTING)}},{key:"autoClaiming",value:function(){this.dispatch(e.actions.AUTO_CLAIMING)}},{key:"eliminateGroup",value:function(t){this.dispatch(e.actions.ELIMINATE_GROUP,t)}},{key:"eliminateXGroup",value:function(t){this.dispatch(e.actions.ELIMINATE_XGROUP,t)}},{key:"eliminateChain",value:function(t){this.dispatch(e.actions.ELIMINATE_CHAIN,t)}},{key:"eliminateTrialError",value:function(t){this.dispatch(e.actions.ELIMINATE_TRIAL_ERROR,t)}},{key:"handleTip",value:function(t){this.dispatch(e.actions.HANDLE_TIP,t)}},{key:"_checkValidity",value:function(){for(var e=this,t=0,n=[["row",oe],["col",le],["block",ie]];t<n.length;t++){var a,r=Object(l.a)(n[t],2),c=r[0],i=r[1],o=Object(u.a)(R);try{var f=function(){var t,n,r=a.value,o=new Set(Se),l=Object(u.a)(i(r));try{for(l.s();!(t=l.n()).done;){var f=t.value,d=e.getCell(f).value;if("row"===c&&Ae.isEmpty(d))return{v:{domain:"cell",cell:f,digits:new Set}};Ae.is(d)?Ae.entries(d).forEach((function(e){return o.delete(e)})):o.delete(d)}}catch(v){l.e(v)}finally{l.f()}if(0!==o.size)return{v:(n={domain:c},Object(s.a)(n,c,r),Object(s.a)(n,"digits",o),n)}};for(o.s();!(a=o.n()).done;){var d=f();if("object"===typeof d)return d.v}}catch(v){o.e(v)}finally{o.f()}}}},{key:"_checkComplete",value:function(){var e,t=Object(u.a)(ve);try{for(t.s();!(e=t.n()).done;){var n=e.value,a=this.getCell(n).value;if(Ae.is(a))return this._isComplete=!1,!1}}catch(r){t.e(r)}finally{t.f()}return this._isComplete=!0,!0}},{key:"_note",value:function(e){var t=this.getCell(e).value;Ae.is(t)&&(Ae.size(t)>0||this._setCellValue(e,Ae.new.apply(Ae,Object(d.a)(this.calcAvailableDigits(e)))))}},{key:"_autoNote",value:function(){var t,n=Object(u.a)(ve);try{for(n.s();!(t=n.n()).done;){var a=t.value;this.dispatch(e.actions.NOTE,a,{commit:!1,log:!1})}}catch(r){n.e(r)}finally{n.f()}}},{key:"_autoPlacePointingClaiming",value:function(){try{var t=0;do{t=0,t+=this._autoPlace(),this._commit(e.actions.AUTO_PLACE),t+=this._autoPointing(),this._commit(e.actions.AUTO_POINTING),t+=this._autoClaiming(),this._commit(e.actions.AUTO_CLAIMING)}while(t>0)}catch(n){_e.b.log(n)}}},{key:"_autoPlace",value:function(){var t=0,n=!1;_e.b.group("[auto place]");do{n=!1;for(var a=0,r=[0,1];a<r.length;a++){var c,i=r[a],o=Object(u.a)(qe(this.getCurCells(),1,i));try{for(o.s();!(c=o.n()).done;){var l=c.value;this.dispatch(e.actions.ELIMINATE_GROUP,l,{commit:!1}),t++,n=!0;break}}catch(s){o.e(s)}finally{o.f()}}}while(n);return _e.b.groupEnd(),t}},{key:"_autoPointing",value:function(){var t=0;_e.b.group("[auto pointing]");var n,a=Object(u.a)(it(this.getCurCells(),1,{br:!0,bc:!0}));try{for(a.s();!(n=a.n()).done;){var r=n.value;_e.b.log(r),this.dispatch(e.actions.ELIMINATE_XGROUP,r,{commit:!1}),t++}}catch(c){a.e(c)}finally{a.f()}return _e.b.groupEnd(),t}},{key:"_autoClaiming",value:function(){var t=0;_e.b.group("[auto claiming]");var n,a=Object(u.a)(it(this.getCurCells(),1,{rb:!0,cb:!0}));try{for(a.s();!(n=a.n()).done;){var r=n.value;this.dispatch(e.actions.ELIMINATE_XGROUP,r,{commit:!1}),t++}}catch(c){a.e(c)}finally{a.f()}return _e.b.groupEnd(),t}},{key:"_updateCellValue",value:function(e){var t=e.isNoting,n=e.pos,a=e.value;t?this._noteCellValue(n,a):this._placeCellValue(n,a)}},{key:"_placeCellValue",value:function(e,t){var n=this.getCell(e);n.origin||(n.value===t&&(t=Ae.new()),this._setCellValue(e,t))}},{key:"_noteCellValue",value:function(e,t){var n=this.getCell(e).value;if(Ae.is(n)){var a=n;a=Ae.has(a,t)?Ae.delete(a,t):Ae.add(a,t),this._setCellValue(e,a)}}},{key:"findGroup",value:function(e){for(var t=1;t<=8;t++)for(var n=0,a=[0,1];n<a.length;n++){var r,c=a[n],i=Object(u.a)(qe(e,t,c));try{for(i.s();!(r=i.n()).done;){var o=r.value;return o.type="group",o}}catch(l){i.e(l)}finally{i.f()}}}},{key:"_eliminateGroup",value:function(e){if(1===e.n){var t=Object(d.a)(e.poses)[0],n=Object(d.a)(e.notes)[0];this._setCellValue(t,n)}else if(0===e.cls){var a,r=e.domains,c=r.row,i=r.col,o=r.block,l=[].concat(Object(d.a)(oe(c)||[]),Object(d.a)(le(i)||[]),Object(d.a)(ie(o)||[])),s=Object(u.a)(l);try{for(s.s();!(a=s.n()).done;){var f=a.value,v=this.getCell(f).value;Ae.is(v)&&!e.poses.has(f)&&this._setCellValue(f,Ae.delete.apply(Ae,[v].concat(Object(d.a)(e.notes))))}}catch(y){s.e(y)}finally{s.f()}}else if(1===e.cls){var h,b=Object(u.a)(e.poses);try{for(b.s();!(h=b.n()).done;){var p=h.value,k=this.getCell(p).value;this._setCellValue(p,Ae.new.apply(Ae,Object(d.a)(Ae.entries(k).filter((function(t){return e.notes.has(t)})))))}}catch(y){b.e(y)}finally{b.f()}}}},{key:"findXGroup",value:function(e){for(var t=1;t<=8;t++){var n,a=Object(u.a)(it(e,t));try{for(a.s();!(n=a.n()).done;){var r=n.value;return r.type="X-Group",r}}catch(c){a.e(c)}finally{a.f()}}}},{key:"_eliminateXGroup",value:function(e){var t=[];if("row"===e.effect){var n,a=Object(u.a)(e.rows);try{for(a.s();!(n=a.n()).done;){var r=n.value;t.push.apply(t,Object(d.a)(oe(r)))}}catch(k){a.e(k)}finally{a.f()}}else if("col"===e.effect){var c,i=Object(u.a)(e.cols);try{for(i.s();!(c=i.n()).done;){var o=c.value;t.push.apply(t,Object(d.a)(le(o)))}}catch(k){i.e(k)}finally{i.f()}}else if("block"===e.effect){var l,s=Object(u.a)(e.blocks);try{for(s.s();!(l=s.n()).done;){var f=l.value;t.push.apply(t,Object(d.a)(ie(f)))}}catch(k){s.e(k)}finally{s.f()}}for(var v=0,h=t;v<h.length;v++){var b=h[v],p=this.getCell(b).value;Ae.is(p)&&!e.poses.has(b)&&this._setCellValue(b,Ae.delete(p,e.d))}}},{key:"findTip",value:function(e){e=Object(f.a)({trial:!0,chain:{withoutALS:!1}},e);var t=this.getCurCells();return this.findGroup(t)||this.findXGroup(t)||this.findChain(t,e.chain)||e.trial&&this.findTrialError()}},{key:"_handleTip",value:function(e){"group"===e.type?this.eliminateGroup(e):"X-Group"===e.type?this.eliminateXGroup(e):"chain"===e.type?this.eliminateChain(e):"trial-error"===e.type&&this.eliminateTrialError(e)}},{key:"findTrialError",value:function(){var e=this;this._disableNotify();for(var t=this._curCellsIdx,n=Object(_e.g)(ve),a=0,r=[!1,{maxDepth:15},{maxDepth:25},{maxDepth:Number.MAX_VALUE}];a<r.length;a++){var c,i=r[a],o=Object(u.a)(n);try{for(o.s();!(c=o.n()).done;){var l=c.value,s=this.getCell(l).value;if(Ae.is(s)){var f,d=Object(u.a)(Ae.entries(s));try{for(d.s();!(f=d.n()).done;){var v=f.value;_e.b.enabled=!0,_e.b.log("try: ".concat(v,"@").concat(l)),_e.b.enabled=!1;var h=0;this.updateCellValue(!1,l,v),this.autoPlacePointingClaiming();var b=this._checkValidity();if(!b&&i){for(var p=this.findTip({trial:!1,chain:{withoutALS:!0}});p&&(h++,this.handleTip(p),this.autoPlacePointingClaiming(),!(b=this._checkValidity()))&&!(h>i.maxDepth);)p=this.findTip({trial:!1});this._checkComplete()&&(b=!0)}if(b){var k=function(){_e.b.enabled=!0,e._enableNotify();var n=e._curCellsIdx,a=new Set(e._cellsHistory.filter((function(e){var a=e.idx;return a>=t&&a<=n})).map((function(e){return e.cells})));return{v:{startIdx:t,endIdx:n,includedCells:a,pos:l,d:v,err:b,type:"trial-error",name:"try".concat(h?"*"+h:""," ").concat(v,"@").concat(l)}}}();if("object"===typeof k)return k.v}this.jumpTo(t)}}catch(y){d.e(y)}finally{d.f()}}}}catch(y){o.e(y)}finally{o.f()}}this.jumpTo(t),this._enableNotify()}},{key:"_eliminateTrialError",value:function(e){var t=e.startIdx,n=e.pos,a=e.d;if(!0!==e.err){this.revertTo(t);var r=this.getCell(n).value;Ae.is(r)&&this._setCellValue(n,Ae.delete(r,a))}}},{key:"findChain",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Object(f.a)({withoutALS:!1},t);var n=Je(e,{alsSizes:[1,2,3,4,5]}),a=Object(l.a)(n,4),r=a[0],c=a[1],i=a[2],o=a[3];_e.b.log("dPoses:",r),_e.b.log("dGroupPoses:",c),_e.b.log("dAlsces:",i),_e.b.log("dLinks:",o);for(var s=Object(_e.g)(Se),d={dLinks:o,dAlsces:i,val:!1,cells:e},v=[function(e){return r[e]}],h=[].concat(v,[function(e){return(c[e]||[]).filter((function(e){return e.isGroup}))}]),b={tryDigitLinks:!0,tryCellLinks:!1,tryGroupLinks:!1,tryAlscLinks:!1,posSrcs:h,searchChain:Le,earlyExitLen:7},p=0,k=[20];p<k.length;p++)for(var y=k[p],g=0,m=[b,Object(f.a)(Object(f.a)({},b),{},{tryCellLinks:!0}),Object(f.a)(Object(f.a)({},b),{},{tryCellLinks:!0,tryGroupLinks:!0})];g<m.length;g++){var O,_=m[g],j=Object(u.a)(_.posSrcs);try{for(j.s();!(O=j.n()).done;){var w,C=O.value,x=Object(f.a)(Object(f.a)(Object(f.a)({},d),{},{maxLength:y},_),{},{count:0}),E=Object(u.a)(s);try{for(E.s();!(w=E.n()).done;){var N=w.value;x.td=N;var S,A=Object(u.a)(_.searchChain(N,C(N)||[],x));try{for(A.s();!(S=A.n()).done;){var P=S.value;return Ie(P)}}catch(Y){A.e(Y)}finally{A.f()}}}catch(Y){E.e(Y)}finally{E.f()}if(x.res)return Ie(x.res)}}catch(Y){j.e(Y)}finally{j.f()}}if(!t.withoutALS)for(var T=[function(e){return Object.values(i[e]||{})}],I=Object(f.a)(Object(f.a)({},b),{},{tryDigitLinks:!1,posSrcs:[]}),L=0,G=[Object(f.a)(Object(f.a)({},I),{},{tryAlscLinks:!0,maxLength:9,posSrcs:T}),Object(f.a)(Object(f.a)({},b),{},{tryDigitLinks:!0,tryGroupLinks:!0,tryAlscLinks:!0,maxLength:9,posSrcs:h})];L<G.length;L++){var H,M=G[L],D=Object(u.a)(M.posSrcs);try{for(D.s();!(H=D.n()).done;){var R,V=H.value,z=Object(f.a)(Object(f.a)(Object(f.a)({},d),M),{},{count:0}),B=Object(u.a)(s);try{for(B.s();!(R=B.n()).done;){var U=R.value;z.td=U;var X,W=Object(u.a)(M.searchChain(U,V(U)||[],z));try{for(W.s();!(X=W.n()).done;){var F=X.value;return _e.b.log("als count:",z.count),Ie(F)}}catch(Y){W.e(Y)}finally{W.f()}}}catch(Y){B.e(Y)}finally{B.f()}if(z.res)return _e.b.log("als count:",z.count),Ie(z.res);_e.b.log("als count:",z.count)}}catch(Y){D.e(Y)}finally{D.f()}}}},{key:"_eliminateChain",value:function(e){var t,n=Object(u.a)(e.effectedPoses);try{for(n.s();!(t=n.n()).done;){var a=t.value,r=this.getCell(a).value;if(Ae.is(r)){var c=r;c=e.keep?Ae.new.apply(Ae,Object(d.a)(e.keepDs)):Ae.delete(r,e.d),this._setCellValue(a,c)}}}catch(i){n.e(i)}finally{n.f()}}},{key:"isComplete",get:function(){return this._isComplete}},{key:"initialPuzzle",get:function(){return this.puzzle}},{key:"cells",get:function(){return this._cellsHistory[this._curCellsIdx].cells}},{key:"cellsRecord",get:function(){return this._cellsHistory[this._curCellsIdx]}},{key:"curIdx",get:function(){return this._curCellsIdx}},{key:"lastIdx",get:function(){return this._cellsHistory.length-1}},{key:"hasPrev",get:function(){return this._curCellsIdx>0}},{key:"hasNext",get:function(){return this._curCellsIdx<this._cellsHistory.length-1}}],[{key:"parse",value:function(t){if(!t||t.length<81)throw new Error("bad sudoku puzzle format [".concat(t,"]"));var n=t.match(e.cellPattern);if(81!==n.length)throw new Error("bad sudoku puzzle format [".concat(t,"]"));for(var a=n.map((function(t){if(t.startsWith("n")&&t.endsWith("N")){var n=t.slice(1,-1).split("").map((function(e){return parseInt(e)}));return{value:Ae.new.apply(Ae,Object(d.a)(n))}}if(t.startsWith("p"))return{value:parseInt(t[1])};if(e.valuePattern.test(t))return{value:parseInt(t),origin:!0};if("0"===t||"."===t)return{value:Ae.new()};throw new Error("impossible")})),r=Array.from(new Array(9)).map((function(){return new Array(9)})),c=0;c<9;c++)for(var i=0;i<9;i++)r[c][i]=a[9*c+i];return r}}]),e}();Pe.defaultPuzzle="\n  000000000 000000000 000000000\n  000000000 000000000 000000000\n  000000000 000000000 000000000\n ",Pe.cellPattern=/(\d)|(p\d)|(n[1-9]*N)|\./g,Pe.valuePattern=/^[1-9]$/,Pe.actions={RESET:"Reset",NOTE:"Note",UPDATE_CELL_VALUE:"Update Cell Value",AUTO_NOTE:"Auto Note",AUTO_POINTING:"Auto Pointing",AUTO_CLAIMING:"Auto Claiming",AUTO_PLACE:"Auto Place",AUTO_PLACE_POINTING_CLAIMING:"Auto Place/Pointing/Claiming",ELIMINATE_GROUP:"X Group",ELIMINATE_XGROUP:"X XGroup",ELIMINATE_CHAIN:"X Chain",ELIMINATE_TRIAL_ERROR:"X Trial Error",HANDLE_TIP:"Handle Tip"};var Te=function(e){return e.isAlsc?"a":e.isGroup?"g":"d"},Ie=function(e){e.type="chain";var t,n=e.chain[0].pos,a=e.chain[e.chain.length-1],r=a.pos,c=e.d,i=!1,o=!1,l=!1,s=Object(u.a)(e.chain);try{for(s.s();!(t=s.n()).done;){var f=t.value;if(f.d!==c&&(i=!0),f.pos.isAlsc?l=!0:f.pos.isGroup&&(o=!0),i&&o&&l)break}}catch(v){s.e(v)}finally{s.f()}var d=[e.chain.length-1];return o&&d.push("G"),l&&d.push("ALS"),d.push(i?"XY":"X","Chain"),d.push([Te(n),Te(r),a.d===c?"-x":"-xy"].join("")),e.name=d.join("-"),e};function Le(e,t,n){var a,r,c,i,o,l,s;return I.a.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:a=Object(u.a)(t),f.prev=1,a.s();case 3:if((r=a.n()).done){f.next=31;break}c=r.value,i={pos:c,d:e,val:n.val},o=Object(u.a)(De([],i,n)),f.prev=7,o.s();case 9:if((l=o.n()).done){f.next=21;break}if(!((s=l.value).chain.length<n.maxLength)){f.next=19;break}if(!(s.chain.length<=n.earlyExitLen)){f.next=17;break}return f.next=15,s;case 15:f.next=19;break;case 17:n.res=s,n.maxLength=s.chain.length;case 19:f.next=9;break;case 21:f.next=26;break;case 23:f.prev=23,f.t0=f.catch(7),o.e(f.t0);case 26:return f.prev=26,o.f(),f.finish(26);case 29:f.next=3;break;case 31:f.next=36;break;case 33:f.prev=33,f.t1=f.catch(1),a.e(f.t1);case 36:return f.prev=36,a.f(),f.finish(36);case 39:case"end":return f.stop()}}),je,null,[[1,33,36,39],[7,23,26,29]])}var Ge=function(e,t){return void 0!==e&&e===t};function He(e,t,n){var r,c,i,o,l,s,f,v,h,b,p,k,y,g,m,O,_,j,w,C;return I.a.wrap((function(x){for(;;)switch(x.prev=x.next){case 0:if(r=t.pos,c=t.d,i=t.val,o=n.cells,l=n.td,!(!1===n.val&&!0===i&&e.length>1)){x.next=31;break}if(s=e[0].pos,c!==l){x.next=14;break}f=new Set,v=[].concat(Object(d.a)(ze(s)),Object(d.a)(ze(r))),h=Object(u.a)(ge.apply(a,Object(d.a)(v)));try{for(h.s();!(b=h.n()).done;)p=b.value,k=ke(o,p),y=k.value,Ae.has(y,c)&&f.add(p)}catch(E){h.e(E)}finally{h.f()}if(!(f.size>0)){x.next=12;break}return x.next=12,{chain:[].concat(Object(d.a)(e),[t]),effectedPoses:f,d:l};case 12:x.next=31;break;case 14:if(s.key!==r.key){x.next=21;break}return x.delegateYield(I.a.mark((function n(){var a,i,s,f,v,h,b;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!((a=ze(r)).length>1)){n.next=3;break}return n.abrupt("return",{v:void 0});case 3:i=new Set,s=Object(u.a)(a);try{for(s.s();!(f=s.n()).done;)v=f.value,h=ke(o,v),b=h.value,Ae.entries(b).forEach((function(e){return i.add(e)}))}catch(E){s.e(E)}finally{s.f()}if(i.delete(c),i.delete(l),!(i.size>0)){n.next=11;break}return n.next=11,{chain:[].concat(Object(d.a)(e),[t]),effectedPoses:new Set(a),d:l,effectedDs:i,keep:!0,keepDs:[c,l]};case 11:case"end":return n.stop()}}),n)}))(),"t0",16);case 16:if("object"!==typeof(g=x.t0)){x.next=19;break}return x.abrupt("return",g.v);case 19:x.next=31;break;case 21:if(m=ze(s),1!==(O=ze(r)).length||1!==m.length){x.next=31;break}if(_=m[0],j=O[0],!(Ge(j.row,_.row)||Ge(j.col,_.col)||Ge(j.block,_.block))){x.next=31;break}if(w=ke(o,j),C=w.value,!Ae.has(C,l)){x.next=31;break}return x.next=31,{chain:[].concat(Object(d.a)(e),[t]),effectedPoses:new Set([j]),d:l};case 31:case"end":return x.stop()}}),we)}function Me(e,t,n){var a,r,c,i,o,l,s,v,h,b,p,k,y,g,m,O,_,j,w,C,x,E,N,S;return I.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(a=t.pos,r=t.d,c=t.val,i=n.dLinks,o=n.dAlsces,!n.tryDigitLinks){A.next=29;break}l=0,s=[i[r][a][c],n.tryGroupLinks?i[r][a].group[c]:[]];case 4:if(!(l<s.length)){A.next=29;break}v=s[l],h=Object(u.a)(v),A.prev=7,h.s();case 9:if((b=h.n()).done){A.next=18;break}if(p=b.value,!Re(e,k={pos:p,val:!c,d:r})){A.next=14;break}return A.abrupt("continue",16);case 14:return A.next=16,[[].concat(Object(d.a)(e),[t]),k];case 16:A.next=9;break;case 18:A.next=23;break;case 20:A.prev=20,A.t0=A.catch(7),h.e(A.t0);case 23:return A.prev=23,h.f(),A.finish(23);case 26:l++,A.next=4;break;case 29:if(!n.tryCellLinks){A.next=50;break}y=Object(u.a)(i[r][a].cell[c]),A.prev=31,y.s();case 33:if((g=y.n()).done){A.next=42;break}if(m=g.value,!Re(e,O={pos:a,val:!c,d:m})){A.next=38;break}return A.abrupt("continue",40);case 38:return A.next=40,[[].concat(Object(d.a)(e),[t]),O];case 40:A.next=33;break;case 42:A.next=47;break;case 44:A.prev=44,A.t1=A.catch(31),y.e(A.t1);case 47:return A.prev=47,y.f(),A.finish(47);case 50:if(!n.tryAlscLinks){A.next=73;break}_=Object(u.a)(i[r][a].alsc[c]),A.prev=52,_.s();case 54:if((j=_.n()).done){A.next=65;break}if(w=j.value,C=null,x=null,c?(E=w,C=Object(f.a)(Object(f.a)({},t),{},{pos:o[r][a]}),x={pos:E,val:!c,d:E.d}):(N=w.als,S=w.alsc,C=Object(f.a)(Object(f.a)({},t),{},{pos:o[r][a],als:N}),x={pos:S,val:!c,d:S.d,als:N}),!Re(e,x)){A.next=61;break}return A.abrupt("continue",63);case 61:return A.next=63,[[].concat(Object(d.a)(e),[C]),x];case 63:A.next=54;break;case 65:A.next=70;break;case 67:A.prev=67,A.t2=A.catch(52),_.e(A.t2);case 70:return A.prev=70,_.f(),A.finish(70);case 73:case"end":return A.stop()}}),Ce,null,[[7,20,23,26],[31,44,47,50],[52,67,70,73]])}function De(e,t,n){var a,r,c;return I.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(n.count++,!(e.length+1>=n.maxLength)){i.next=3;break}return i.abrupt("return");case 3:return i.delegateYield(He(e,t,n),"t0",4);case 4:a=Object(u.a)(Me(e,t,n)),i.prev=5,a.s();case 7:if((r=a.n()).done){i.next=12;break}return c=r.value,i.delegateYield(De.apply(void 0,Object(d.a)(c).concat([n])),"t1",10);case 10:i.next=7;break;case 12:i.next=17;break;case 14:i.prev=14,i.t2=i.catch(5),a.e(i.t2);case 17:return i.prev=17,a.f(),i.finish(17);case 20:case"end":return i.stop()}}),xe,null,[[5,14,17,20]])}var Re=function(e,t){var n,a=ze(t.pos),r=Object(u.a)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value;if(c.val===t.val&&c.d===t.d&&c.pos.key===t.pos.key)return!0;if(c.d===t.d&&c.val&&t.val&&(c.pos.poses||t.pos.poses)&&Be(a,ze(c.pos)))return!0}}catch(i){r.e(i)}finally{r.f()}return!1},Ve=function(e,t,n,a,r){var c,i;if(a.length>1)return i={key:"".concat(r,"@").concat(e).concat(t,"block").concat(n),d:r,isGroup:!0,domain:new Set([e])},Object(s.a)(i,e,t),Object(s.a)(i,"block",n),Object(s.a)(i,"poses",a),Object(s.a)(i,"toString",(function(){return this.key})),i;var o=a[0];return c={key:o.key,d:r,isGroup:!1,domain:new Set([e])},Object(s.a)(c,e,t),Object(s.a)(c,"block",n),Object(s.a)(c,"pos",o),Object(s.a)(c,"poses",a),Object(s.a)(c,"toString",(function(){return this.key})),c},ze=function(e){return e.isGroup||e.isAlsc?Object(d.a)(e.poses):[e]};var Be=function(e,t){return Object(_e.f)(new Set(e),new Set(t)).size>0},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter((function(e){return void 0!==t.row&&e.row===t.row&&e.key!==t.key}))},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter((function(e){return void 0!==t.col&&e.col===t.col&&e.key!==t.key}))},We=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,a=t.filter((function(e){return e.block===n.block&&e.key!==n.key&&!Be(e.poses,n.isGroup?n.poses:[n])})),r=a.filter((function(e){return e.isGroup})),c=Object(u.a)(a.filter((function(e){return!e.isGroup})));try{for(c.s();!(e=c.n()).done;){var i,o=e.value,l=!0,s=Object(u.a)(r);try{for(s.s();!(i=s.n()).done;){var f=i.value;if(Be(f.poses,o.poses)){l=!1;break}}}catch(d){s.e(d)}finally{s.f()}l&&r.push(o)}}catch(d){c.e(d)}finally{c.f()}return r};function Fe(e,t){for(var n=new Set,a=new Set,r=0,c=[["row",Ue],["col",Xe],["block",We]];r<c.length;r++){var i=Object(l.a)(c[r],2),o=i[0],s=i[1];if(!t.isGroup||"block"===o||t.domain.has(o)){var f,d=0,v=null,h=Object(u.a)(s(e,t));try{for(h.s();!(f=h.n()).done;){var b=f.value;d++,b.isGroup&&(t.isGroup?(a.add(b),v=b):new Set(b.poses).has(t)||(a.add(b),v=b))}}catch(p){h.e(p)}finally{h.f()}1===d&&v&&n.add(v)}}return{false:n,true:a}}function Ye(e,t,n){for(var a=new Set,r=new Set,c=function(){var c=Object(l.a)(o[i],2),s=c[0],f=c[1],d=n,v=new Set;if(n.isGroup){if("block"!==s&&!n.domain.has(s))return"continue";d=n.poses[0],v=new Set(n.poses)}var h,b=0,p=null,k=Object(u.a)(f(d).filter((function(e){return!v.has(e)})));try{for(k.s();!(h=k.n()).done;){var y=h.value,g=ke(e,y).value;Ae.has(g,t)&&(r.add(y),b++,p=y)}}catch(m){k.e(m)}finally{k.f()}1===b&&a.add(p)},i=0,o=[["row",ue],["col",fe],["block",se]];i<o.length;i++)c();return{false:a,true:r}}function Ke(e,t){return e[t]}function Je(e,t){var n,a=function(e){for(var t={},n=0,a=[["row",K],["col",Z]];n<a.length;n++){var r,c=Object(l.a)(a[n],2),i=c[0],o=c[1],s=Object(u.a)(o);try{for(s.s();!(r=s.n()).done;){var f,d=r.value,v={},h=0,b=Object(u.a)(d);try{for(b.s();!(f=b.n()).done;){var p=f.value;h=p[i];var k=ke(e,p).value;if(Ae.is(k)){var y,g=Object(_e.e)(v,p.block,{}),m=Object(u.a)(Ae.entries(k));try{for(m.s();!(y=m.n()).done;){var O=y.value;Object(_e.e)(g,O,[]).push(p)}}catch(G){m.e(G)}finally{m.f()}}}}catch(G){b.e(G)}finally{b.f()}for(var _=0,j=Object.entries(v);_<j.length;_++)for(var w=Object(l.a)(j[_],2),C=w[0],x=w[1],E=0,N=Object.entries(x);E<N.length;E++){var S=Object(l.a)(N[E],2),A=S[0],P=S[1],T=parseInt(C),I=parseInt(A),L=Object(_e.e)(t,I,[]);P.length>1?L.push(Ve(i,h,T,P,I)):function(){var e=P[0],t=L.filter((function(t){return t.pos===e}))[0];t||(t=Ve(i,h,T,P,I),L.push(t)),t.domain.add(i),t[i]=h}()}}}catch(G){s.e(G)}finally{s.f()}}return t}(e),r=function(e,t,n){for(var a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=Object(f.a)({alsSizes:[1,2,3,4,5,6,7,8]},n);for(var a={},r={},c=0,i=[oe,le,ie];c<i.length;c++){var o,s=i[c],v=Object(u.a)(R);try{for(v.s();!(o=v.n()).done;){var h,b=o.value,p=Qe(e,s(b)),k=Object.values(Object(_e.a)(p,0)),y=Object(u.a)(n.alsSizes);try{for(y.s();!(h=y.n()).done;){var g,m=h.value,O=Object(u.a)(Object(_e.c)(k,m));try{for(O.s();!(g=O.n()).done;){var _=Object(l.a)(g.value,2),j=_[0],w=_[1],C=Qe(e,j),x=Object(_e.a)(C,1,"d","poses"),E=[].concat(Object(d.a)(Object(d.a)(j).map((function(e){return e.key})).sort()),[Object(d.a)(w).sort().join("")]).join("-"),N=a[E]||{key:E,poses:j,digits:w,domains:Ze(j),digitInfos:x,toString:function(){return this.key}};a[E]=N;var S,A=Object(u.a)(w);try{for(A.s();!(S=A.n()).done;){var P=S.value,T=x[P],I=T.poses,L=Ze(I),G=Object(_e.e)(r,P,{}),H=null,M=null;if(1===I.size){var D=Object(d.a)(I)[0];H=D.key,M=G[H]||Object(f.a)(Object(f.a)({},T),{},{isAlsc:!0,domains:L,cell:D,key:H,type:"cell",alses:[],toString:function(){return this.key}})}else{var V=$e(P,t,L,I);V?(H=V.key,M=G[H]||Object(f.a)(Object(f.a)({},T),{},{isAlsc:!0,domains:L,group:V,key:V.key,type:"group",isGroup:!0,alses:[],toString:function(){return this.key}})):(H=Object(d.a)(I).map((function(e){return e.key})).sort().join("-"),M=G[H]||Object(f.a)(Object(f.a)({},T),{},{isAlsc:!0,domains:L,key:H,type:"alsc",alses:[],toString:function(){return this.key}}))}M.alses.push(N),G[H]=M,x[P]=M}}catch(z){A.e(z)}finally{A.f()}}}catch(z){O.e(z)}finally{O.f()}}}catch(z){y.e(z)}finally{y.f()}}}catch(z){v.e(z)}finally{v.f()}}return r}(e,t,n),r={},c=0,i=Object.values(a);c<i.length;c++)for(var o=i[c],s=0,v=Object.values(o);s<v.length;s++){var h,b=v[s],p=b.d,k=b.alses,y=Object(_e.e)(r,p,{}),g=et(o,b),m=[],O=Object(u.a)(k);try{for(O.s();!(h=O.n()).done;)for(var _=h.value,j=0,w=Object.values(_.digitInfos);j<w.length;j++){var C=w[j];C!==b&&m.push({als:_,alsc:C})}}catch(x){O.e(x)}finally{O.f()}y[b]={true:g,false:m}}return[a,r]}(e,a,t),c=Object(l.a)(r,2),i=c[0],o=c[1],s={},v={},h=Object(u.a)(ve);try{for(h.s();!(n=h.n()).done;){var b=n.value,p=ke(e,b).value;if(Ae.is(p)){var k,y=Ae.entries(p),g=Object(u.a)(y);try{var m=function(){var t=k.value;Object(_e.e)(v,t,[]).push(b);var n=Object(_e.e)(s,t,{}),r=Ye(e,t,b);n[b]=r,r.group=Fe(a[t],b);var c=new Set(y.filter((function(e){return e!==t})));r.cell={false:2===y.length?c:new Set,true:c},r.alsc=Ke(o[t],b)||{false:new Set,true:new Set}};for(g.s();!(k=g.n()).done;)m()}catch(X){g.e(X)}finally{g.f()}}}}catch(X){h.e(X)}finally{h.f()}for(var O=0,_=Object.entries(a);O<_.length;O++){var j,w=Object(l.a)(_[O],2),C=w[0],x=w[1],E=parseInt(C),N=Object(_e.e)(s,E,{}),S=Object(u.a)(x.filter((function(e){return e.isGroup})));try{for(S.s();!(j=S.n()).done;){var A=j.value,P=Ye(e,E,A);N[A]=P,P.group=Fe(a[E],A),P.cell={false:new Set,true:new Set},P.alsc=Ke(o[E],A)||{false:new Set,true:new Set}}}catch(X){S.e(X)}finally{S.f()}}for(var T=0,I=Object.entries(i);T<I.length;T++){var L,G=Object(l.a)(I[T],2),H=G[0],M=G[1],D=parseInt(H),V=Object(_e.e)(s,D,{}),z=Object(u.a)(Object.values(M).filter((function(e){return"alsc"===e.type})));try{for(z.s();!(L=z.n()).done;){var B=L.value,U={false:new Set,true:new Set};V[B]=U,U.group={false:new Set,true:new Set},U.cell={false:new Set,true:new Set},U.alsc=Ke(o[D],B)||{false:new Set,true:new Set}}}catch(X){z.e(X)}finally{z.f()}}return[v,a,i,s]}function Qe(e,t){var n,a=[],r=Object(u.a)(t);try{for(r.s();!(n=r.n()).done;){var c=n.value,i=ke(e,c).value;if(Ae.is(i)){var o,l=Object(u.a)(Ae.entries(i));try{for(l.s();!(o=l.n()).done;){var s=o.value;a.push([c,s])}}catch(f){l.e(f)}finally{l.f()}}}}catch(f){r.e(f)}finally{r.f()}return a}var Ze=function(e){for(var t={},n=function(){var n=r[a],c=new Set;e.forEach((function(e){return c.add(e[n])})),1===c.size&&(t[n]=Object(d.a)(c)[0])},a=0,r=["row","col","block"];a<r.length;a++)n();return t};function qe(e,t,n){var a,r,c,i,o,f,d,v,h,b,p,k,y,g;return I.a.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:a=0,r=[["row",oe],["col",le],["block",ie]];case 1:if(!(a<r.length)){m.next=41;break}c=Object(l.a)(r[a],2),i=c[0],o=c[1],f=Object(u.a)(R),m.prev=4,f.s();case 6:if((d=f.n()).done){m.next=30;break}v=d.value,h=Qe(e,o(v)),b=Object(u.a)(Object(_e.d)(h,t,n,{checkClear:t>1})),m.prev=10,b.s();case 12:if((p=b.n()).done){m.next=20;break}return k=p.value,y=k[n],g=k[(n+1)%2],m.next=18,{cls:n,n:t,domains:0===n?Ze(y):Object(s.a)({},i,v),poses:y,notes:g,name:["naked","hidden"][n]+"-".concat(t,"-group")};case 18:m.next=12;break;case 20:m.next=25;break;case 22:m.prev=22,m.t0=m.catch(10),b.e(m.t0);case 25:return m.prev=25,b.f(),m.finish(25);case 28:m.next=6;break;case 30:m.next=35;break;case 32:m.prev=32,m.t1=m.catch(4),f.e(m.t1);case 35:return m.prev=35,f.f(),m.finish(35);case 38:a++,m.next=1;break;case 41:case"end":return m.stop()}}),Ee,null,[[4,32,35,38],[10,22,25,28]])}var $e=function(e,t,n,a){var r=n.row,c=n.col,i=n.block,o="".concat(e,"@row").concat(r,"col").concat(c,"block").concat(i),l=t[e].filter((function(e){return e.isGroup&&e.key===o&&e.poses.size===a.size}));if(1===l.length)return l[0]};function et(e,t){for(var n=[],a=t.poses,r=t.domains,c=0,i=Object.entries(r);c<i.length;c++)for(var o=Object(l.a)(i[c],2),s=o[0],u=o[1],f=0,d=Object.values(e);f<d.length;f++){var v=d[f];v!==t&&(v.domains[s]===u&&(Be(v.poses,a)||n.push(v)))}return n}var tt=function(e,t){return function(n,a){for(var r=[],c=0;c<9;c++){var i,o=Object(u.a)(e(c));try{for(o.s();!(i=o.n()).done;){var l=i.value,s=n[l.row][l.col].value;Ae.is(s)&&(Ae.has(s,a)&&r.push([c,t(l)]))}}catch(f){o.e(f)}finally{o.f()}}return r}},nt=tt(oe,(function(e){return e.col})),at=tt(oe,(function(e){return U(e.row,e.col)})),rt=tt(le,(function(e){return U(e.row,e.col)})),ct=function(e,t,n){var a,r=[],c=Object(u.a)(n);try{for(c.s();!(a=c.n()).done;){var i=a.value,o=e[i.row][i.col].value;Ae.is(o)&&Ae.has(o,t)&&r.push(i)}}catch(l){c.e(l)}finally{c.f()}return r};function it(e,t){var n,a,r,c,i,o,s,f,v,h,b,p,k,y,g,m,O,_,j,w,C,x,E,N,S,A,P,T,L,G,H,M,D,R,V,z,B,U,X,W,F,Y,K,J,Q,Z,q,$,ee,te,ne,ae,re,ce,se,ue,fe,de,ve,he,be,pe,ke,ye,ge,me,Oe,je,we,Ce,xe,Ee,Se,Ae,Pe=arguments;return I.a.wrap((function(I){for(;;)switch(I.prev=I.next){case 0:n=Pe.length>2&&void 0!==Pe[2]?Pe[2]:{rc:!0,cr:!0,rb:!0,br:!0,cb:!0,bc:!0},a=1;case 2:if(!(a<=9)){I.next=152;break}if(!n.rc&&!n.cr){I.next=53;break}if(r=nt(e,a),!n.rc){I.next=29;break}c=Object(u.a)(Object(_e.d)(r,t,0)),I.prev=7,c.s();case 9:if((i=c.n()).done){I.next=21;break}o=i.value,s=Object(l.a)(o,2),f=s[0],v=s[1],h=[],b=!0,p=Object(u.a)(f);try{for(p.s();!(k=p.n()).done;)y=k.value,(g=ct(e,a,oe(y))).length!==t&&(b=!1),h.push.apply(h,Object(d.a)(g))}catch(Ne){p.e(Ne)}finally{p.f()}return m="".concat(t,b?"-X-Wing":"-XRC-Group"),I.next=19,{name:m,domain:"row",effect:"col",rows:f,cols:v,poses:new Set(h),d:a};case 19:I.next=9;break;case 21:I.next=26;break;case 23:I.prev=23,I.t0=I.catch(7),c.e(I.t0);case 26:return I.prev=26,c.f(),I.finish(26);case 29:if(!n.cr){I.next=53;break}O=Object(u.a)(Object(_e.d)(r,t,1)),I.prev=31,O.s();case 33:if((_=O.n()).done){I.next=45;break}j=_.value,w=Object(l.a)(j,2),C=w[0],x=w[1],E=[],N=!0,S=Object(u.a)(C);try{for(S.s();!(A=S.n()).done;)P=A.value,ct(e,a,le(P)).length!==t&&(N=!1),E.push.apply(E,Object(d.a)(ct(e,a,le(P))))}catch(Ne){S.e(Ne)}finally{S.f()}return T="".concat(t,N?"-X-Wing":"-XCR-Group"),I.next=43,{name:T,domain:"col",effect:"row",rows:x,cols:C,poses:new Set(E),d:a};case 43:I.next=33;break;case 45:I.next=50;break;case 47:I.prev=47,I.t1=I.catch(31),O.e(I.t1);case 50:return I.prev=50,O.f(),I.finish(50);case 53:if(!n.rb&&!n.br){I.next=101;break}if(L=at(e,a),!n.rb){I.next=78;break}G=Object(u.a)(Object(_e.d)(L,t,0)),I.prev=57,G.s();case 59:if((H=G.n()).done){I.next=70;break}M=H.value,D=Object(l.a)(M,2),R=D[0],V=D[1],z=[],B=Object(u.a)(R);try{for(B.s();!(U=B.n()).done;)X=U.value,z.push.apply(z,Object(d.a)(ct(e,a,oe(X))))}catch(Ne){B.e(Ne)}finally{B.f()}return W=1===t?"claiming":"".concat(t,"-XRB-Group"),I.next=68,{name:W,domain:"row",effect:"block",rows:R,blocks:V,poses:new Set(z),d:a};case 68:I.next=59;break;case 70:I.next=75;break;case 72:I.prev=72,I.t2=I.catch(57),G.e(I.t2);case 75:return I.prev=75,G.f(),I.finish(75);case 78:if(!n.br){I.next=101;break}F=Object(u.a)(Object(_e.d)(L,t,1)),I.prev=80,F.s();case 82:if((Y=F.n()).done){I.next=93;break}K=Y.value,J=Object(l.a)(K,2),Q=J[0],Z=J[1],q=[],$=Object(u.a)(Q);try{for($.s();!(ee=$.n()).done;)te=ee.value,q.push.apply(q,Object(d.a)(ct(e,a,ie(te))))}catch(Ne){$.e(Ne)}finally{$.f()}return ne=1===t?"pointing":"".concat(t,"-XBR-Group"),I.next=91,{name:ne,domain:"block",effect:"row",rows:Z,blocks:Q,poses:new Set(q),d:a};case 91:I.next=82;break;case 93:I.next=98;break;case 95:I.prev=95,I.t3=I.catch(80),F.e(I.t3);case 98:return I.prev=98,F.f(),I.finish(98);case 101:if(!n.cb&&!n.bc){I.next=149;break}if(ae=rt(e,a),!n.cb){I.next=126;break}re=Object(u.a)(Object(_e.d)(ae,t,0)),I.prev=105,re.s();case 107:if((ce=re.n()).done){I.next=118;break}se=ce.value,ue=Object(l.a)(se,2),fe=ue[0],de=ue[1],ve=[],he=Object(u.a)(fe);try{for(he.s();!(be=he.n()).done;)pe=be.value,ve.push.apply(ve,Object(d.a)(ct(e,a,le(pe))))}catch(Ne){he.e(Ne)}finally{he.f()}return ke=1===t?"claiming":"".concat(t,"-XCB-Group"),I.next=116,{name:ke,domain:"col",effect:"block",cols:fe,blocks:de,poses:new Set(ve),d:a};case 116:I.next=107;break;case 118:I.next=123;break;case 120:I.prev=120,I.t4=I.catch(105),re.e(I.t4);case 123:return I.prev=123,re.f(),I.finish(123);case 126:if(!n.bc){I.next=149;break}ye=Object(u.a)(Object(_e.d)(ae,t,1)),I.prev=128,ye.s();case 130:if((ge=ye.n()).done){I.next=141;break}me=ge.value,Oe=Object(l.a)(me,2),je=Oe[0],we=Oe[1],Ce=[],xe=Object(u.a)(je);try{for(xe.s();!(Ee=xe.n()).done;)Se=Ee.value,Ce.push.apply(Ce,Object(d.a)(ct(e,a,ie(Se))))}catch(Ne){xe.e(Ne)}finally{xe.f()}return Ae=1===t?"pointing":"".concat(t,"-XBC-Group"),I.next=139,{name:Ae,domain:"block",effect:"col",cols:we,blocks:je,poses:new Set(Ce),d:a};case 139:I.next=130;break;case 141:I.next=146;break;case 143:I.prev=143,I.t5=I.catch(128),ye.e(I.t5);case 146:return I.prev=146,ye.f(),I.finish(146);case 149:a++,I.next=2;break;case 152:case"end":return I.stop()}}),Ne,null,[[7,23,26,29],[31,47,50,53],[57,72,75,78],[80,95,98,101],[105,120,123,126],[128,143,146,149]])}var ot=function(e,t,n,a,r,c){var i=[k.a.Note];if(e===t&&i.push(k.a.ActiveValue),r){var o=null;if(n?o=r.highlights:a&&(o=r.effect),o){var l=o,s=l.posNotes,u=l.posSubNotes,f=o,d=f.notes,v=f.subNotes;s&&u&&(d=s[c],v=u[c]),d&&d.has(e)?i.push(k.a.MarkedNoteValue):v&&v.has(e)&&i.push(k.a.MarkedValue),n&&a&&r.effect.notes.has(e)&&i.push(k.a.Effected)}}return i.join(" ")},lt=c.a.memo((function(e){var t=e.value,n=e.origin,a=e.pos,r=e.activePos,i=e.activeVal,o=e.available,l=e.showAvail,s=e.isNoting,u=e.onClick,f=e.marks,d=a.block,v=a.row,h=a.col,b=[],p=null,y=!1;if(r){var g=r.row,m=r.col,O=r.block;v===g&&h===m?(y=!0,b.push(k.a.Selected)):v!==g&&h!==m&&d!==O||b.push(k.a.Related)}var _=o;o?(b.push(k.a.Available),l&&b.push(s?k.a.Note:k.a.Place)):null===o?(b.push(k.a.Available),_=!0):s||n||t!==i||(b.push(k.a.Available),_=!0);var j=!1,w=!1,C=!1;if(f){var x=f.domain,E=f.effect,N=f.highlights;if(x){var S=x.rows,A=x.cols,T=x.blocks,I=x.cells;S&&S.has(v)&&(w=!0),A&&A.has(h)&&(w=!0),T&&T.has(d)&&(w=!0),I&&I.has(a)&&(w=!0)}if(E){var L=E.rows,G=E.cols,H=E.blocks,M=E.cells;L&&L.has(v)&&(C=!0),G&&G.has(h)&&(C=!0),H&&H.has(d)&&(C=!0),M&&M.has(a)&&(C=!0)}N&&N.cells.has(a)&&(j=!0)}if(j?(b.push(k.a.MarkedHighlight),f.highlights.withoutOutlinePoses&&f.highlights.withoutOutlinePoses.has(a)&&b.push(k.a.WithoutOutline)):w&&b.push(k.a.MarkedDomain),C&&b.push(k.a.MarkedEffect),Ae.is(t)){b.push(k.a.Notes);var R=t;Ae.size(R)>0&&(p=D.map((function(e,t){return c.a.createElement("div",{key:t,className:k.a.RowNotes},e.map((function(e){return c.a.createElement("div",{key:e,className:ot(e+1,i,j,C,f,a)},Ae.has(R,e+1)?P[e+1]:null)})))})))}else b.push(k.a.Value),!n&&b.push(k.a.Placed),t!==i||y||b.push(k.a.ActiveValue),j&&f.highlights.values&&f.highlights.values.has(t)&&b.push(k.a.MarkedValue),p=P[t];return c.a.createElement("div",{className:b.join(" "),onClick:_?function(){return u(a)}:void 0},p)})),st=n(18),ut=n.n(st),ft=function(e){var t=e.block,n=e.activePos,a=e.activeVal,r=e.cells,i=e.availableCells,o=e.cellClickedHandler,l=e.showAvail,s=e.isNoting,u=e.marks,f=t%2===1;return c.a.createElement("div",{className:"".concat(ut.a.Block," ").concat(f?ut.a.Odd:"")},ce(t).map((function(e,t){return c.a.createElement("div",{key:t,className:ut.a.Row},e.map((function(e){return c.a.createElement(lt,Object.assign({key:e.key},r[e.row][e.col],{pos:e,activePos:n,activeVal:a,available:i&&i[e.row][e.col],onClick:o,showAvail:l,isNoting:s,marks:u}))})))})))},dt=n(10),vt=n(11);function ht(){var e=Object(dt.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  ","\n"]);return ht=function(){return e},e}function bt(){var e=Object(dt.a)(["\n  width: ",";\n  height: 0;\n  padding-top: ","%;\n  position: relative;\n"]);return bt=function(){return e},e}var pt=vt.a.div(bt(),(function(e){var t=e.width;return void 0!==t?t:"auto"}),(function(e){return 100/e.ratio})),kt=vt.a.div(ht(),(function(e){var t=e.fixed,n=e.scroll;return t?"\n    height: 100%;\n    overflow: ".concat(n?"scroll":"hidden",";\n  "):"\n  min-height: 100%;\n  "})),yt=function(e){var t=e.ratio,n=void 0===t?1:t,a=e.fixed,r=void 0===a||a,i=e.scroll,o=void 0!==i&&i,l=e.children;return c.a.createElement(pt,{ratio:n},c.a.createElement(kt,{fixed:r,scroll:o},l))},gt=n(37),mt=n.n(gt),Ot=function(e,t){var n=e.row,a=e.col,r=H(t),c=Object(l.a)(r,2),i=c[0];return[(a+(c[1]+.5)/3+.35/100)*(.985/9)+(.5*(Math.floor(a/3)+1)-.25)/100,(n+(i+.5)/3+.35/100)*(.985/9)+(.5*(Math.floor(n/3)+1)-.25)/100]};function _t(){var e=Object(dt.a)(["\n  user-select: none;\n  pointer-events: none;\n  position: absolute;\n  transform-origin: top left;\n"]);return _t=function(){return e},e}var jt=vt.a.div.attrs((function(e){var t=e.x,n=e.y,a=e.distance,r=e.deg,c=e.type;return{style:{borderTop:"2px ".concat(c," red"),width:"".concat(100*a,"%"),height:"".concat(100*a,"%"),transform:"translate(".concat(t/a*100,"%, ").concat(n/a*100,"%)\n    rotate(").concat(r,"deg)\n    translate(").concat(.01/a*100,"%)")}}}))(_t()),wt=function(e){var t=e.type,n=void 0===t?"solid":t,a=e.startPos,r=e.startDigit,i=e.endPos,o=e.endDigit,s=Ot(a,r),u=Ot(i,o),f=function(e,t){var n=Object(l.a)(e,2),a=n[0],r=n[1],c=Object(l.a)(t,2),i=c[0]-a,o=c[1]-r;return Math.sqrt(i*i+o*o)}(s,u),d=function(e,t,n){var a=Object(l.a)(e,2),r=a[0],c=a[1],i=Object(l.a)(t,2),o=i[0]-r,s=i[1]-c;return Math.acos(o/n)*(s<0?-1:1)/Math.PI*180}(s,u,f);return c.a.createElement(jt,{x:s[0],y:s[1],distance:f-.02,deg:d,type:n},c.a.createElement("div",{className:mt.a.Pointer}))};function Ct(){var e=Object(dt.a)(["\n  user-select: none;\n  pointer-events: none;\n  position: absolute;\n  border: 1px solid red;\n"]);return Ct=function(){return e},e}var xt=vt.a.div.attrs((function(e){var t=e.sx,n=e.sy,a=e.ex,r=e.ey;return{style:{top:"".concat(100*n-.8,"%"),left:"".concat(100*t-.8,"%"),right:"".concat(100*(1-a)-.8,"%"),bottom:"".concat(100*(1-r)-.8,"%")}}}))(Ct()),Et=function(e){var t,n,a,r,i=e.domain,o=e.row,s=e.col,u=e.block;"row"===i?(t=a=o,r=(n=F(u)[0])+2):"col"===i&&(n=r=s,a=(t=W(u)[0])+2);var f=Ot({row:t,col:n},1),d=Object(l.a)(f,2),v=d[0],h=d[1],b=Ot({row:a,col:r},9),p=Object(l.a)(b,2),k=p[0],y=p[1];return c.a.createElement(xt,{sx:v,sy:h,ex:k,ey:y})},Nt=n(19),St=n.n(Nt),At=function(e){var t=e.isComplete,n=e.availablePositions,a=e.cells,r=e.activeVal,i=e.activePos,o=e.cellClickedHandler,l=e.showAvail,s=e.isNoting,u=e.marks;if(i){var f=i.row,d=i.col;r=a[f][d].value}var v=[St.a.SudokuBoard];return t&&v.push(St.a.Complete),c.a.createElement(yt,{ratio:1},c.a.createElement("div",{className:v.join(" ")},u&&u.frames&&u.frames.map((function(e){return c.a.createElement(Et,e)})),u&&u.arrows&&u.arrows.map((function(e,t){return c.a.createElement(wt,Object.assign({key:"".concat(e.startPos,"-").concat(e.endPos,"#").concat(t)},e))})),D.map((function(e,t){return c.a.createElement("div",{key:t,className:St.a.Row},e.map((function(e){return c.a.createElement(ft,{key:e,block:e,cells:a,activePos:i,activeVal:r,availableCells:n,cellClickedHandler:o,showAvail:l,isNoting:s,marks:u})})))}))))},Pt=n(42);function Tt(){var e=Object(dt.a)(["\n  &::before {\n    content: '';\n    width: 1px;\n    margin-left: -1px;\n    float: left;\n    height: 0;\n    padding-top: ","%;\n  }\n  &::after {\n    content: '';\n    display: table;\n    clear: both;\n  }\n"]);return Tt=function(){return e},e}var It=vt.a.div(Tt(),(function(e){return 100/e.ratio})),Lt=function(e){var t=e.ratio,n=void 0===t?1:t,a=e.children,r=Object(Pt.a)(e,["ratio","children"]);return c.a.createElement(It,Object.assign({ratio:n},r),a)},Gt=n(13),Ht=n.n(Gt),Mt=c.a.memo((function(e){var t=e.isNoting,n=e.activeVal,a=e.availableDigits,i=e.remainingDigits,o=e.digitClickedHandler,l=Object(r.useCallback)((function(e){var t=[Ht.a.Digit];return e===n&&t.push(Ht.a.active),a.has(e)||t.push(Ht.a.Disabled),t.join(" ")}),[n,a]);return c.a.createElement("div",{className:"".concat(Ht.a.Digits," ").concat(t?Ht.a.isNoting:"")},c.a.createElement(Lt,{className:l(1),onClick:a.has(1)?function(){return o(1)}:void 0},P[1],c.a.createElement("div",{className:Ht.a.Count},P[i[1]])),[2,3,4,5,6,7,8,9].map((function(e){return c.a.createElement("div",{key:e,className:l(e),onClick:a.has(e)?function(){return o(e)}:void 0},P[e],c.a.createElement("div",{className:Ht.a.Count},P[i[e]]))})))})),Dt=n(12),Rt=n.n(Dt),Vt=function(e){var t=e.cellsRecord,n=e.hasPrev,a=e.hasNext,r=e.jump,i=e.jumpToFirst,o=e.jumpToLast,l=e.remainingDigits,s=e.activeVal,u=e.availableDigits,f=e.digitClickedHandler,d=e.showAvail,v=e.isNoting,h=e.withALS,p=e.deselectHandler,k=e.toggleShowAvailHandler,y=e.toggleIsNotingHandler,g=e.toggleWithALSHandler,m=e.resetHandler,O=e.eraseValueHandler,_=e.autoNoteHandler,j=e.autoPlacePointingClaimingHandler,w=e.tip,C=e.tipHandler,x=e.cancelTipHandler,E=e.changeChainStepHandler,N=e.jumpToTrailStartHandler;return c.a.createElement("div",{className:Rt.a.Controls},c.a.createElement("div",{className:Rt.a.History},c.a.createElement(b,{disabled:!n,onClick:i},"<<"),c.a.createElement(b,{disabled:!n,onClick:function(){return r(-1)}},"<"),c.a.createElement(b,{disabled:!a,onClick:function(){return r(1)}},">"),c.a.createElement(b,{disabled:!a,onClick:o},">>"),c.a.createElement("span",null,"#",t.idx),c.a.createElement("span",null,t.desc)),c.a.createElement("div",{className:Rt.a.Panel},c.a.createElement(b,{onClick:m},"Reset"),c.a.createElement(b,{onClick:O},"Erase"),c.a.createElement(b,{onClick:p},"Deselect"),c.a.createElement(b,{type:d?"On":"Off",onClick:k},"Avail"),c.a.createElement(b,{type:v?"On":"Off",onClick:y},"Note"),c.a.createElement(b,{type:h?"On":"Off",onClick:g},"ALS")),c.a.createElement(Mt,{isNoting:v,activeVal:s,availableDigits:u,remainingDigits:l,digitClickedHandler:f}),c.a.createElement("div",{className:Rt.a.Tools},c.a.createElement(b,{onClick:_},"note"),c.a.createElement(b,{onClick:j},"place/point/claim"),c.a.createElement("div",{className:Rt.a.Tip},c.a.createElement(b,{type:w&&"On",onClick:C},w?w.name:"tip"),w&&c.a.createElement(b,{type:"Warn",onClick:x},"X"),w&&"chain"===w.type&&c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:Rt.a.ChainSteper,onClick:function(){return E(-1)}},"<"),c.a.createElement("span",{className:Rt.a.ChainSteper,onClick:function(){return E(1)}},">")),w&&"trial-error"===w.type&&c.a.createElement("span",{className:Rt.a.ChainSteper,onClick:N},"<start"))))},zt=n(25),Bt=n.n(zt),Ut=function(e){var t=e.show,n=e.onClick,a=e.absolute,r=void 0!==a&&a;if(!t)return null;var i=[Bt.a.Backdrop];return r&&i.push(Bt.a.Absolute),c.a.createElement("div",{className:i.join(" "),onClick:n})},Xt=n(20),Wt=n.n(Xt),Ft=c.a.memo(c.a.memo((function(e){var t=e.show,n=void 0!==t&&t,a=e.close,r=e.children,i=[Wt.a.Modal];return n&&i.push(Wt.a.Show),c.a.createElement(c.a.Fragment,null,c.a.createElement(Ut,{show:n,onClick:a}),c.a.createElement("div",{className:i.join(" ")},c.a.createElement("div",{className:Wt.a.Close,onClick:a},"X"),r))})),(function(e,t){return!e.show&&!t.show})),Yt=n(38),Kt=n.n(Yt),Jt=n(39),Qt=n.n(Jt),Zt=function(){return c.a.createElement("div",{className:Qt.a.Loader},"Loading...")},qt=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ut,{show:!0,absolute:!0}),c.a.createElement("div",{className:Kt.a.Spinner},c.a.createElement(Zt,null)))},$t=n(40),en=n.n($t),tn=n(15),nn=n.n(tn),an=function(e){var t=e.sudoku,n=void 0===t?new Pe:t,a=e.startNewGameHandler,i=e.newGameHandler,o=e.emptyHandler,v=Object(r.useState)(!1),h=Object(l.a)(v,2),p=h[0],k=h[1],y=Object(r.useState)(!1),g=Object(l.a)(y,2),m=g[0],O=g[1],_=Object(r.useState)(0),j=Object(l.a)(_,2)[1];Object(r.useEffect)((function(){return n.subscribe(j),function(){n.unsubscribe(j)}}),[n]);var w=Object(r.useState)({pos:null,val:0}),C=Object(l.a)(w,2),x=C[0],E=C[1],N=x.pos,S=x.val,A=Object(r.useState)(!1),P=Object(l.a)(A,2),T=P[0],I=P[1],L=Object(r.useState)(!0),G=Object(l.a)(L,2),H=G[0],M=G[1],D=Object(r.useState)(!0),R=Object(l.a)(D,2),V=R[0],z=R[1],B=Object(r.useState)(null),U=Object(l.a)(B,2),X=U[0],W=U[1],F=Object(r.useState)(2),Y=Object(l.a)(F,2),K=Y[0],J=Y[1],Q=n.cellsRecord,Z=n.isComplete,q=Q.cells,$=Object(r.useMemo)((function(){return n.calcAvailableDigits(N,q)}),[N,n,q]),ee=Object(r.useMemo)((function(){return n.calcAvailablePositions(S,q)}),[S,n,q]),te=Object(r.useMemo)((function(){return n.calcRemainingDigits(q)}),[n,q]),ne=Object(r.useCallback)((function(){i(n.stringify(q,{placedAsOrigin:!0,withNotes:!1}))}),[q,i,n]),re=Object(r.useCallback)((function(){i(n.stringify(q,{originAsPlaced:!0,withNotes:!1}))}),[q,i,n]),ce=Object(r.useCallback)((function(e){0!==S?n.updateCellValue(H,e,S):E((function(t){var n=t.pos;return n&&e===n&&(e=null),{pos:e,val:0}}))}),[S,H,n]),ie=Object(r.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)E({pos:null,val:e});else{if(!$.has(e))return;N?n.updateCellValue(H,N,e):E((function(t){var n=t.val,a=e;return n===e&&(a=0),{pos:null,val:a}}))}}),[N,$,H,n]),oe=Object(r.useCallback)((function(){E({pos:null,val:0})}),[]),le=Object(r.useCallback)((function(){window.confirm&&!window.confirm("Are you sure to reset?")||(n.reset(),oe())}),[oe,n]),se=Object(r.useCallback)((function(){N&&n.updateCellValue(!1,N,Ae.new())}),[N,n]),ue=Object(r.useCallback)((function(){I((function(e){return!e}))}),[]),fe=Object(r.useCallback)((function(){M((function(e){return!e}))}),[]),de=Object(r.useCallback)((function(){z((function(e){return!e}))}),[]),ve=Object(r.useCallback)((function(){n.autoNote()}),[n]),he=Object(r.useCallback)((function(){n.autoPlacePointingClaiming()}),[n]),be=Object(r.useCallback)((function(){oe(),X?(W(null),n.clearHistoryLowerBound(),n.handleTip(X)):(k(!0),setTimeout((function(){var e=n.findTip({chain:{withoutALS:!V}});k(!1),e&&(_e.b.log("tip:",e),W(e),"chain"===e.type?J(e.chain.length):"trial-error"===e.type&&(n.setHistoryLowerBound(e.startIdx),e.err.digits.size>0&&ie(Object(d.a)(e.err.digits)[0],!0)))}),0))}),[oe,ie,n,X,V]),pe=Object(r.useCallback)((function(){X&&(W(null),"trial-error"===X.type&&(n.clearHistoryLowerBound(),n.revertTo(X.startIdx)))}),[n,X]),ke=Object(r.useCallback)((function(e,t){N&&E((function(n){var a=n.pos,r=a.row,c=a.col;return{val:0,pos:ae((r+9+e)%9,(c+9+t)%9)}}))}),[N]),ye=Object(r.useCallback)((function(e){S&&E((function(t){return{pos:null,val:(t.val-1+e+9)%9+1}}))}),[S]),ge=Object(r.useMemo)((function(){if(X)if("group"===X.type){for(var e=X.cls,t=X.domains,n=X.poses,a=X.notes,r={},c=0,i=Object.entries(t);c<i.length;c++){var o=Object(l.a)(i[c],2),v=o[0],h=o[1];r[v+"s"]=new Set([h])}if(0===e)return{effect:Object(f.a)(Object(f.a)({},r),{},{notes:a}),highlights:{cells:n,notes:a}};if(1===e)return{domain:Object(f.a)(Object(f.a)({},r),{},{notes:a}),highlights:{cells:n,notes:a}}}else if("X-Group"===X.type){var b=X.domain,p=X.rows,k=X.cols,y=X.blocks,g=X.poses,m=X.d,O=new Set([m]);if("row"===b)return{domain:{rows:p},effect:{cols:k,blocks:y,notes:O},highlights:{cells:g,notes:O}};if("col"===b)return{domain:{cols:k},effect:{rows:p,blocks:y,notes:O},highlights:{cells:g,notes:O}};if("block"===b)return{domain:{blocks:y},effect:{rows:p,cols:k,notes:O},highlights:{cells:g,notes:O}}}else{if("chain"===X.type){var _=X.chain,j=X.effectedPoses,w=X.d,C=X.effectedDs,x=_.slice(0,K),E=[];x.forEach((function(e){var t=e.pos;t.isAlsc||E.push.apply(E,Object(d.a)(ze(t)))}));var N=new Set(E),S=new Set(E);ze(_[0].pos).forEach((function(e){return S.delete(e)})),ze(_[_.length-1].pos).forEach((function(e){return S.delete(e)}));var A,P=C||new Set([w]),T={},I={},L=Object(u.a)(x);try{for(L.s();!(A=L.n()).done;){var G=A.value,H=T;G.d!==w&&(H=I);var M,D=G.pos,R=Object(u.a)(ze(D));try{for(R.s();!(M=R.n()).done;){var V=M.value,z=H[V]||new Set;H[V]=z,z.add(G.d)}}catch(he){R.e(he)}finally{R.f()}}}catch(he){L.e(he)}finally{L.f()}var B=[],U={},W=null,F=null;x.forEach((function(e){var t=e.pos,n=e.als;if(t.isAlsc)W=n,F=t;else if(t.isGroup){var a=t.key,r=t.domain,c=t.block,i=t.row,o=t.col;B.push({key:a,domain:Object(d.a)(r)[0],block:c,row:i,col:o})}})),U.cells=W&&W.poses,F&&ze(F).forEach((function(e){return N.add(e)}));var Y,J=[],Z=x[0],q=Object(u.a)(x.slice(1));try{for(q.s();!(Y=q.n()).done;){var $=Y.value,ee=Oe(ze(Z.pos),ze($.pos)),te=Object(l.a)(ee,2),ne=te[0],ae=te[1];J.push({startPos:ne,startDigit:Z.d,endPos:ae,endDigit:$.d,type:$.val?"solid":"dashed"}),Z=$}}catch(he){q.e(he)}finally{q.f()}var re=x.length===_.length?{cells:j,notes:P}:null;return{domain:U,frames:B,arrows:J,effect:re,highlights:{cells:N,posNotes:T,posSubNotes:I,withoutOutlinePoses:S}}}if("trial-error"===X.type){var ce=X.startIdx,ie=X.pos,oe=X.d,le=X.err,se=new Set([oe]),ue=null;if(!0===le)ue={highlights:{poses:new Set([ie]),values:se,notes:se}};else{var fe,de=le.domain,ve=le.digits;if(Q.idx>=ce)ue={effect:(fe={},Object(s.a)(fe,de+"s",new Set([le[de]])),Object(s.a)(fe,"notes",ve),Object(s.a)(fe,"values",ve),fe),highlights:{cells:new Set([ie]),values:se,notes:se}}}if(Q.idx>=ce)return ue}}}),[Q.idx,K,X]),me=Object(r.useCallback)((function(e){if(X&&"chain"===X.type){var t=X.chain.length;J((function(n){return(n-1+e+t)%t+1}))}}),[X]),je=Object(r.useCallback)((function(){X&&"trial-error"===X.type&&n.jumpTo(X.startIdx)}),[n,X]);Object(r.useEffect)((function(){var e=function(e){if(_e.b.log(e),e.code.startsWith("Digit")){var t=parseInt(e.key);ie(t)}else if("N"===e.key)a();else if("n"===e.key)e.ctrlKey?ve():fe();else if("a"===e.key)e.ctrlKey?ue():de();else if("r"!==e.key||e.composed)if("e"===e.key)se();else if("b"===e.key)S||N||ce(ae(4,4));else if("d"===e.key||"Escape"===e.key)oe();else if("t"===e.key)be();else if("x"===e.key)pe();else if("y"===e.key)me(-1),je();else if("u"===e.key)me(1);else if("p"===e.key)he();else if("h"===e.key||"ArrowLeft"===e.key)N?ke(0,-1):S?ye(-1):n.jumpToFirst();else if("l"===e.key||"ArrowRight"===e.key)N?ke(0,1):S?ye(1):n.jumpToLast();else if("j"===e.key||"ArrowDown"===e.key)N?ke(1,0):S?ye(-1):n.jump(-1);else{if("k"!==e.key&&"ArrowUp"!==e.key)return;N?ke(-1,0):S?ye(1):n.jump(1)}else le()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[N,S,ve,he,pe,ce,me,oe,ie,se,je,ke,ye,le,a,n,X,be,fe,ue,de]),Object(r.useEffect)((function(){if(X){if(X.includedCells&&X.includedCells.has(q))return;W(null),n.clearHistoryLowerBound()}}),[q]);var we=null;if(m){var Ce=new URL(window.location),xe=n.initialPuzzle,Ee=n.stringify();Ce.search="?puzzle="+Ee,we=c.a.createElement("div",{className:nn.a.QRCode},c.a.createElement(en.a,{size:256,value:Ce.toString()}),c.a.createElement("p",null,xe),c.a.createElement("p",null,Ee))}return c.a.createElement(c.a.Fragment,null,p&&c.a.createElement(qt,null),c.a.createElement(Ft,{show:m,close:function(){return O(!1)}},we),c.a.createElement("div",{className:nn.a.Menu},c.a.createElement(b,{onClick:a},"New"),c.a.createElement(b,{onClick:ne},"Start"),c.a.createElement(b,{onClick:re},"Edit"),c.a.createElement(b,{onClick:o},"Empty"),c.a.createElement(b,{onClick:function(){return O(!0)}},"Share")),c.a.createElement("div",{className:nn.a.Board},c.a.createElement(At,{isComplete:Z,cells:q,availablePositions:ee,activeVal:S,activePos:N,cellClickedHandler:ce,showAvail:T,isNoting:H,marks:ge})),c.a.createElement("div",{className:nn.a.Controls},c.a.createElement(Vt,{cellsRecord:Q,hasPrev:n.hasPrev,hasNext:n.hasNext,jump:n.jump,jumpToFirst:n.jumpToFirst,jumpToLast:n.jumpToLast,remainingDigits:te,activeVal:S,availableDigits:$,digitClickedHandler:ie,showAvail:T,isNoting:H,withALS:V,resetHandler:le,eraseValueHandler:se,deselectHandler:oe,toggleShowAvailHandler:ue,toggleIsNotingHandler:fe,toggleWithALSHandler:de,autoNoteHandler:ve,autoPlacePointingClaimingHandler:he,tip:X,tipHandler:be,cancelTipHandler:pe,changeChainStepHandler:me,jumpToTrailStartHandler:je})),c.a.createElement("div",{className:nn.a.Info}))},rn=n(26),cn=n.n(rn),on=function(e){var t=e.cancelNewGameHandler,n=e.newGameHandler,a=e.error,i=Object(r.useState)(""),o=Object(l.a)(i,2),s=o[0],u=o[1],f=Object(r.useCallback)((function(e){u(e.target.value)}),[]),d=Object(r.useRef)();return Object(r.useEffect)((function(){d.current.focus()}),[]),Object(r.useEffect)((function(){var e=function(e){if("Escape"===e.key)t();else{if("Enter"!==e.key||!e.shiftKey)return;n(s)}e.preventDefault()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[t,n,s]),c.a.createElement("div",{className:cn.a.NewGame},c.a.createElement("h1",null,"input a new puzzle"),a&&c.a.createElement("div",{className:cn.a.Error},a.message),c.a.createElement("textarea",{ref:d,id:"puzzle",name:"puzzle",inputMode:"numeric",onChange:f,value:s,placeholder:"901002708\n570060000\n000000004\n000000000\n700421900\n000098030\n300506070\n009003000\n000080051"}),c.a.createElement(b,{onClick:t},"Cancel"),c.a.createElement(b,{onClick:function(){return n(s)}},"Done"))},ln=n(41),sn=n.n(ln),un=function(){var e=Object(r.useState)((function(){var e=new URLSearchParams(window.location.search).get("puzzle");try{return new Pe(e)}catch(t){return new Pe}})),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(!1),o=Object(l.a)(i,2),s=o[0],u=o[1],f=Object(r.useState)(null),d=Object(l.a)(f,2),v=d[0],h=d[1],b=Object(r.useCallback)((function(){u(!0)}),[]),p=Object(r.useCallback)((function(){u(!1)}),[]),k=Object(r.useCallback)((function(e){try{a(new Pe(e)),u(!1),h(null)}catch(t){h(t)}}),[]),y=Object(r.useCallback)((function(){k()}),[k]),g=null;return g=s?c.a.createElement(on,{cancelNewGameHandler:p,newGameHandler:k,error:v}):c.a.createElement(an,{sudoku:n,startNewGameHandler:b,newGameHandler:k,emptyHandler:y}),c.a.createElement("div",{className:sn.a.Sudoku},g)};function fn(){return c.a.createElement(un,null)}var dn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function vn(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(c.a.createElement(fn,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/sudoku-tool",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/sudoku-tool","/service-worker.js");dn?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):vn(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):vn(t,e)}))}}()}],[[43,1,2]]]);
//# sourceMappingURL=main.82100e98.chunk.js.map