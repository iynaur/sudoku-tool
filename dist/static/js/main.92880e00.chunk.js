(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[0],[,,,,function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return p}));var a=n(6),r=n.n(a),o=n(2),c=n(1),i=r.a.mark(f),l=r.a.mark(v),s=r.a.mark(d),u=function(){};function f(e,t,n){var a,l,s,u,v,d;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t<n)){r.next=3;break}r.next=38;break;case 3:if(1!==n){r.next=13;break}a=e;case 5:if(!(a<t+e)){r.next=11;break}return r.next=8,[a];case 8:a++,r.next=5;break;case 11:r.next=38;break;case 13:if(t!==n){r.next=20;break}for(l=[],s=e;s<t+e;s++)l.push(s);return r.next=18,l;case 18:r.next=38;break;case 20:u=Object(c.a)(f(e+1,t-1,n-1)),r.prev=21,u.s();case 23:if((v=u.n()).done){r.next=29;break}return d=v.value,r.next=27,[e].concat(Object(o.a)(d));case 27:r.next=23;break;case 29:r.next=34;break;case 31:r.prev=31,r.t0=r.catch(21),u.e(r.t0);case 34:return r.prev=34,u.f(),r.finish(34);case 37:return r.delegateYield(f(e+1,t-1,n),"t1",38);case 38:case"end":return r.stop()}}),i,null,[[21,31,34,37]])}function v(e,t){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(f(0,e,t),"t0",1);case 1:case"end":return n.stop()}}),l)}function d(e,t){var n,a,i,l,u,f,d,h,p,b,k,m,g,_,y=arguments;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:n=y.length>2&&void 0!==y[2]?y[2]:0,a=y.length>3&&void 0!==y[3]?y[3]:{checkClear:!0},i={},l=Object(c.a)(e);try{for(l.s();!(u=l.n()).done;)f=u.value,d=f[n],h=f[(n+1)%2],(p=i[d]||{start:d,ends:new Set}).ends.add(h),i[d]=p}catch(O){l.e(O)}finally{l.f()}if(b=Object.values(i),k=b.filter((function(e){return e.ends.size<=t})),!(a.checkClear&&b.length<=t)){s.next=9;break}return s.abrupt("return");case 9:m=Object(c.a)(v(k.length,t)),s.prev=10,_=r.a.mark((function e(){var n,i,l,s,u,f,v,d,h,p,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=g.value,i=new Set,l=new Set,s=Object(c.a)(n),e.prev=4,s.s();case 6:if((u=s.n()).done){e.next=15;break}if(f=u.value,v=k[f],i.add(v.start),v.ends.forEach(l.add,l),!(l.size>t)){e.next=13;break}return e.abrupt("break",15);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),s.e(e.t0);case 20:return e.prev=20,s.f(),e.finish(20);case 23:if(l.size!==t){e.next=47;break}if(!(d=a.checkClear)){e.next=44;break}h=Object(c.a)(b.filter((function(e){return!i.has(e.start)}))),e.prev=27,h.s();case 29:if((p=h.n()).done){e.next=36;break}if(m=p.value,!(Object(o.a)(m.ends).filter((function(e){return!l.has(e)})).length<m.ends.size)){e.next=34;break}return d=!1,e.abrupt("break",36);case 34:e.next=29;break;case 36:e.next=41;break;case 38:e.prev=38,e.t1=e.catch(27),h.e(e.t1);case 41:return e.prev=41,h.f(),e.finish(41);case 44:if(d){e.next=47;break}return e.next=47,[i,l];case 47:case"end":return e.stop()}}),e,null,[[4,17,20,23],[27,38,41,44]])})),m.s();case 13:if((g=m.n()).done){s.next=17;break}return s.delegateYield(_(),"t0",15);case 15:s.next=13;break;case 17:s.next=22;break;case 19:s.prev=19,s.t1=s.catch(10),m.e(s.t1);case 22:return s.prev=22,m.f(),s.finish(22);case 25:case"end":return s.stop()}}),s,null,[[10,19,22,25]])}(window||e||{}).console;var h={group:u,groupEnd:u,log:u,error:u},p=function(e,t,n){return void 0===e[t]&&(e[t]=n),e[t]}}).call(this,n(50))},function(e,t,n){e.exports={Value:"Cell_Value__1lDbW",Notes:"Cell_Notes__10ap7",Related:"Cell_Related__ET6Lg",Available:"Cell_Available__3vvqK",Place:"Cell_Place__3TPHN",Note:"Cell_Note__2U2fC",MarkedDomain:"Cell_MarkedDomain__31hFJ",MarkedEffect:"Cell_MarkedEffect___usON",MarkedHighlight:"Cell_MarkedHighlight__2O1xC",WithoutOutline:"Cell_WithoutOutline__35g8t",ActiveValue:"Cell_ActiveValue__3McOV",Placed:"Cell_Placed__3HOvj",Selected:"Cell_Selected__2LsAU",MarkedValue:"Cell_MarkedValue__dMEee",MarkedNoteValue:"Cell_MarkedNoteValue__24o3W",Effected:"Cell_Effected__HnLYk",RowNotes:"Cell_RowNotes__1QNhn"}},,,function(e,t,n){e.exports={Zero:"Digits_Zero__2W6xd",One:"Digits_One__-wXsd",Two:"Digits_Two__5WRCG",Three:"Digits_Three__1GKk-",Four:"Digits_Four__1ahFU",Five:"Digits_Five__3m1dx",Six:"Digits_Six__kvriF",Seven:"Digits_Seven__2_nmU",Eight:"Digits_Eight__GNMw3",Nine:"Digits_Nine__3u9wd"}},,,function(e,t,n){e.exports={Digits:"Digits_Digits__3-KZF",Digit:"Digits_Digit__1MXW9",digit:"Digits_digit__3Mpxe",Disabled:"Digits_Disabled__1N4Jw",active:"Digits_active__2AexO",Count:"Digits_Count__Eq4Q5",isNoting:"Digits_isNoting__-OBTK"}},function(e,t,n){e.exports={Controls:"Controls_Controls__1Accx",History:"Controls_History__2GRXF",Panel:"Controls_Panel__1AK4m",Tools:"Controls_Tools__1-fbY",Tip:"Controls_Tip__2IHiE",ChainSteper:"Controls_ChainSteper__RRrIh"}},,function(e,t,n){e.exports={Menu:"Main_Menu__3YGZL",Board:"Main_Board__3XJet",Controls:"Main_Controls__1MSdo",Info:"Main_Info__2888w",QRCode:"Main_QRCode__1jj5B"}},,,function(e,t,n){e.exports={Block:"Block_Block__1kJyh",Odd:"Block_Odd__2xFZf",Row:"Block_Row__11Olq"}},function(e,t,n){e.exports={Modal:"Modal_Modal__31OI7",Show:"Modal_Show__d05bc",Close:"Modal_Close__IQjCe"}},function(e,t,n){e.exports={Button:"Button_Button__2Ajf-",On:"Button_On__3d77T",Off:"Button_Off__R9f9J"}},,,,,function(e,t,n){e.exports={SudokuBoard:"Board_SudokuBoard__3cPYp",Row:"Board_Row__2r5V5"}},function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__Vem4f",Absolute:"Backdrop_Absolute__Z8lxG"}},function(e,t,n){e.exports={NewGame:"NewGame_NewGame__2hKIv",Error:"NewGame_Error__mao55"}},,,,,,,,,,,function(e,t,n){e.exports={Pointer:"Arrow_Pointer__1rYd7"}},function(e,t,n){e.exports={Spinner:"Loading_Spinner__1CFco"}},function(e,t,n){e.exports={Loader:"Spinner_Loader__1twK-",load2:"Spinner_load2__2gkgc"}},,function(e,t,n){e.exports={Sudoku:"Sudoku_Sudoku__3acWS",Menu:"Sudoku_Menu__1l9tJ",Board:"Sudoku_Board__rWs6R",Controls:"Sudoku_Controls__2JIvy",Info:"Sudoku_Info__2OByE"}},,function(e,t,n){e.exports=n(61)},,,,,function(e,t,n){},,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getDigitLocalPos",(function(){return M})),n.d(a,"blockShape",(function(){return H})),n.d(a,"blocks",(function(){return R})),n.d(a,"rows",(function(){return V})),n.d(a,"cols",(function(){return U})),n.d(a,"rowColToBlock",(function(){return z})),n.d(a,"blockRowColIndex",(function(){return B})),n.d(a,"blockRows",(function(){return X})),n.d(a,"blockCols",(function(){return W})),n.d(a,"rowPositions",(function(){return Y})),n.d(a,"colPositions",(function(){return Z})),n.d(a,"getPosition",(function(){return ne})),n.d(a,"getPosBlock",(function(){return ae})),n.d(a,"getBlockPositions",(function(){return re})),n.d(a,"getBlockFlattenPositions",(function(){return oe})),n.d(a,"getRowPositions",(function(){return ce})),n.d(a,"getColPositions",(function(){return ie})),n.d(a,"getRelatedBlockPositions",(function(){return le})),n.d(a,"getRelatedRowPositions",(function(){return se})),n.d(a,"getRelatedColPositions",(function(){return ue})),n.d(a,"getRelatedPositions",(function(){return fe})),n.d(a,"flattenPositions",(function(){return ve})),n.d(a,"getPositionByKey",(function(){return he})),n.d(a,"mapPositionsTo",(function(){return pe})),n.d(a,"getCell",(function(){return be})),n.d(a,"getCommonRelatedPositions",(function(){return me})),n.d(a,"findClosedPosPair",(function(){return _e}));var r=n(0),o=n.n(r),c=n(33),i=n.n(c),l=(n(48),n(3)),s=n(2),u=n(1),f=n(7),v=n(19),d=n.n(v),h=function(e){var t=e.type,n=e.onClick,a=e.disabled,r=void 0!==a&&a,c=e.children,i=[d.a.Button];return t&&i.push(d.a[t]),o.a.createElement("button",{className:i.join(" "),disabled:r,onClick:n},c)},p=n(5),b=n.n(p),k=n(8),m=n.n(k),g=function(e){return function(t){var n,a=t.color,r=t.digitClassName,c=void 0===r?"digit":r,i=t.className,l=void 0===i?"":i,s=t.children;return o.a.createElement("div",{className:"".concat(e," ").concat(c," ").concat(l),style:(n=a,n?{backgroundColor:n}:{})},s)}},_=g(m.a.Zero),y=g(m.a.One),O=g(m.a.Two),C=g(m.a.Three),j=g(m.a.Four),w=g(m.a.Five),E=g(m.a.Six),x=g(m.a.Seven),N=g(m.a.Eight),P=g(m.a.Nine),A=[o.a.createElement(_,null),o.a.createElement(y,null),o.a.createElement(O,null),o.a.createElement(C,null),o.a.createElement(j,null),o.a.createElement(w,null),o.a.createElement(E,null),o.a.createElement(x,null),o.a.createElement(N,null),o.a.createElement(P,null)],I=n(6),S=n.n(I),T=n(20),G=n(21),L=n(22),M=function(e){return[Math.floor((e-1)/3),(e-1)%3]},D=[0,1,2,3,4,5,6,7,8],H=[[0,1,2],[3,4,5],[6,7,8]],R=D,V=D,U=D,z=function(e,t){return 3*Math.floor(e/3)+Math.floor(t/3)},B=function(e,t){return e%3*3+t%3},X=function(e){var t=3*Math.floor(e/3);return[t,t+1,t+2]},W=function(e){var t=e%3*3;return[t,t+1,t+2]},F=D.map((function(e){return D.map((function(t){return{key:"r".concat(e,"c").concat(t),idx:9*e+t,row:e,col:t,block:z(e,t),toString:function(){return this.key}}}))})),Y=F,K=D.map((function(e){return D.map((function(t){return F[e].filter((function(e){return e.col!==t}))}))})),J=D.map((function(e){return D.map((function(t){return F[t][e]}))})),Z=J,Q=D.map((function(e){return D.map((function(t){return J[e].filter((function(e){return e.row!==t}))}))})),q=D.map((function(e){return X(e).map((function(t){return F[t].filter((function(t){return t.block===e}))}))})),$=D.map((function(e){var t=q[e];return[].concat(Object(s.a)(t[0]),Object(s.a)(t[1]),Object(s.a)(t[2]))})),ee=D.map((function(e){return D.map((function(t){return $[e].filter((function(e,n){return n!==t}))}))})),te=D.map((function(e){return D.map((function(t){var n=z(e,t),a=[];return F.forEach((function(r){return r.forEach((function(r){var o=r.row,c=r.col,i=r.block;e===o&&t===c&&n===i||e!==o&&t!==c&&n!==i||a.push(r)}))})),a}))})),ne=function(e,t){return F[e][t]},ae=function(e,t){return F[e][t].block},re=function(e){return q[e]},oe=function(e){return $[e]},ce=function(e){return F[e]},ie=function(e){return J[e]},le=function(e){var t=e.row,n=e.col,a=e.block;return ee[void 0===a?z(t,n):a][B(t,n)]},se=function(e){var t=e.row,n=e.col;return K[t][n]},ue=function(e){var t=e.row,n=e.col;return Q[n][t]},fe=function(e){var t=e.row,n=e.col;return te[t][n]},ve=F.flat(),de={};ve.forEach((function(e){de[e.key]=e}));var he=function(e){return de[e]},pe=function(e){return D.map((function(t){return D.map((function(n){return e(t,n)}))}))},be=function(e,t){return e[t.row][t.col]},ke=function(e,t){var n=new Set(t);return e.filter((function(e){return n.has(e)}))},me=function e(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];switch(n.length){case 0:return[];case 1:return fe(n[0]);default:var r=n[0],o=n.slice(1);return ke(fe(r),e.apply(void 0,Object(s.a)(o)))}},ge=function(e,t){var n=e.row-t.row,a=e.col-t.col;return n*n+a*a},_e=function(e,t){if(1===e.length&&1===t)return[e[0],t[0]];var n,a=Number.MAX_VALUE,r=null,o=null,c=Object(u.a)(e);try{for(c.s();!(n=c.n()).done;){var i,l=n.value,s=Object(u.a)(t);try{for(s.s();!(i=s.n()).done;){var f=i.value,v=ge(l,f);v<a&&(a=v,r=l,o=f)}}catch(d){s.e(d)}finally{s.f()}}}catch(d){c.e(d)}finally{c.f()}return[r,o]},ye=n(4),Oe=S.a.mark(Ne),Ce=S.a.mark(Re),je=S.a.mark(We),we=function(){function e(){Object(G.a)(this,e)}return Object(L.a)(e,null,[{key:"new",value:function(){for(var e=65536,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var r=0,o=n;r<o.length;r++){var c=o[r];e|=1<<c}return e}},{key:"isEmpty",value:function(e){return e===this._base}},{key:"size",value:function(e){for(var t=0,n=1;n<=9;n++)1===(1&(e>>=1))&&t++;return t}},{key:"first",value:function(t){for(var n=1;n<=9;n++)if(e.has(t,n))return n}},{key:"entries",value:function(t){for(var n=[],a=1;a<=9;a++)e.has(t,a)&&n.push(a);return n}},{key:"is",value:function(e){return 0!==(e&this._base)}},{key:"has",value:function(t,n){return e.is(t)&&0!==(t&1<<n)}},{key:"add",value:function(e,t){return e|1<<t}},{key:"delete",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];for(var r=0,o=n;r<o.length;r++){var c=o[r];e&=~(1<<c)}return e}}]),e}();we._base=65536;var Ee=function(){function e(t){var n=this;Object(G.a)(this,e),this.jump=function(e){n._curCellsIdx+=e,n._curCellsIdx<0?n._curCellsIdx=0:n._curCellsIdx>=n._cellsHistory.length&&(n._curCellsIdx=n._cellsHistory.length-1),n._notify()},this.jumpToFirst=function(){n.jump(n._curCellsIdx)},this.jumpToLast=function(){n.jump(n._cellsHistory.length)},this.subscribers=[],this._setPuzzle(t||e.defaultPuzzle)}return Object(L.a)(e,[{key:"_setPuzzle",value:function(t){this._cellsHistory=[],this._curCellsIdx=-1,this._ops=0,this._setCells(e.parse(t),"init"),this.puzzle=this.stringify()}},{key:"_setCells",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._curCellsIdx+1<this._cellsHistory.length&&(this._cellsHistory=this._cellsHistory.slice(0,this._curCellsIdx+1)),this._cellsHistory.push({idx:this._ops,cells:e,desc:t}),this._curCellsIdx++,this._ops++}},{key:"subscribe",value:function(e){this.subscribers.push(e)}},{key:"unsubscribe",value:function(e){this.subscribers=this.subscribers.filter((function(t){return t!==e}))}},{key:"_notify",value:function(){var e,t=Object(u.a)(this.subscribers);try{for(t.s();!(e=t.n()).done;){(0,e.value)((function(e){return e+1}))}}catch(n){t.e(n)}finally{t.f()}}},{key:"stringify",value:function(){var e,t=[],n=Object(u.a)(ve);try{for(n.s();!(e=n.n()).done;){var a=e.value,r=this.getCell(a),o=r.origin,c=r.value;we.is(c)?we.isEmpty(c)?t.push("0"):t.push.apply(t,["n"].concat(Object(s.a)(we.entries(c)),["N"])):o?t.push(c):t.push("p",c)}}catch(i){n.e(i)}finally{n.f()}return t.join("")}},{key:"calcAvailableDigits",value:function(e){var t=new Set([1,2,3,4,5,6,7,8,9]);if(!e)return t;if(this.getCell(e).origin)return new Set;var n,a=Object(u.a)(fe(e));try{for(a.s();!(n=a.n()).done;){var r=n.value,o=this.getCell(r).value;we.is(o)||t.delete(o)}}catch(c){a.e(c)}finally{a.f()}return t}},{key:"calcRemainingDigits",value:function(){var e,t={1:9,2:9,3:9,4:9,5:9,6:9,7:9,8:9,9:9},n=Object(u.a)(ve);try{for(n.s();!(e=n.n()).done;){var a=e.value,r=this.getCell(a).value;we.is(r)||t[r]--}}catch(o){n.e(o)}finally{n.f()}return t}},{key:"calcAvailablePositions",value:function(e){if(!(e>=1&&e<=9))return null;var t,n=pe((function(){return!0})),a=Object(u.a)(ve);try{for(a.s();!(t=a.n()).done;){var r=t.value,o=this.getCell(r).value;if(!we.is(o)&&(n[r.row][r.col]=!1,o===e)){var c,i=Object(u.a)(fe(r));try{for(i.s();!(c=i.n()).done;){var l=c.value,s=l.row,f=l.col;n[s][f]=!1}}catch(v){i.e(v)}finally{i.f()}}}}catch(v){a.e(v)}finally{a.f()}return n}},{key:"_txSetCellValue",value:function(e,t,n){var a=t.row,r=t.col;if(n===this.getCell(t).value)return e;var o=this.getCurCells();if(e===o&&(e=Object(s.a)(o)),e[a]===o[a]&&(e[a]=Object(s.a)(o[a])),e[a][r]===o[a][r]&&(e[a][r]=Object(T.a)({},o[a][r])),e[a][r].value=n,!we.is(n)){var c,i=Object(u.a)(fe(t));try{for(i.s();!(c=i.n()).done;){var l=c.value,f=this.getCell(l);we.is(f.value)&&(e=this._txSetCellValue(e,l,we.delete(f.value,n)))}}catch(v){i.e(v)}finally{i.f()}}return e}},{key:"getCurCells",value:function(){return this._txCells?this._txCells:this.cells}},{key:"getCell",value:function(e){var t=e.row,n=e.col;return this.getCurCells()[t][n]}},{key:"_startTx",value:function(){this._txCells||(this._txCells=this.getCurCells())}},{key:"_commit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._txCells&&this._txCells!==this.cells&&(this._setCells(this._txCells,e),this._txCells=null,this._notify())}},{key:"setCellValue",value:function(e,t){this._startTx(),this._txCells=this._txSetCellValue(this._txCells,e,t)}},{key:"_handlActions",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t){case e.actions.RESET:this._setPuzzle(this.puzzle);break;case e.actions.NOTE:this._note(n);break;case e.actions.AUTO_NOTE:this._autoNote();break;case e.actions.AUTO_PLACE:this._autoPlace();break;case e.actions.AUTO_POINTING:this._autoPointing();break;case e.actions.AUTO_CLAIMING:this._autoClaiming();break;case e.actions.AUTO_PLACE_POINTING_CLAIMING:this._autoPlacePointingClaiming();break;case e.actions.UPDATE_CELL_VALUE:this._updateCellValue(n);break;case e.actions.ELIMINATE_GROUP:this._eliminateGroup(n);break;case e.actions.ELIMINATE_XGROUP:this._eliminateXGroup(n);break;case e.actions.ELIMINATE_CHAIN:this._eliminateChain(n);break;case e.actions.HANDLE_TIP:this._handleTip(n)}}},{key:"dispatch",value:function(e,t,n){(n=Object(T.a)({commit:!0,log:!0},n||{})).log&&(ye.a.group("[".concat(e,"]")),t&&ye.a.log("->payload:",t),n&&ye.a.log("->options:",n)),this._startTx(),this._handlActions(e,t,n),n.log&&ye.a.groupEnd(),n.commit&&this._commit(e)}},{key:"reset",value:function(){this.dispatch(e.actions.RESET)}},{key:"note",value:function(t){this.dispatch(e.actions.NOTE,{pos:t})}},{key:"updateCellValue",value:function(t,n,a){this.dispatch(e.actions.UPDATE_CELL_VALUE,{isNoting:t,pos:n,value:a})}},{key:"autoNote",value:function(){this.dispatch(e.actions.AUTO_NOTE)}},{key:"autoPlacePointingClaiming",value:function(){this.dispatch(e.actions.AUTO_PLACE_POINTING_CLAIMING)}},{key:"autoPlace",value:function(){this.dispatch(e.actions.AUTO_PLACE)}},{key:"autoPointing",value:function(){this.dispatch(e.actions.AUTO_POINTING)}},{key:"autoClaiming",value:function(){this.dispatch(e.actions.AUTO_CLAIMING)}},{key:"eliminateGroup",value:function(t){this.dispatch(e.actions.ELIMINATE_GROUP,{group:t})}},{key:"eliminateXGroup",value:function(t){this.dispatch(e.actions.ELIMINATE_XGROUP,{tip:t})}},{key:"eliminateChain",value:function(t){this.dispatch(e.actions.ELIMINATE_CHAIN,{tip:t})}},{key:"handleTip",value:function(t){this.dispatch(e.actions.HANDLE_TIP,{tip:t})}},{key:"_note",value:function(e){var t=e.pos,n=this.getCell(t).value;we.is(n)&&this.setCellValue(t,we.new.apply(we,Object(s.a)(this.calcAvailableDigits(t))))}},{key:"_autoNote",value:function(){var t,n=Object(u.a)(ve);try{for(n.s();!(t=n.n()).done;){var a=t.value;this.dispatch(e.actions.NOTE,{pos:a},{commit:!1,log:!1})}}catch(r){n.e(r)}finally{n.f()}}},{key:"_autoPlacePointingClaiming",value:function(){try{var t=0;do{t=0,t+=this._autoPlace(),this._commit(e.actions.AUTO_PLACE),t+=this._autoPointing(),this._commit(e.actions.AUTO_POINTING),t+=this._autoClaiming(),this._commit(e.actions.AUTO_CLAIMING)}while(t>0)}catch(n){ye.a.log(n)}}},{key:"_autoPlace",value:function(){var t=0,n=!1;ye.a.group("[auto place]");do{n=!1;for(var a=0,r=[0,1];a<r.length;a++){var o,c=r[a],i=Object(u.a)(Re(this.getCurCells(),1,c));try{for(i.s();!(o=i.n()).done;){var l=o.value;this.dispatch(e.actions.ELIMINATE_GROUP,{group:l},{commit:!1}),t++,n=!0;break}}catch(s){i.e(s)}finally{i.f()}}}while(n);return ye.a.groupEnd(),t}},{key:"_autoPointing",value:function(){var t=0;ye.a.group("[auto pointing]");var n,a=Object(u.a)(We(this.getCurCells(),1,{br:!0,bc:!0}));try{for(a.s();!(n=a.n()).done;){var r=n.value;ye.a.log(r),this.dispatch(e.actions.ELIMINATE_XGROUP,{tip:r},{commit:!1}),t++}}catch(o){a.e(o)}finally{a.f()}return ye.a.groupEnd(),t}},{key:"_autoClaiming",value:function(){var t=0;ye.a.group("[auto claiming]");var n,a=Object(u.a)(We(this.getCurCells(),1,{rb:!0,cb:!0}));try{for(a.s();!(n=a.n()).done;){var r=n.value;this.dispatch(e.actions.ELIMINATE_XGROUP,{tip:r},{commit:!1}),t++}}catch(o){a.e(o)}finally{a.f()}return ye.a.groupEnd(),t}},{key:"_updateCellValue",value:function(e){var t=e.isNoting,n=e.pos,a=e.value;t?this._noteCellValue(n,a):this._placeCellValue(n,a)}},{key:"_placeCellValue",value:function(e,t){var n=this.getCell(e);n.origin||(n.value===t&&(t=we.new()),this.setCellValue(e,t))}},{key:"_noteCellValue",value:function(e,t){var n=this.getCell(e).value;if(we.is(n)){var a=n;a=we.has(a,t)?we.delete(a,t):we.add(a,t),this.setCellValue(e,a)}}},{key:"findGroup",value:function(){for(var e=1;e<=8;e++)for(var t=0,n=[0,1];t<n.length;t++){var a,r=n[t],o=Object(u.a)(Re(this.getCurCells(),e,r));try{for(o.s();!(a=o.n()).done;){var c=a.value;return c.type="group",c}}catch(i){o.e(i)}finally{o.f()}}}},{key:"_eliminateGroup",value:function(e){var t=this,n=e.group;if(1===n.n){var a=Object(s.a)(n.poses)[0],r=Object(s.a)(n.notes)[0];this.setCellValue(a,r)}else if(0===n.cls){var o=[];"row"===n.domain?o=ce(n.row):"col"===n.domain?o=ie(n.col):"block"===n.domain&&(o=oe(n.block)),o=o.filter((function(e){var a=t.getCell(e).value;return!(!we.is(a)||n.poses.has(e))}));var c,i=Object(u.a)(o);try{for(i.s();!(c=i.n()).done;){var l=c.value,f=this.getCell(l).value;this.setCellValue(l,we.delete.apply(we,[f].concat(Object(s.a)(n.notes))))}}catch(b){i.e(b)}finally{i.f()}}else if(1===n.cls){var v,d=Object(u.a)(n.poses);try{for(d.s();!(v=d.n()).done;){var h=v.value,p=this.getCell(h).value;this.setCellValue(h,we.new.apply(we,Object(s.a)(we.entries(p).filter((function(e){return n.notes.has(e)})))))}}catch(b){d.e(b)}finally{d.f()}}}},{key:"findXGroup",value:function(){for(var e=1;e<=8;e++){var t,n=Object(u.a)(We(this.getCurCells(),e));try{for(n.s();!(t=n.n()).done;){var a=t.value;return a.type="X-Group",a}}catch(r){n.e(r)}finally{n.f()}}}},{key:"_eliminateXGroup",value:function(e){var t=e.tip,n=[];if("row"===t.effect){var a,r=Object(u.a)(t.rows);try{for(r.s();!(a=r.n()).done;){var o=a.value;n.push.apply(n,Object(s.a)(ce(o)))}}catch(m){r.e(m)}finally{r.f()}}else if("col"===t.effect){var c,i=Object(u.a)(t.cols);try{for(i.s();!(c=i.n()).done;){var l=c.value;n.push.apply(n,Object(s.a)(ie(l)))}}catch(m){i.e(m)}finally{i.f()}}else if("block"===t.effect){var f,v=Object(u.a)(t.blocks);try{for(v.s();!(f=v.n()).done;){var d=f.value;n.push.apply(n,Object(s.a)(oe(d)))}}catch(m){v.e(m)}finally{v.f()}}for(var h=0,p=n;h<p.length;h++){var b=p[h],k=this.getCell(b).value;we.is(k)&&!t.poses.has(b)&&this.setCellValue(b,we.delete(k,t.d))}}},{key:"findTip",value:function(){var e=this.getCurCells();return this.findGroup(e)||this.findXGroup(e)||this.findChain(e)}},{key:"_handleTip",value:function(e){var t=e.tip;"group"===t.type?this.eliminateGroup(t):"X-Group"===t.type?this.eliminateXGroup(t):"chain"===t.type&&this.eliminateChain(t)}},{key:"findChain",value:function(){var e=this.getCurCells(),t=function(e){var t,n=function(e){for(var t={},n=0,a=[["row",Y],["col",Z]];n<a.length;n++){var r,o=Object(l.a)(a[n],2),c=o[0],i=o[1],s=Object(u.a)(i);try{for(s.s();!(r=s.n()).done;){var f,v=r.value,d={},h=0,p=Object(u.a)(v);try{for(p.s();!(f=p.n()).done;){var b=f.value;h=b[c];var k=be(e,b).value;if(we.is(k)){var m,g=Object(ye.c)(d,b.block,{}),_=Object(u.a)(we.entries(k));try{for(_.s();!(m=_.n()).done;){var y=m.value;Object(ye.c)(g,y,[]).push(b)}}catch(L){_.e(L)}finally{_.f()}}}}catch(L){p.e(L)}finally{p.f()}for(var O=0,C=Object.entries(d);O<C.length;O++)for(var j=Object(l.a)(C[O],2),w=j[0],E=j[1],x=0,N=Object.entries(E);x<N.length;x++){var P=Object(l.a)(N[x],2),A=P[0],I=P[1],S=parseInt(w),T=parseInt(A),G=Object(ye.c)(t,T,[]);I.length>1?G.push(Ae(c,h,S,I,T)):function(){var e=I[0],t=G.filter((function(t){return t.pos===e}))[0];t||(t=Ae(c,h,S,I,T),G.push(t)),t.domain.add(c),t[c]=h}()}}}catch(L){s.e(L)}finally{s.f()}}return t}(e),a={},r={},o=Object(u.a)(ve);try{for(o.s();!(t=o.n()).done;){var c=t.value,i=be(e,c).value;if(we.is(i)){var s,f=we.entries(i),v=Object(u.a)(f);try{var d=function(){var t=s.value;Object(ye.c)(r,t,[]).push(c);var o=Object(ye.c)(a,t,{}),i=De(e,t,c);o[c]=i,i.group=Me(n[t],c,t);var l=f.filter((function(e){return e!==t}));i.cell={false:2===f.length?l:[],true:l}};for(v.s();!(s=v.n()).done;)d()}catch(w){v.e(w)}finally{v.f()}}}}catch(w){o.e(w)}finally{o.f()}for(var h=0,p=Object.entries(n);h<p.length;h++){var b,k=Object(l.a)(p[h],2),m=k[0],g=k[1],_=parseInt(m),y=Object(ye.c)(a,_,{}),O=Object(u.a)(g.filter((function(e){return e.isGroup})));try{for(O.s();!(b=O.n()).done;){var C=b.value,j=De(e,_,C);y[C]=j,j.group=Me(n[_],C),j.cell={false:[],true:[]}}}catch(w){O.e(w)}finally{O.f()}}return[r,n,a]}(e),n=Object(l.a)(t,3),a=n[0],r=n[1],o=n[2];ye.a.log("chain info:",r,o);for(var c=0,i=[20,Number.MAX_VALUE];c<i.length;c++)for(var s=i[c],f=0,v=[!1,!0];f<v.length;f++)for(var d=v[f],h=0,p=[!1,!0];h<p.length;h++)for(var b=p[h],k=0,m=[function(e){return a[e]||[]},function(e){return(r[e]||[]).filter((function(e){return e.isGroup}))}];k<m.length;k++){for(var g=m[k],_=null,y=s,O=1;O<=9;O++){var C,j=Object(u.a)(g(O));try{for(j.s();!(C=j.n()).done;){var w,E=C.value,x={pos:E,d:O,val:!1},N={dLinks:o,cells:e,td:O,tryGroupLinks:b,tryCellLinks:d,maxLength:y},P=Object(u.a)(Ne([],x,N));try{for(P.s();!(w=P.n()).done;){var A=w.value;A.chain.length<y&&(y=(_=A).chain.length,N.maxLength=y)}}catch(H){P.e(H)}finally{P.f()}}}catch(H){j.e(H)}finally{j.f()}}if(_){_.type="chain";var I,S=_.d,T=!1,G=!1,L=Object(u.a)(_.chain);try{for(L.s();!(I=L.n()).done;){var M=I.value;if(M.d!==S&&(T=!0),M.pos.isGroup&&(G=!0),T&&G)break}}catch(H){L.e(H)}finally{L.f()}var D=[_.chain.length-1];return G&&D.push("Group"),D.push(T?"XY":"X","Chain"),_.name=D.join("-"),_}}}},{key:"_eliminateChain",value:function(e){var t,n=e.tip,a=Object(u.a)(n.effectedPoses);try{for(a.s();!(t=a.n()).done;){var r=t.value,o=this.getCell(r).value;if(we.is(o)){var c=o;c=n.keep?we.new.apply(we,Object(s.a)(n.keepDs)):we.delete(o,n.d),this.setCellValue(r,c)}}}catch(i){a.e(i)}finally{a.f()}}},{key:"initialPuzzle",get:function(){return this.puzzle}},{key:"cells",get:function(){return this._cellsHistory[this._curCellsIdx].cells}},{key:"cellsRecord",get:function(){return this._cellsHistory[this._curCellsIdx]}},{key:"hasPrev",get:function(){return this._curCellsIdx>0}},{key:"hasNext",get:function(){return this._curCellsIdx<this._cellsHistory.length-1}}],[{key:"parse",value:function(t){if(!t||t.length<81)throw new Error("bad sudoku puzzle format [".concat(t,"]"));var n=t.match(e.cellPattern);if(81!==n.length)throw new Error("bad sudoku puzzle format [".concat(t,"]"));for(var a=n.map((function(t){if(t.startsWith("n")&&t.endsWith("N")){var n=t.slice(1,-1).split("").map((function(e){return parseInt(e)}));return{value:we.new.apply(we,Object(s.a)(n))}}if(t.startsWith("p"))return{value:parseInt(t[1])};if(e.valuePattern.test(t))return{value:parseInt(t),origin:!0};if("0"===t)return{value:we.new()};throw new Error("impossible")})),r=Array.from(new Array(9)).map((function(){return new Array(9)})),o=0;o<9;o++)for(var c=0;c<9;c++)r[o][c]=a[9*o+c];return r}}]),e}();Ee.defaultPuzzle="\n  000000000 000000000 000000000\n  000000000 000000000 000000000\n  000000000 000000000 000000000\n",Ee.cellPattern=/(\d)|(p\d)|(n[1-9]*N)/g,Ee.valuePattern=/^[1-9]$/,Ee.actions={RESET:"RESET",NOTE:"NOTE",UPDATE_CELL_VALUE:"UPDATE_CELL_VALUE",AUTO_NOTE:"AUTO_NOTE",AUTO_POINTING:"AUTO_POINTING",AUTO_CLAIMING:"AUTO_CLAIMING",AUTO_PLACE:"AUTO_PLACE",AUTO_PLACE_POINTING_CLAIMING:"AUTO_PLACE_POINTING_CLAIMING",ELIMINATE_GROUP:"ELIMINATE_GROUP",ELIMINATE_XGROUP:"ELIMINATE_XGROUP",ELIMINATE_CHAIN:"ELIMINATE_CHAIN",HANDLE_TIP:"HANDLE_TIP"};var xe=function(e,t){return void 0!==e&&e===t};function Ne(e,t,n){var r,o,c,i,l,f,v,d,h,p,b,k,m,g,_,y,O,C,j,w,E,x,N,P,A,I,T,G;return S.a.wrap((function(L){for(;;)switch(L.prev=L.next){case 0:if(!(e.length+1>=n.maxLength)){L.next=2;break}return L.abrupt("return");case 2:if(r=t.pos,o=t.d,c=t.val,i=n.dLinks,l=n.cells,f=n.td,!0!==c){L.next=35;break}if(o!==f){L.next=18;break}v=new Set,d=e[0].pos,h=[],d.isGroup?h.push.apply(h,Object(s.a)(d.poses)):h.push(d),r.isGroup?h.push.apply(h,Object(s.a)(r.poses)):h.push(r),p=Object(u.a)(me.apply(a,h));try{for(p.s();!(b=p.n()).done;)k=b.value,m=be(l,k),g=m.value,we.has(g,o)&&v.add(k)}catch(M){p.e(M)}finally{p.f()}if(!(v.size>0)){L.next=16;break}return L.next=16,{chain:[].concat(Object(s.a)(e),[t]),effectedPoses:v,d:f};case 16:L.next=35;break;case 18:if((_=e[0].pos).key!==r.key){L.next=23;break}return L.delegateYield(S.a.mark((function n(){var a,c,i,v,d,h,p;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=r.isGroup?[].concat(Object(s.a)(r.poses),Object(s.a)(_.poses)):[r],c=new Set,i=Object(u.a)(a);try{for(i.s();!(v=i.n()).done;)d=v.value,h=be(l,d),p=h.value,we.entries(p).forEach((function(e){return c.add(e)}))}catch(M){i.e(M)}finally{i.f()}if(!(c.size>2)){n.next=9;break}return c.delete(o),c.delete(f),n.next=9,{chain:[].concat(Object(s.a)(e),[t]),effectedPoses:new Set(a),d:f,effectedDs:c,keep:!0,keepDs:[o,f]};case 9:case"end":return n.stop()}}),n)}))(),"t0",21);case 21:L.next=35;break;case 23:if(r.isGroup){L.next=32;break}if(_.isGroup&&new Set(_.poses).has(r)){L.next=30;break}if(!(xe(r.row,_.row)||xe(r.col,_.col)||xe(r.block,_.block))){L.next=30;break}if(y=be(l,r),O=y.value,!we.has(O,f)){L.next=30;break}return L.next=30,{chain:[].concat(Object(s.a)(e),[t]),effectedPoses:new Set([r]),d:f};case 30:L.next=35;break;case 32:if(Se(r.poses,_.isGroup?_.poses:[_])){L.next=35;break}if(!(xe(r.row,_.row)||xe(r.col,_.col)||xe(r.block,_.block))){L.next=35;break}return L.delegateYield(S.a.mark((function n(){var a,o,c,i,v,d;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=new Set,o=Object(u.a)(r.poses);try{for(o.s();!(c=o.n()).done;)i=c.value,v=be(l,i),d=v.value,we.entries(d).forEach((function(e){return a.add(e)}))}catch(M){o.e(M)}finally{o.f()}if(!a.has(f)){n.next=6;break}return n.next=6,{chain:[].concat(Object(s.a)(e),[t]),effectedPoses:new Set(r.poses),d:f};case 6:case"end":return n.stop()}}),n)}))(),"t1",35);case 35:C=0,j=[i[o][r][c],n.tryGroupLinks?i[o][r].group[c]:[]];case 36:if(!(C<j.length)){L.next=60;break}w=j[C],E=Object(u.a)(w),L.prev=39,E.s();case 41:if((x=E.n()).done){L.next=49;break}if(N=x.value,!Pe(e,P={pos:N,val:!c,d:o})){L.next=46;break}return L.abrupt("continue",47);case 46:return L.delegateYield(Ne([].concat(Object(s.a)(e),[t]),P,n),"t2",47);case 47:L.next=41;break;case 49:L.next=54;break;case 51:L.prev=51,L.t3=L.catch(39),E.e(L.t3);case 54:return L.prev=54,E.f(),L.finish(54);case 57:C++,L.next=36;break;case 60:if(!n.tryCellLinks){L.next=80;break}A=Object(u.a)(i[o][r].cell[c]),L.prev=62,A.s();case 64:if((I=A.n()).done){L.next=72;break}if(T=I.value,!Pe(e,G={pos:r,val:!c,d:T})){L.next=69;break}return L.abrupt("continue",70);case 69:return L.delegateYield(Ne([].concat(Object(s.a)(e),[t]),G,n),"t4",70);case 70:L.next=64;break;case 72:L.next=77;break;case 74:L.prev=74,L.t5=L.catch(62),A.e(L.t5);case 77:return L.prev=77,A.f(),L.finish(77);case 80:case"end":return L.stop()}}),Oe,null,[[39,51,54,57],[62,74,77,80]])}var Pe=function(e,t){var n,a=Object(u.a)(e);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(r.val===t.val&&r.d===t.d){if(r.pos===t.pos)return!0;if(r.pos.isGroup&&new Set(r.pos.poses).has(t.pos))return!0;if(t.pos.isGroup&&new Set(t.pos.poses).has(r.pos))return!0}}}catch(o){a.e(o)}finally{a.f()}return!1},Ae=function(e,t,n,a,r){var o,c;if(a.length>1)return c={key:"".concat(r,"@").concat(e).concat(t,"block").concat(n),d:r,isGroup:!0,domain:new Set([e])},Object(f.a)(c,e,t),Object(f.a)(c,"block",n),Object(f.a)(c,"poses",a),Object(f.a)(c,"toString",(function(){return this.key})),c;var i=a[0];return o={key:i.key,d:r,isGroup:!1,domain:new Set([e])},Object(f.a)(o,e,t),Object(f.a)(o,"block",n),Object(f.a)(o,"pos",i),Object(f.a)(o,"poses",a),Object(f.a)(o,"toString",(function(){return this.key})),o},Ie=function(e){return e.isGroup?e.poses:[e]};var Se=function(e,t){var n=new Set(t);return e.filter((function(e){return n.has(e)})).length>0},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter((function(e){return void 0!==t.row&&e.row===t.row&&e.key!==t.key}))},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter((function(e){return void 0!==t.col&&e.col===t.col&&e.key!==t.key}))},Le=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,a=t.filter((function(e){return e.block===n.block&&e.key!==n.key&&!Se(e.poses,n.isGroup?n.poses:[n])})),r=a.filter((function(e){return e.isGroup})),o=Object(u.a)(a.filter((function(e){return!e.isGroup})));try{for(o.s();!(e=o.n()).done;){var c,i=e.value,l=!0,s=Object(u.a)(r);try{for(s.s();!(c=s.n()).done;){var f=c.value;if(Se(f.poses,i.poses)){l=!1;break}}}catch(v){s.e(v)}finally{s.f()}l&&r.push(i)}}catch(v){o.e(v)}finally{o.f()}return r};function Me(e,t,n){for(var a=new Set,r=new Set,o=0,c=[["row",Te],["col",Ge],["block",Le]];o<c.length;o++){var i=Object(l.a)(c[o],2),f=i[0],v=i[1];if(!t.isGroup||"block"===f||t.domain.has(f)){var d,h=0,p=null,b=Object(u.a)(v(e,t));try{for(b.s();!(d=b.n()).done;){var k=d.value;h++,k.isGroup&&(t.isGroup?(r.add(k),p=k):new Set(k.poses).has(t)||(r.add(k),p=k))}}catch(m){b.e(m)}finally{b.f()}1===h&&p&&a.add(p)}}return{false:Object(s.a)(a),true:Object(s.a)(r)}}function De(e,t,n){for(var a=new Set,r=new Set,o=function(){var o=Object(l.a)(i[c],2),s=o[0],f=o[1],v=n,d=new Set;if(n.isGroup){if("block"!==s&&!n.domain.has(s))return"continue";v=n.poses[0],d=new Set(n.poses)}var h,p=0,b=null,k=Object(u.a)(f(v).filter((function(e){return!d.has(e)})));try{for(k.s();!(h=k.n()).done;){var m=h.value,g=be(e,m).value;we.has(g,t)&&(r.add(m),p++,b=m)}}catch(_){k.e(_)}finally{k.f()}1===p&&a.add(b)},c=0,i=[["row",se],["col",ue],["block",le]];c<i.length;c++)o();return{false:Object(s.a)(a),true:Object(s.a)(r)}}function He(e,t){var n,a=[],r=Object(u.a)(t);try{for(r.s();!(n=r.n()).done;){var o=n.value,c=e[o.row][o.col].value;if(we.is(c)){var i,l=Object(u.a)(we.entries(c));try{for(l.s();!(i=l.n()).done;){var s=i.value;a.push([o,s])}}catch(f){l.e(f)}finally{l.f()}}}}catch(f){r.e(f)}finally{r.f()}return a}function Re(e,t,n){var a,r,o,c,i,l,s,f,v,d,h,p,b,k,m,g,_,y,O,C,j,w,E,x,N,P,A;return S.a.wrap((function(I){for(;;)switch(I.prev=I.next){case 0:a=Object(u.a)(V),I.prev=1,a.s();case 3:if((r=a.n()).done){I.next=27;break}o=r.value,c=He(e,ce(o)),i=Object(u.a)(Object(ye.b)(c,t,n,{checkClear:t>1})),I.prev=7,i.s();case 9:if((l=i.n()).done){I.next=17;break}return s=l.value,f=s[n],v=s[(n+1)%2],I.next=15,{cls:n,n:t,domain:"row",row:o,poses:f,notes:v,name:["naked","hidden"][n]+"-".concat(t,"-group")};case 15:I.next=9;break;case 17:I.next=22;break;case 19:I.prev=19,I.t0=I.catch(7),i.e(I.t0);case 22:return I.prev=22,i.f(),I.finish(22);case 25:I.next=3;break;case 27:I.next=32;break;case 29:I.prev=29,I.t1=I.catch(1),a.e(I.t1);case 32:return I.prev=32,a.f(),I.finish(32);case 35:d=Object(u.a)(U),I.prev=36,d.s();case 38:if((h=d.n()).done){I.next=62;break}p=h.value,b=He(e,ie(p)),k=Object(u.a)(Object(ye.b)(b,t,n,{checkClear:t>1})),I.prev=42,k.s();case 44:if((m=k.n()).done){I.next=52;break}return g=m.value,_=g[n],y=g[(n+1)%2],I.next=50,{cls:n,n:t,domain:"col",col:p,poses:_,notes:y,name:["naked","hidden"][n]+"-".concat(t,"-group")};case 50:I.next=44;break;case 52:I.next=57;break;case 54:I.prev=54,I.t2=I.catch(42),k.e(I.t2);case 57:return I.prev=57,k.f(),I.finish(57);case 60:I.next=38;break;case 62:I.next=67;break;case 64:I.prev=64,I.t3=I.catch(36),d.e(I.t3);case 67:return I.prev=67,d.f(),I.finish(67);case 70:O=Object(u.a)(R),I.prev=71,O.s();case 73:if((C=O.n()).done){I.next=97;break}j=C.value,w=He(e,oe(j)),E=Object(u.a)(Object(ye.b)(w,t,n,{checkClear:t>1})),I.prev=77,E.s();case 79:if((x=E.n()).done){I.next=87;break}return N=x.value,P=N[n],A=N[(n+1)%2],I.next=85,{cls:n,n:t,domain:"block",block:j,poses:P,notes:A,name:["naked","hidden"][n]+"-".concat(t,"-group")};case 85:I.next=79;break;case 87:I.next=92;break;case 89:I.prev=89,I.t4=I.catch(77),E.e(I.t4);case 92:return I.prev=92,E.f(),I.finish(92);case 95:I.next=73;break;case 97:I.next=102;break;case 99:I.prev=99,I.t5=I.catch(71),O.e(I.t5);case 102:return I.prev=102,O.f(),I.finish(102);case 105:case"end":return I.stop()}}),Ce,null,[[1,29,32,35],[7,19,22,25],[36,64,67,70],[42,54,57,60],[71,99,102,105],[77,89,92,95]])}var Ve=function(e,t){return function(n,a){for(var r=[],o=0;o<9;o++){var c,i=Object(u.a)(e(o));try{for(i.s();!(c=i.n()).done;){var l=c.value,s=n[l.row][l.col].value;we.is(s)&&(we.has(s,a)&&r.push([o,t(l)]))}}catch(f){i.e(f)}finally{i.f()}}return r}},Ue=Ve(ce,(function(e){return e.col})),ze=Ve(ce,(function(e){return z(e.row,e.col)})),Be=Ve(ie,(function(e){return z(e.row,e.col)})),Xe=function(e,t,n){var a,r=[],o=Object(u.a)(n);try{for(o.s();!(a=o.n()).done;){var c=a.value,i=e[c.row][c.col].value;we.is(i)&&we.has(i,t)&&r.push(c)}}catch(l){o.e(l)}finally{o.f()}return r};function We(e,t){var n,a,r,o,c,i,f,v,d,h,p,b,k,m,g,_,y,O,C,j,w,E,x,N,P,A,I,T,G,L,M,D,H,R,V,U,z,B,X,W,F,Y,K,J,Z,Q,q,$,ee,te,ne,ae,re,le,se,ue,fe,ve,de,he,pe,be,ke,me,ge,_e,Oe,Ce,we,Ee,xe,Ne,Pe,Ae,Ie=arguments;return S.a.wrap((function(S){for(;;)switch(S.prev=S.next){case 0:n=Ie.length>2&&void 0!==Ie[2]?Ie[2]:{rc:!0,cr:!0,rb:!0,br:!0,cb:!0,bc:!0},a=1;case 2:if(!(a<=9)){S.next=152;break}if(!n.rc&&!n.cr){S.next=53;break}if(r=Ue(e,a),!n.rc){S.next=29;break}o=Object(u.a)(Object(ye.b)(r,t,0)),S.prev=7,o.s();case 9:if((c=o.n()).done){S.next=21;break}i=c.value,f=Object(l.a)(i,2),v=f[0],d=f[1],h=[],p=!0,b=Object(u.a)(v);try{for(b.s();!(k=b.n()).done;)m=k.value,(g=Xe(e,a,ce(m))).length!==t&&(p=!1),h.push.apply(h,Object(s.a)(g))}catch(je){b.e(je)}finally{b.f()}return _="".concat(t,p?"-X-Wing":"-XRC-Group"),S.next=19,{name:_,domain:"row",effect:"col",rows:v,cols:d,poses:new Set(h),d:a};case 19:S.next=9;break;case 21:S.next=26;break;case 23:S.prev=23,S.t0=S.catch(7),o.e(S.t0);case 26:return S.prev=26,o.f(),S.finish(26);case 29:if(!n.cr){S.next=53;break}y=Object(u.a)(Object(ye.b)(r,t,1)),S.prev=31,y.s();case 33:if((O=y.n()).done){S.next=45;break}C=O.value,j=Object(l.a)(C,2),w=j[0],E=j[1],x=[],N=!0,P=Object(u.a)(w);try{for(P.s();!(A=P.n()).done;)I=A.value,Xe(e,a,ie(I)).length!==t&&(N=!1),x.push.apply(x,Object(s.a)(Xe(e,a,ie(I))))}catch(je){P.e(je)}finally{P.f()}return T="".concat(t,N?"-X-Wing":"-XCR-Group"),S.next=43,{name:T,domain:"col",effect:"row",rows:E,cols:w,poses:new Set(x),d:a};case 43:S.next=33;break;case 45:S.next=50;break;case 47:S.prev=47,S.t1=S.catch(31),y.e(S.t1);case 50:return S.prev=50,y.f(),S.finish(50);case 53:if(!n.rb&&!n.br){S.next=101;break}if(G=ze(e,a),!n.rb){S.next=78;break}L=Object(u.a)(Object(ye.b)(G,t,0)),S.prev=57,L.s();case 59:if((M=L.n()).done){S.next=70;break}D=M.value,H=Object(l.a)(D,2),R=H[0],V=H[1],U=[],z=Object(u.a)(R);try{for(z.s();!(B=z.n()).done;)X=B.value,U.push.apply(U,Object(s.a)(Xe(e,a,ce(X))))}catch(je){z.e(je)}finally{z.f()}return W=1===t?"claiming":"".concat(t,"-XRB-Group"),S.next=68,{name:W,domain:"row",effect:"block",rows:R,blocks:V,poses:new Set(U),d:a};case 68:S.next=59;break;case 70:S.next=75;break;case 72:S.prev=72,S.t2=S.catch(57),L.e(S.t2);case 75:return S.prev=75,L.f(),S.finish(75);case 78:if(!n.br){S.next=101;break}F=Object(u.a)(Object(ye.b)(G,t,1)),S.prev=80,F.s();case 82:if((Y=F.n()).done){S.next=93;break}K=Y.value,J=Object(l.a)(K,2),Z=J[0],Q=J[1],q=[],$=Object(u.a)(Z);try{for($.s();!(ee=$.n()).done;)te=ee.value,q.push.apply(q,Object(s.a)(Xe(e,a,oe(te))))}catch(je){$.e(je)}finally{$.f()}return ne=1===t?"pointing":"".concat(t,"-XBR-Group"),S.next=91,{name:ne,domain:"block",effect:"row",rows:Q,blocks:Z,poses:new Set(q),d:a};case 91:S.next=82;break;case 93:S.next=98;break;case 95:S.prev=95,S.t3=S.catch(80),F.e(S.t3);case 98:return S.prev=98,F.f(),S.finish(98);case 101:if(!n.cb&&!n.bc){S.next=149;break}if(ae=Be(e,a),!n.cb){S.next=126;break}re=Object(u.a)(Object(ye.b)(ae,t,0)),S.prev=105,re.s();case 107:if((le=re.n()).done){S.next=118;break}se=le.value,ue=Object(l.a)(se,2),fe=ue[0],ve=ue[1],de=[],he=Object(u.a)(fe);try{for(he.s();!(pe=he.n()).done;)be=pe.value,de.push.apply(de,Object(s.a)(Xe(e,a,ie(be))))}catch(je){he.e(je)}finally{he.f()}return ke=1===t?"claiming":"".concat(t,"-XCB-Group"),S.next=116,{name:ke,domain:"col",effect:"block",cols:fe,blocks:ve,poses:new Set(de),d:a};case 116:S.next=107;break;case 118:S.next=123;break;case 120:S.prev=120,S.t4=S.catch(105),re.e(S.t4);case 123:return S.prev=123,re.f(),S.finish(123);case 126:if(!n.bc){S.next=149;break}me=Object(u.a)(Object(ye.b)(ae,t,1)),S.prev=128,me.s();case 130:if((ge=me.n()).done){S.next=141;break}_e=ge.value,Oe=Object(l.a)(_e,2),Ce=Oe[0],we=Oe[1],Ee=[],xe=Object(u.a)(Ce);try{for(xe.s();!(Ne=xe.n()).done;)Pe=Ne.value,Ee.push.apply(Ee,Object(s.a)(Xe(e,a,oe(Pe))))}catch(je){xe.e(je)}finally{xe.f()}return Ae=1===t?"pointing":"".concat(t,"-XBC-Group"),S.next=139,{name:Ae,domain:"block",effect:"col",cols:we,blocks:Ce,poses:new Set(Ee),d:a};case 139:S.next=130;break;case 141:S.next=146;break;case 143:S.prev=143,S.t5=S.catch(128),me.e(S.t5);case 146:return S.prev=146,me.f(),S.finish(146);case 149:a++,S.next=2;break;case 152:case"end":return S.stop()}}),je,null,[[7,23,26,29],[31,47,50,53],[57,72,75,78],[80,95,98,101],[105,120,123,126],[128,143,146,149]])}var Fe=function(e,t,n,a,r,o){var c=[b.a.Note];if(e===t&&c.push(b.a.ActiveValue),r){var i=null;if(n?i=r.highlights:a&&(i=r.effect),i){var l=i,s=l.posNotes,u=l.posSubNotes,f=i,v=f.notes,d=f.subNotes;s&&u&&(v=s[o],d=u[o]),v&&v.has(e)?c.push(b.a.MarkedNoteValue):d&&d.has(e)&&c.push(b.a.MarkedValue),n&&a&&r.effect.notes.has(e)&&c.push(b.a.Effected)}}return c.join(" ")},Ye=o.a.memo((function(e){var t=e.value,n=e.origin,a=e.pos,r=e.activePos,c=e.activeVal,i=e.available,l=e.showAvail,s=e.isNoting,u=e.onClick,f=e.marks,v=a.block,d=a.row,h=a.col,p=[],k=null,m=!1;if(r){var g=r.row,_=r.col,y=r.block;d===g&&h===_?(m=!0,p.push(b.a.Selected)):d!==g&&h!==_&&v!==y||p.push(b.a.Related)}var O=i;i?(p.push(b.a.Available),l&&p.push(s?b.a.Note:b.a.Place)):null===i?(p.push(b.a.Available),O=!0):s||n||t!==c||(p.push(b.a.Available),O=!0);var C=!1,j=!1,w=!1;if(f){var E=f.domain,x=f.effect,N=f.highlights;if(E){var P=E.rows,I=E.cols,S=E.blocks;P&&P.has(d)&&(j=!0),I&&I.has(h)&&(j=!0),S&&S.has(v)&&(j=!0)}if(x){var T=x.rows,G=x.cols,L=x.blocks,M=x.poses;T&&T.has(d)&&(w=!0),G&&G.has(h)&&(w=!0),L&&L.has(v)&&(w=!0),M&&M.has(a)&&(w=!0)}N&&N.poses.has(a)&&(C=!0)}if(C?(p.push(b.a.MarkedHighlight),f.highlights.withoutOutlinePoses&&f.highlights.withoutOutlinePoses.has(a)&&p.push(b.a.WithoutOutline)):j&&p.push(b.a.MarkedDomain),w&&p.push(b.a.MarkedEffect),we.is(t)){p.push(b.a.Notes);var D=t;we.size(D)>0&&(k=H.map((function(e,t){return o.a.createElement("div",{key:t,className:b.a.RowNotes},e.map((function(e){return o.a.createElement("div",{key:e,className:Fe(e+1,c,C,w,f,a)},we.has(D,e+1)?A[e+1]:null)})))})))}else p.push(b.a.Value),!n&&p.push(b.a.Placed),t!==c||m||p.push(b.a.ActiveValue),C&&f.highlights.values&&f.highlights.values.has(t)&&p.push(b.a.MarkedValue),k=A[t];return o.a.createElement("div",{className:p.join(" "),onClick:O?function(){return u(a)}:void 0},k)})),Ke=n(17),Je=n.n(Ke),Ze=function(e){var t=e.block,n=e.activePos,a=e.activeVal,r=e.cells,c=e.availableCells,i=e.cellClickedHandler,l=e.showAvail,s=e.isNoting,u=e.marks,f=t%2===1;return o.a.createElement("div",{className:"".concat(Je.a.Block," ").concat(f?Je.a.Odd:"")},re(t).map((function(e,t){return o.a.createElement("div",{key:t,className:Je.a.Row},e.map((function(e){return o.a.createElement(Ye,Object.assign({key:e.key},r[e.row][e.col],{pos:e,activePos:n,activeVal:a,available:c&&c[e.row][e.col],onClick:i,showAvail:l,isNoting:s,marks:u}))})))})))},Qe=n(9),qe=n(10);function $e(){var e=Object(Qe.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  ","\n"]);return $e=function(){return e},e}function et(){var e=Object(Qe.a)(["\n  width: ",";\n  height: 0;\n  padding-top: ","%;\n  position: relative;\n"]);return et=function(){return e},e}var tt=qe.a.div(et(),(function(e){var t=e.width;return void 0!==t?t:"auto"}),(function(e){return 100/e.ratio})),nt=qe.a.div($e(),(function(e){var t=e.fixed,n=e.scroll;return t?"\n    height: 100%;\n    overflow: ".concat(n?"scroll":"hidden",";\n  "):"\n  min-height: 100%;\n  "})),at=function(e){var t=e.ratio,n=void 0===t?1:t,a=e.fixed,r=void 0===a||a,c=e.scroll,i=void 0!==c&&c,l=e.children;return o.a.createElement(tt,{ratio:n},o.a.createElement(nt,{fixed:r,scroll:i},l))},rt=n(37),ot=n.n(rt),ct=function(e,t){var n=e.row,a=e.col,r=M(t),o=Object(l.a)(r,2),c=o[0];return[(a+(o[1]+.5)/3+.35/100)*(.985/9)+(.5*(Math.floor(a/3)+1)-.25)/100,(n+(c+.5)/3+.35/100)*(.985/9)+(.5*(Math.floor(n/3)+1)-.25)/100]};function it(){var e=Object(Qe.a)(["\n  user-select: none;\n  pointer-events: none;\n  position: absolute;\n  border-top: 2px "," red;\n  width: ","%;\n  height: ","%;\n  transform-origin: top left;\n  transform: translate(","%, ","%)\n    rotate(","deg) translate(","%);\n"]);return it=function(){return e},e}var lt=qe.a.div(it(),(function(e){return e.type}),(function(e){return 100*e.distance}),(function(e){return 100*e.distance}),(function(e){return e.x/e.distance*100}),(function(e){return e.y/e.distance*100}),(function(e){return e.deg}),(function(e){return.01/e.distance*100})),st=function(e){var t=e.type,n=void 0===t?"solid":t,a=e.startPos,r=e.startDigit,c=e.endPos,i=e.endDigit,s=ct(a,r),u=ct(c,i),f=function(e,t){var n=Object(l.a)(e,2),a=n[0],r=n[1],o=Object(l.a)(t,2),c=o[0]-a,i=o[1]-r;return Math.sqrt(c*c+i*i)}(s,u),v=function(e,t,n){var a=Object(l.a)(e,2),r=a[0],o=a[1],c=Object(l.a)(t,2),i=c[0]-r,s=c[1]-o;return Math.acos(i/n)*(s<0?-1:1)/Math.PI*180}(s,u,f);return o.a.createElement(lt,{x:s[0],y:s[1],distance:f-.02,deg:v,type:n},o.a.createElement("div",{className:ot.a.Pointer}))};function ut(){var e=Object(Qe.a)(["\n  user-select: none;\n  pointer-events: none;\n  position: absolute;\n  border: 1px solid red;\n  top: ","%;\n  left: ","%;\n  right: ","%;\n  bottom: ","%;\n"]);return ut=function(){return e},e}var ft=qe.a.div(ut(),(function(e){return 100*e.sy-.8}),(function(e){return 100*e.sx-.8}),(function(e){return 100*(1-e.ex)-.8}),(function(e){return 100*(1-e.ey)-.8})),vt=function(e){var t,n,a,r,c=e.domain,i=e.row,s=e.col,u=e.block;"row"===c?(t=a=i,r=(n=W(u)[0])+2):"col"===c&&(n=r=s,a=(t=X(u)[0])+2);var f=ct({row:t,col:n},1),v=Object(l.a)(f,2),d=v[0],h=v[1],p=ct({row:a,col:r},9),b=Object(l.a)(p,2),k=b[0],m=b[1];return o.a.createElement(ft,{sx:d,sy:h,ex:k,ey:m})},dt=n(24),ht=n.n(dt),pt=function(e){var t=e.availablePositions,n=e.cells,a=e.activeVal,r=e.activePos,c=e.cellClickedHandler,i=e.showAvail,l=e.isNoting,s=e.marks;if(r){var u=r.row,f=r.col;a=n[u][f].value}return o.a.createElement(at,{ratio:1},o.a.createElement("div",{className:ht.a.SudokuBoard},s&&s.frames&&s.frames.map((function(e){return o.a.createElement(vt,e)})),s&&s.arrows&&s.arrows.map((function(e){return o.a.createElement(st,Object.assign({key:"".concat(e.startPos,"-").concat(e.endPos)},e))})),H.map((function(e,u){return o.a.createElement("div",{key:u,className:ht.a.Row},e.map((function(e){return o.a.createElement(Ze,{key:e,block:e,cells:n,activePos:r,activeVal:a,availableCells:t,cellClickedHandler:c,showAvail:i,isNoting:l,marks:s})})))}))))},bt=n(42);function kt(){var e=Object(Qe.a)(["\n  &::before {\n    content: '';\n    width: 1px;\n    margin-left: -1px;\n    float: left;\n    height: 0;\n    padding-top: ","%;\n  }\n  &::after {\n    content: '';\n    display: table;\n    clear: both;\n  }\n"]);return kt=function(){return e},e}var mt=qe.a.div(kt(),(function(e){return 100/e.ratio})),gt=function(e){var t=e.ratio,n=void 0===t?1:t,a=e.children,r=Object(bt.a)(e,["ratio","children"]);return o.a.createElement(mt,Object.assign({ratio:n},r),a)},_t=n(11),yt=n.n(_t),Ot=o.a.memo((function(e){var t=e.isNoting,n=e.activeVal,a=e.availableDigits,c=e.remainingDigits,i=e.digitClickedHandler,l=Object(r.useCallback)((function(e){var t=[yt.a.Digit];return e===n&&t.push(yt.a.active),a.has(e)||t.push(yt.a.Disabled),t.join(" ")}),[n,a]);return o.a.createElement("div",{className:"".concat(yt.a.Digits," ").concat(t?yt.a.isNoting:"")},o.a.createElement(gt,{className:l(1),onClick:a.has(1)?function(){return i(1)}:void 0},A[1],o.a.createElement("div",{className:yt.a.Count},A[c[1]])),[2,3,4,5,6,7,8,9].map((function(e){return o.a.createElement("div",{key:e,className:l(e),onClick:a.has(e)?function(){return i(e)}:void 0},A[e],o.a.createElement("div",{className:yt.a.Count},A[c[e]]))})))})),Ct=n(12),jt=n.n(Ct),wt=function(e){var t=e.cellsRecord,n=e.hasPrev,a=e.hasNext,r=e.jump,c=e.jumpToFirst,i=e.jumpToLast,l=e.remainingDigits,s=e.activeVal,u=e.availableDigits,f=e.digitClickedHandler,v=e.showAvail,d=e.isNoting,p=e.deselectHandler,b=e.toggleShowAvailHandler,k=e.toggleIsNotingHandler,m=e.resetHandler,g=e.eraseValueHandler,_=e.autoNoteHandler,y=e.autoPlacePointingClaimingHandler,O=e.tip,C=e.tipHandler,j=e.changeChainStepHandler;return o.a.createElement("div",{className:jt.a.Controls},o.a.createElement("div",{className:jt.a.History},o.a.createElement(h,{disabled:!n,onClick:c},"first"),o.a.createElement(h,{disabled:!n,onClick:function(){return r(-1)}},"prev"),o.a.createElement("span",null,"#",t.idx),o.a.createElement(h,{disabled:!a,onClick:function(){return r(1)}},"next"),o.a.createElement(h,{disabled:!a,onClick:i},"last"),o.a.createElement("span",null,t.desc)),o.a.createElement("div",{className:jt.a.Panel},o.a.createElement(h,{onClick:m},"Reset"),o.a.createElement(h,{onClick:g},"Erase"),o.a.createElement(h,{onClick:p},"Deselect"),o.a.createElement(h,{type:v?"On":"Off",onClick:b},"Avail"),o.a.createElement(h,{type:d?"On":"Off",onClick:k},"Note")),o.a.createElement(Ot,{isNoting:d,activeVal:s,availableDigits:u,remainingDigits:l,digitClickedHandler:f}),o.a.createElement("div",{className:jt.a.Tools},o.a.createElement(h,{onClick:_},"note"),o.a.createElement(h,{onClick:y},"place/point/claim"),o.a.createElement("div",{className:jt.a.Tip},o.a.createElement(h,{type:O&&"On",onClick:C},O?O.name:"tip"),O&&"chain"===O.type&&o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:jt.a.ChainSteper,onClick:function(){return j(-1)}},"<"),o.a.createElement("span",{className:jt.a.ChainSteper,onClick:function(){return j(1)}},">")))))},Et=n(25),xt=n.n(Et),Nt=function(e){var t=e.show,n=e.onClick,a=e.absolute,r=void 0!==a&&a;if(!t)return null;var c=[xt.a.Backdrop];return r&&c.push(xt.a.Absolute),o.a.createElement("div",{className:c.join(" "),onClick:n})},Pt=n(18),At=n.n(Pt),It=o.a.memo(o.a.memo((function(e){var t=e.show,n=void 0!==t&&t,a=e.close,r=e.children,c=[At.a.Modal];return n&&c.push(At.a.Show),o.a.createElement(o.a.Fragment,null,o.a.createElement(Nt,{show:n,onClick:a}),o.a.createElement("div",{className:c.join(" ")},o.a.createElement("div",{className:At.a.Close,onClick:a},"X"),r))})),(function(e,t){return!e.show&&!t.show})),St=n(38),Tt=n.n(St),Gt=n(39),Lt=n.n(Gt),Mt=function(){return o.a.createElement("div",{className:Lt.a.Loader},"Loading...")},Dt=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Nt,{show:!0,absolute:!0}),o.a.createElement("div",{className:Tt.a.Spinner},o.a.createElement(Mt,null)))},Ht=n(40),Rt=n.n(Ht),Vt=n(14),Ut=n.n(Vt),zt=function(e){var t=e.sudoku,n=void 0===t?new Ee:t,a=e.startNewGameHandler,c=e.emptyHandler,i=Object(r.useState)(!1),v=Object(l.a)(i,2),d=v[0],p=v[1],b=Object(r.useState)(!1),k=Object(l.a)(b,2),m=k[0],g=k[1],_=Object(r.useState)(0),y=Object(l.a)(_,2)[1];Object(r.useEffect)((function(){return n.subscribe(y),function(){n.unsubscribe(y)}}),[n]);var O=Object(r.useState)({pos:null,val:0}),C=Object(l.a)(O,2),j=C[0],w=C[1],E=j.pos,x=j.val,N=Object(r.useState)(!1),P=Object(l.a)(N,2),A=P[0],I=P[1],S=Object(r.useState)(!0),T=Object(l.a)(S,2),G=T[0],L=T[1],M=Object(r.useState)(null),D=Object(l.a)(M,2),H=D[0],R=D[1],V=Object(r.useState)(2),U=Object(l.a)(V,2),z=U[0],B=U[1],X=n.cellsRecord,W=X.cells,F=Object(r.useMemo)((function(){return n.calcAvailableDigits(E,W)}),[E,n,W]),Y=Object(r.useMemo)((function(){return n.calcAvailablePositions(x,W)}),[x,n,W]),K=Object(r.useMemo)((function(){return n.calcRemainingDigits(W)}),[n,W]),J=Object(r.useCallback)((function(e){0!==x?n.updateCellValue(G,e,x):w((function(t){var n=t.pos;return n&&e===n&&(e=null),{pos:e,val:0}}))}),[x,G,n]),Z=Object(r.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)w({pos:null,val:e});else{if(!F.has(e))return;E?n.updateCellValue(G,E,e):w((function(t){var n=t.val,a=e;return n===e&&(a=0),{pos:null,val:a}}))}}),[E,F,G,n]),Q=Object(r.useCallback)((function(){w({pos:null,val:0})}),[]),q=Object(r.useCallback)((function(){window.confirm&&!window.confirm("Are you sure to reset?")||(n.reset(),Q())}),[Q,n]),$=Object(r.useCallback)((function(){E&&n.updateCellValue(!1,E,we.new())}),[E,n]),ee=Object(r.useCallback)((function(){I((function(e){return!e}))}),[]),te=Object(r.useCallback)((function(){L((function(e){return!e}))}),[]),ae=Object(r.useCallback)((function(){n.autoNote()}),[n]),re=Object(r.useCallback)((function(){n.autoPlacePointingClaiming()}),[n]),oe=Object(r.useCallback)((function(){H?(R(null),n.handleTip(H)):(p(!0),setTimeout((function(){var e=n.findTip();p(!1),e&&(ye.a.log("tip:",e),R(e),"chain"===e.type&&B(e.chain.length))}),0)),Q()}),[Q,n,H]),ce=Object(r.useCallback)((function(e,t){E&&w((function(n){var a=n.pos,r=a.row,o=a.col;return{val:0,pos:ne((r+9+e)%9,(o+9+t)%9)}}))}),[E]),ie=Object(r.useCallback)((function(e){x&&w((function(t){return{pos:null,val:(t.val-1+e+9)%9+1}}))}),[x]),le=Object(r.useMemo)((function(){if(H)if("group"===H.type){var e,t,n=H.cls,a=H.domain,r=H.poses,o=H.notes;if(0===n)return{effect:(e={},Object(f.a)(e,a+"s",new Set([H[a]])),Object(f.a)(e,"notes",o),e),highlights:{poses:r,notes:o}};if(1===n)return{domain:(t={},Object(f.a)(t,a+"s",new Set([H[a]])),Object(f.a)(t,"notes",o),t),highlights:{poses:r,notes:o}}}else if("X-Group"===H.type){var c=H.domain,i=H.rows,v=H.cols,d=H.blocks,h=H.poses,p=H.d,b=new Set([p]);if("row"===c)return{domain:{rows:i},effect:{cols:v,blocks:d,notes:b},highlights:{poses:h,notes:b}};if("col"===c)return{domain:{cols:v},effect:{rows:i,blocks:d,notes:b},highlights:{poses:h,notes:b}};if("block"===c)return{domain:{blocks:d},effect:{rows:i,cols:v,notes:b},highlights:{poses:h,notes:b}}}else if("chain"===H.type){var k=H.chain,m=H.effectedPoses,g=H.d,_=H.effectedDs,y=k.slice(0,z),O=[];y.forEach((function(e){var t=e.pos;t.isGroup?t.poses.forEach((function(e){return O.push(e)})):O.push(t)}));var C=new Set(O),j=new Set(O);Ie(k[0].pos).forEach((function(e){return j.delete(e)})),Ie(k[k.length-1].pos).forEach((function(e){return j.delete(e)}));var w,E=_||new Set([g]),x={},N={},P=Object(u.a)(y);try{for(P.s();!(w=P.n()).done;){var A=w.value,I=x;A.d!==g&&(I=N);var S,T=A.pos,G=Object(u.a)(Ie(T));try{for(G.s();!(S=G.n()).done;){var L=S.value,M=I[L]||new Set;I[L]=M,M.add(A.d)}}catch(J){G.e(J)}finally{G.f()}}}catch(J){P.e(J)}finally{P.f()}var D=[];y.forEach((function(e){var t=e.pos;if(t.isGroup){var n=t.key,a=t.domain,r=t.block,o=t.row,c=t.col;D.push({key:n,domain:Object(s.a)(a)[0],block:r,row:o,col:c})}}));var R,V=[],U=y[0],B=Object(u.a)(y.slice(1));try{for(B.s();!(R=B.n()).done;){var X=R.value,W=_e(U.pos.isGroup?U.pos.poses:[U.pos],X.pos.isGroup?X.pos.poses:[X.pos]),F=Object(l.a)(W,2),Y=F[0],K=F[1];V.push({startPos:Y,startDigit:U.d,endPos:K,endDigit:X.d,type:X.val?"solid":"dashed"}),U=X}}catch(J){B.e(J)}finally{B.f()}return{frames:D,arrows:V,effect:{poses:m,notes:E},highlights:{poses:C,posNotes:x,posSubNotes:N,withoutOutlinePoses:j}}}}),[z,H]),se=Object(r.useCallback)((function(e){if(H&&"chain"===H.type){var t=H.chain.length;ye.a.log(z,t,(z-1+e+t)%t+1),B((function(n){return(n-1+e+t)%t+1}))}}),[z,H]);Object(r.useEffect)((function(){var e=function(e){if(ye.a.log(e),e.code.startsWith("Digit")){var t=parseInt(e.key);Z(t)}else if("N"===e.key)a();else if("n"===e.key)e.ctrlKey?ae():te();else if("b"===e.key)x||E||J(ne(4,4));else if("d"===e.key||"Escape"===e.key)Q();else if("t"===e.key)oe();else if("p"===e.key)re();else if("h"===e.key||"ArrowLeft"===e.key)E?ce(0,-1):x?ie(-1):n.jumpToFirst();else if("l"===e.key||"ArrowRight"===e.key)E?ce(0,1):x?ie(1):n.jumpToLast();else if("j"===e.key||"ArrowDown"===e.key)E?ce(1,0):x?ie(-1):n.jump(-1);else{if("k"!==e.key&&"ArrowUp"!==e.key)return;E?ce(-1,0):x?ie(1):n.jump(1)}e.preventDefault()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[E,x,ae,re,J,Q,Z,ce,ie,a,n,oe,te]),Object(r.useEffect)((function(){R(null)}),[W]);var ue=null;if(m){var fe=new URL(window.location),ve=n.initialPuzzle,de=n.stringify();fe.search="?puzzle="+de,ue=o.a.createElement("div",{className:Ut.a.QRCode},o.a.createElement(Rt.a,{size:256,value:fe.toString()}),o.a.createElement("p",null,ve),o.a.createElement("p",null,de))}return o.a.createElement(o.a.Fragment,null,d&&o.a.createElement(Dt,null),o.a.createElement(It,{show:m,close:function(){return g(!1)}},ue),o.a.createElement("div",{className:Ut.a.Menu},o.a.createElement(h,{onClick:a},"New"),o.a.createElement(h,{onClick:c},"Empty"),o.a.createElement(h,{onClick:function(){return g(!0)}},"Share")),o.a.createElement("div",{className:Ut.a.Board},o.a.createElement(pt,{cells:W,availablePositions:Y,activeVal:x,activePos:E,cellClickedHandler:J,showAvail:A,isNoting:G,marks:le})),o.a.createElement("div",{className:Ut.a.Controls},o.a.createElement(wt,{cellsRecord:X,hasPrev:n.hasPrev,hasNext:n.hasNext,jump:n.jump,jumpToFirst:n.jumpToFirst,jumpToLast:n.jumpToLast,remainingDigits:K,activeVal:x,availableDigits:F,digitClickedHandler:Z,showAvail:A,isNoting:G,resetHandler:q,eraseValueHandler:$,deselectHandler:Q,toggleShowAvailHandler:ee,toggleIsNotingHandler:te,autoNoteHandler:ae,autoPlacePointingClaimingHandler:re,tip:H,tipHandler:oe,changeChainStepHandler:se})),o.a.createElement("div",{className:Ut.a.Info}))},Bt=n(26),Xt=n.n(Bt),Wt=function(e){var t=e.cancelNewGameHandler,n=e.newGameHandler,a=e.error,c=Object(r.useState)(""),i=Object(l.a)(c,2),s=i[0],u=i[1],f=Object(r.useCallback)((function(e){u(e.target.value)}),[]),v=Object(r.useRef)();return Object(r.useEffect)((function(){v.current.focus()}),[]),Object(r.useEffect)((function(){var e=function(e){if("Escape"===e.key)t();else{if("Enter"!==e.key||!e.shiftKey)return;n(s)}e.preventDefault()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[t,n,s]),o.a.createElement("div",{className:Xt.a.NewGame},o.a.createElement("h1",null,"input a new puzzle"),a&&o.a.createElement("div",{className:Xt.a.Error},a.message),o.a.createElement("textarea",{ref:v,id:"puzzle",name:"puzzle",inputMode:"numeric",onChange:f,value:s,placeholder:"901002708\n570060000\n000000004\n000000000\n700421900\n000098030\n300506070\n009003000\n000080051"}),o.a.createElement(h,{onClick:t},"Cancel"),o.a.createElement(h,{onClick:function(){return n(s)}},"Done"))},Ft=n(41),Yt=n.n(Ft),Kt=function(){var e=Object(r.useState)((function(){var e=new URLSearchParams(window.location.search).get("puzzle");try{return new Ee(e)}catch(t){return new Ee}})),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),i=Object(l.a)(c,2),s=i[0],u=i[1],f=Object(r.useState)(null),v=Object(l.a)(f,2),d=v[0],h=v[1],p=Object(r.useCallback)((function(){u(!0)}),[]),b=Object(r.useCallback)((function(){u(!1)}),[]),k=Object(r.useCallback)((function(e){try{a(new Ee(e)),u(!1)}catch(t){h(t)}}),[]),m=Object(r.useCallback)((function(){k()}),[k]),g=null;return g=s?o.a.createElement(Wt,{cancelNewGameHandler:b,newGameHandler:k,error:d}):o.a.createElement(zt,{sudoku:n,startNewGameHandler:p,emptyHandler:m}),o.a.createElement("div",{className:Yt.a.Sudoku},g)};function Jt(){return o.a.createElement(Kt,null)}var Zt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Qt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(o.a.createElement(Jt,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/sudoku-game",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/sudoku-game","/service-worker.js");Zt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Qt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Qt(t,e)}))}}()}],[[43,1,2]]]);
//# sourceMappingURL=main.92880e00.chunk.js.map