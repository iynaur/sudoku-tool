(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[0],[,,,,function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return h}));var n=a(6),r=a.n(n),i=a(2),c=a(1),l=r.a.mark(f),o=r.a.mark(v),s=r.a.mark(d),u=function(){};function f(e,t,a){var n,o,s,u,v,d;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t<a)){r.next=3;break}r.next=38;break;case 3:if(1!==a){r.next=13;break}n=e;case 5:if(!(n<t+e)){r.next=11;break}return r.next=8,[n];case 8:n++,r.next=5;break;case 11:r.next=38;break;case 13:if(t!==a){r.next=20;break}for(o=[],s=e;s<t+e;s++)o.push(s);return r.next=18,o;case 18:r.next=38;break;case 20:u=Object(c.a)(f(e+1,t-1,a-1)),r.prev=21,u.s();case 23:if((v=u.n()).done){r.next=29;break}return d=v.value,r.next=27,[e].concat(Object(i.a)(d));case 27:r.next=23;break;case 29:r.next=34;break;case 31:r.prev=31,r.t0=r.catch(21),u.e(r.t0);case 34:return r.prev=34,u.f(),r.finish(34);case 37:return r.delegateYield(f(e+1,t-1,a),"t1",38);case 38:case"end":return r.stop()}}),l,null,[[21,31,34,37]])}function v(e,t){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.delegateYield(f(0,e,t),"t0",1);case 1:case"end":return a.stop()}}),o)}function d(e,t){var a,n,l,o,u,f,d,h,p,b,k,_,m,g,y=arguments;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a=y.length>2&&void 0!==y[2]?y[2]:0,n=y.length>3&&void 0!==y[3]?y[3]:{checkClear:!0},l={},o=Object(c.a)(e);try{for(o.s();!(u=o.n()).done;)f=u.value,d=f[a],h=f[(a+1)%2],(p=l[d]||{start:d,ends:new Set}).ends.add(h),l[d]=p}catch(O){o.e(O)}finally{o.f()}if(b=Object.values(l),k=b.filter((function(e){return e.ends.size<=t})),!(n.checkClear&&b.length<=t)){s.next=9;break}return s.abrupt("return");case 9:_=Object(c.a)(v(k.length,t)),s.prev=10,g=r.a.mark((function e(){var a,l,o,s,u,f,v,d,h,p,_;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=m.value,l=new Set,o=new Set,s=Object(c.a)(a),e.prev=4,s.s();case 6:if((u=s.n()).done){e.next=15;break}if(f=u.value,v=k[f],l.add(v.start),v.ends.forEach(o.add,o),!(o.size>t)){e.next=13;break}return e.abrupt("break",15);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),s.e(e.t0);case 20:return e.prev=20,s.f(),e.finish(20);case 23:if(o.size!==t){e.next=47;break}if(!(d=n.checkClear)){e.next=44;break}h=Object(c.a)(b.filter((function(e){return!l.has(e.start)}))),e.prev=27,h.s();case 29:if((p=h.n()).done){e.next=36;break}if(_=p.value,!(Object(i.a)(_.ends).filter((function(e){return!o.has(e)})).length<_.ends.size)){e.next=34;break}return d=!1,e.abrupt("break",36);case 34:e.next=29;break;case 36:e.next=41;break;case 38:e.prev=38,e.t1=e.catch(27),h.e(e.t1);case 41:return e.prev=41,h.f(),e.finish(41);case 44:if(d){e.next=47;break}return e.next=47,[l,o];case 47:case"end":return e.stop()}}),e,null,[[4,17,20,23],[27,38,41,44]])})),_.s();case 13:if((m=_.n()).done){s.next=17;break}return s.delegateYield(g(),"t0",15);case 15:s.next=13;break;case 17:s.next=22;break;case 19:s.prev=19,s.t1=s.catch(10),_.e(s.t1);case 22:return s.prev=22,_.f(),s.finish(22);case 25:case"end":return s.stop()}}),s,null,[[10,19,22,25]])}(window||e||{}).console;var h={group:u,groupEnd:u,log:u,error:u}}).call(this,a(48))},function(e,t,a){e.exports={Value:"Cell_Value__1lDbW",Notes:"Cell_Notes__10ap7",Related:"Cell_Related__ET6Lg",Available:"Cell_Available__3vvqK",Place:"Cell_Place__3TPHN",Note:"Cell_Note__2U2fC",MarkedDomain:"Cell_MarkedDomain__31hFJ",MarkedEffect:"Cell_MarkedEffect___usON",MarkedHighlight:"Cell_MarkedHighlight__2O1xC",ActiveValue:"Cell_ActiveValue__3McOV",Placed:"Cell_Placed__3HOvj",Selected:"Cell_Selected__2LsAU",MarkedValue:"Cell_MarkedValue__dMEee",MarkedNoteValue:"Cell_MarkedNoteValue__24o3W",RowNotes:"Cell_RowNotes__1QNhn"}},,function(e,t,a){e.exports={Zero:"Digits_Zero__2W6xd",One:"Digits_One__-wXsd",Two:"Digits_Two__5WRCG",Three:"Digits_Three__1GKk-",Four:"Digits_Four__1ahFU",Five:"Digits_Five__3m1dx",Six:"Digits_Six__kvriF",Seven:"Digits_Seven__2_nmU",Eight:"Digits_Eight__GNMw3",Nine:"Digits_Nine__3u9wd"}},function(e,t,a){e.exports={Digits:"Digits_Digits__3-KZF",Digit:"Digits_Digit__1MXW9",digit:"Digits_digit__3Mpxe",Disabled:"Digits_Disabled__1N4Jw",active:"Digits_active__2AexO",Count:"Digits_Count__Eq4Q5",isNoting:"Digits_isNoting__-OBTK"}},,,,,function(e,t,a){e.exports={Controls:"Controls_Controls__1Accx",History:"Controls_History__2GRXF",Panel:"Controls_Panel__1AK4m",Tools:"Controls_Tools__1-fbY",Tip:"Controls_Tip__2IHiE"}},function(e,t,a){e.exports={Menu:"Main_Menu__3YGZL",Board:"Main_Board__3XJet",Controls:"Main_Controls__1MSdo",Info:"Main_Info__2888w",QRCode:"Main_QRCode__1jj5B"}},,,,function(e,t,a){e.exports={Block:"Block_Block__1kJyh",Odd:"Block_Odd__2xFZf",Row:"Block_Row__11Olq"}},function(e,t,a){e.exports={Modal:"Modal_Modal__31OI7",Show:"Modal_Show__d05bc",Close:"Modal_Close__IQjCe"}},function(e,t,a){e.exports={Button:"Button_Button__2Ajf-",On:"Button_On__3d77T",Off:"Button_Off__R9f9J"}},,,,function(e,t,a){e.exports={SudokuBoard:"Board_SudokuBoard__3cPYp",Row:"Board_Row__2r5V5"}},function(e,t,a){e.exports={NewGame:"NewGame_NewGame__2hKIv",Error:"NewGame_Error__mao55"}},,,,,,,,,,,function(e,t,a){e.exports={Pointer:"Arrow_Pointer__1rYd7"}},function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},,function(e,t,a){e.exports={Sudoku:"Sudoku_Sudoku__3acWS",Menu:"Sudoku_Menu__1l9tJ",Board:"Sudoku_Board__rWs6R",Controls:"Sudoku_Controls__2JIvy",Info:"Sudoku_Info__2OByE"}},,function(e,t,a){e.exports=a(59)},,,,,function(e,t,a){},,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(32),c=a.n(i),l=(a(46),a(3)),o=a(1),s=a(11),u=a(20),f=a.n(u),v=function(e){var t=e.type,a=e.onClick,n=e.disabled,i=void 0!==n&&n,c=e.children,l=[f.a.Button];return t&&l.push(f.a[t]),r.a.createElement("button",{className:l.join(" "),disabled:i,onClick:a},c)},d=a(5),h=a.n(d),p=a(7),b=a.n(p),k=function(e){return function(t){var a,n=t.color,i=t.digitClassName,c=void 0===i?"digit":i,l=t.className,o=void 0===l?"":l,s=t.children;return r.a.createElement("div",{className:"".concat(e," ").concat(c," ").concat(o),style:(a=n,a?{backgroundColor:a}:{})},s)}},_=k(b.a.Zero),m=k(b.a.One),g=k(b.a.Two),y=k(b.a.Three),O=k(b.a.Four),C=k(b.a.Five),w=k(b.a.Six),j=k(b.a.Seven),E=k(b.a.Eight),x=k(b.a.Nine),N=[r.a.createElement(_,null),r.a.createElement(m,null),r.a.createElement(g,null),r.a.createElement(y,null),r.a.createElement(O,null),r.a.createElement(C,null),r.a.createElement(w,null),r.a.createElement(j,null),r.a.createElement(E,null),r.a.createElement(x,null)],A=a(6),P=a.n(A),I=a(17),T=a(2),M=a(21),S=a(22),L=[0,1,2,3,4,5,6,7,8],G=[[0,1,2],[3,4,5],[6,7,8]],D=L,H=L,V=L,R=function(e,t){return 3*Math.floor(e/3)+Math.floor(t/3)},U=L.map((function(e){return L.map((function(t){return{idx:9*e+t,row:e,col:t,block:R(e,t),key:"r".concat(e,"c").concat(t),toString:function(){return this.key}}}))})),z=L.map((function(e){return L.map((function(t){return U[e].filter((function(e){return e.col!==t}))}))})),B=L.map((function(e){return L.map((function(t){return U[t][e]}))})),X=L.map((function(e){return L.map((function(t){return B[e].filter((function(e){return e.row!==t}))}))})),W=L.map((function(e){return function(e){var t=3*Math.floor(e/3);return[t,t+1,t+2]}(e).map((function(t){return U[t].filter((function(t){return t.block===e}))}))})),F=L.map((function(e){var t=W[e];return[].concat(Object(T.a)(t[0]),Object(T.a)(t[1]),Object(T.a)(t[2]))})),J=L.map((function(e){return L.map((function(t){return F[e].filter((function(e,a){return a!==t}))}))})),K=L.map((function(e){return L.map((function(t){var a=R(e,t),n=[];return U.forEach((function(r){return r.forEach((function(r){var i=r.row,c=r.col,l=r.block;e===i&&t===c&&a===l||e!==i&&t!==c&&a!==l||n.push(r)}))})),n}))})),Y=function(e,t){return U[e][t]},Q=function(e){return F[e]},Z=function(e){return U[e]},q=function(e){return B[e]},$=function(e){var t=e.row,a=e.col,n=e.block;return J[void 0===n?R(t,a):n][function(e,t){return e%3*3+t%3}(t,a)]},ee=function(e){var t=e.row,a=e.col;return z[t][a]},te=function(e){var t=e.row,a=e.col;return X[a][t]},ae=function(e){var t=e.row,a=e.col;return K[t][a]},ne=U.flat(),re={};ne.forEach((function(e){re[e.key]=e}));var ie=function(e,t){return e[t.row][t.col]},ce=function(e,t){var a=new Set(t);return e.filter((function(e){return a.has(e)}))},le=function e(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];switch(a.length){case 0:return[];case 1:return ae(a[0]);default:var r=a[0],i=a.slice(1);return ce(ae(r),e.apply(void 0,Object(T.a)(i)))}},oe=a(4),se=P.a.mark(he),ue=P.a.mark(ke),fe=P.a.mark(Ce),ve=function(){function e(){Object(M.a)(this,e)}return Object(S.a)(e,null,[{key:"new",value:function(){for(var e=65536,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];for(var r=0,i=a;r<i.length;r++){var c=i[r];e|=1<<c}return e}},{key:"isEmpty",value:function(e){return e===this._base}},{key:"size",value:function(e){for(var t=0,a=1;a<=9;a++)1===(1&(e>>=1))&&t++;return t}},{key:"first",value:function(t){for(var a=1;a<=9;a++)if(e.has(t,a))return a}},{key:"entries",value:function(t){for(var a=[],n=1;n<=9;n++)e.has(t,n)&&a.push(n);return a}},{key:"is",value:function(e){return 0!==(e&this._base)}},{key:"has",value:function(t,a){return e.is(t)&&0!==(t&1<<a)}},{key:"add",value:function(e,t){return e|1<<t}},{key:"delete",value:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];for(var r=0,i=a;r<i.length;r++){var c=i[r];e&=~(1<<c)}return e}}]),e}();ve._base=65536;var de=function(){function e(t){var a=this;Object(M.a)(this,e),this.jump=function(e){a._curCellsIdx+=e,a._curCellsIdx<0?a._curCellsIdx=0:a._curCellsIdx>=a._cellsHistory.length&&(a._curCellsIdx=a._cellsHistory.length-1),a._notify()},this.jumpToFirst=function(){a.jump(a._curCellsIdx)},this.jumpToLast=function(){a.jump(a._cellsHistory.length)},this.subscribers=[],this._setPuzzle(t||e.defaultPuzzle)}return Object(S.a)(e,[{key:"_setPuzzle",value:function(t){this._cellsHistory=[],this._curCellsIdx=-1,this._ops=0,this._setCells(e.parse(t),"init"),this.puzzle=this.stringify()}},{key:"_setCells",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._curCellsIdx+1<this._cellsHistory.length&&(this._cellsHistory=this._cellsHistory.slice(0,this._curCellsIdx+1)),this._cellsHistory.push({idx:this._ops,cells:e,desc:t}),this._curCellsIdx++,this._ops++}},{key:"subscribe",value:function(e){this.subscribers.push(e)}},{key:"unsubscribe",value:function(e){this.subscribers=this.subscribers.filter((function(t){return t!==e}))}},{key:"_notify",value:function(){var e,t=Object(o.a)(this.subscribers);try{for(t.s();!(e=t.n()).done;){(0,e.value)((function(e){return e+1}))}}catch(a){t.e(a)}finally{t.f()}}},{key:"stringify",value:function(){var e,t=[],a=Object(o.a)(ne);try{for(a.s();!(e=a.n()).done;){var n=e.value,r=this.getCell(n),i=r.origin,c=r.value;ve.is(c)?ve.isEmpty(c)?t.push("0"):t.push.apply(t,["n"].concat(Object(T.a)(ve.entries(c)),["N"])):i?t.push(c):t.push("p",c)}}catch(l){a.e(l)}finally{a.f()}return t.join("")}},{key:"calcAvailableDigits",value:function(e){var t=new Set([1,2,3,4,5,6,7,8,9]);if(!e)return t;if(this.getCell(e).origin)return new Set;var a,n=Object(o.a)(ae(e));try{for(n.s();!(a=n.n()).done;){var r=a.value,i=this.getCell(r).value;ve.is(i)||t.delete(i)}}catch(c){n.e(c)}finally{n.f()}return t}},{key:"calcRemainingDigits",value:function(){var e,t={1:9,2:9,3:9,4:9,5:9,6:9,7:9,8:9,9:9},a=Object(o.a)(ne);try{for(a.s();!(e=a.n()).done;){var n=e.value,r=this.getCell(n).value;ve.is(r)||t[r]--}}catch(i){a.e(i)}finally{a.f()}return t}},{key:"calcAvailablePositions",value:function(e){if(!(e>=1&&e<=9))return null;var t,a,n=(t=function(){return!0},L.map((function(e){return L.map((function(a){return t(e,a)}))}))),r=Object(o.a)(ne);try{for(r.s();!(a=r.n()).done;){var i=a.value,c=this.getCell(i).value;if(!ve.is(c)&&(n[i.row][i.col]=!1,c===e)){var l,s=Object(o.a)(ae(i));try{for(s.s();!(l=s.n()).done;){var u=l.value,f=u.row,v=u.col;n[f][v]=!1}}catch(d){s.e(d)}finally{s.f()}}}}catch(d){r.e(d)}finally{r.f()}return n}},{key:"_txSetCellValue",value:function(e,t,a){var n=t.row,r=t.col;if(a===this.getCell(t).value)return e;var i=this.getCurCells();if(e===i&&(e=Object(T.a)(i)),e[n]===i[n]&&(e[n]=Object(T.a)(i[n])),e[n][r]===i[n][r]&&(e[n][r]=Object(I.a)({},i[n][r])),e[n][r].value=a,!ve.is(a)){var c,l=Object(o.a)(ae(t));try{for(l.s();!(c=l.n()).done;){var s=c.value,u=this.getCell(s);ve.is(u.value)&&(e=this._txSetCellValue(e,s,ve.delete(u.value,a)))}}catch(f){l.e(f)}finally{l.f()}}return e}},{key:"getCurCells",value:function(){return this._txCells?this._txCells:this.cells}},{key:"getCell",value:function(e){var t=e.row,a=e.col;return this.getCurCells()[t][a]}},{key:"_startTx",value:function(){this._txCells||(this._txCells=this.getCurCells())}},{key:"_commit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._txCells&&this._txCells!==this.cells&&(this._setCells(this._txCells,e),this._txCells=null,this._notify())}},{key:"setCellValue",value:function(e,t){this._startTx(),this._txCells=this._txSetCellValue(this._txCells,e,t)}},{key:"_handlActions",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t){case e.actions.RESET:this._setPuzzle(this.puzzle);break;case e.actions.NOTE:this._note(a);break;case e.actions.AUTO_NOTE:this._autoNote();break;case e.actions.AUTO_PLACE:this._autoPlace();break;case e.actions.AUTO_POINTING:this._autoPointing();break;case e.actions.AUTO_CLAIMING:this._autoClaiming();break;case e.actions.AUTO_PLACE_POINTING_CLAIMING:this._autoPlacePointingClaiming();break;case e.actions.UPDATE_CELL_VALUE:this._updateCellValue(a);break;case e.actions.ELIMINATE_GROUP:this._eliminateGroup(a);break;case e.actions.ELIMINATE_XGROUP:this._eliminateXGroup(a);break;case e.actions.ELIMINATE_CHAIN:this._eliminateChain(a);break;case e.actions.HANDLE_TIP:this._handleTip(a)}}},{key:"dispatch",value:function(e,t,a){(a=Object(I.a)({commit:!0,log:!0},a||{})).log&&(oe.a.group("[".concat(e,"]")),t&&oe.a.log("->payload:",t),a&&oe.a.log("->options:",a)),this._startTx(),this._handlActions(e,t,a),a.log&&oe.a.groupEnd(),a.commit&&this._commit(e)}},{key:"reset",value:function(){this.dispatch(e.actions.RESET)}},{key:"note",value:function(t){this.dispatch(e.actions.NOTE,{pos:t})}},{key:"updateCellValue",value:function(t,a,n){this.dispatch(e.actions.UPDATE_CELL_VALUE,{isNoting:t,pos:a,value:n})}},{key:"autoNote",value:function(){this.dispatch(e.actions.AUTO_NOTE)}},{key:"autoPlacePointingClaiming",value:function(){this.dispatch(e.actions.AUTO_PLACE_POINTING_CLAIMING)}},{key:"autoPlace",value:function(){this.dispatch(e.actions.AUTO_PLACE)}},{key:"autoPointing",value:function(){this.dispatch(e.actions.AUTO_POINTING)}},{key:"autoClaiming",value:function(){this.dispatch(e.actions.AUTO_CLAIMING)}},{key:"eliminateGroup",value:function(t){this.dispatch(e.actions.ELIMINATE_GROUP,{group:t})}},{key:"eliminateXGroup",value:function(t){this.dispatch(e.actions.ELIMINATE_XGROUP,{tip:t})}},{key:"eliminateChain",value:function(t){this.dispatch(e.actions.ELIMINATE_CHAIN,{tip:t})}},{key:"handleTip",value:function(t){this.dispatch(e.actions.HANDLE_TIP,{tip:t})}},{key:"_note",value:function(e){var t=e.pos,a=this.getCell(t).value;ve.is(a)&&this.setCellValue(t,ve.new.apply(ve,Object(T.a)(this.calcAvailableDigits(t))))}},{key:"_autoNote",value:function(){var t,a=Object(o.a)(ne);try{for(a.s();!(t=a.n()).done;){var n=t.value;this.dispatch(e.actions.NOTE,{pos:n},{commit:!1,log:!1})}}catch(r){a.e(r)}finally{a.f()}}},{key:"_autoPlacePointingClaiming",value:function(){try{var t=0;do{t=0,t+=this._autoPlace(),this._commit(e.actions.AUTO_PLACE),t+=this._autoPointing(),this._commit(e.actions.AUTO_POINTING),t+=this._autoClaiming(),this._commit(e.actions.AUTO_CLAIMING)}while(t>0)}catch(a){oe.a.log(a)}}},{key:"_autoPlace",value:function(){var t=0,a=!1;oe.a.group("[auto place]");do{a=!1;for(var n=0,r=[0,1];n<r.length;n++){var i,c=r[n],l=Object(o.a)(ke(this.getCurCells(),1,c));try{for(l.s();!(i=l.n()).done;){var s=i.value;this.dispatch(e.actions.ELIMINATE_GROUP,{group:s},{commit:!1}),t++,a=!0;break}}catch(u){l.e(u)}finally{l.f()}}}while(a);return oe.a.groupEnd(),t}},{key:"_autoPointing",value:function(){var t=0;oe.a.group("[auto pointing]");var a,n=Object(o.a)(Ce(this.getCurCells(),1,{br:!0,bc:!0}));try{for(n.s();!(a=n.n()).done;){var r=a.value;oe.a.log(r),this.dispatch(e.actions.ELIMINATE_XGROUP,{tip:r},{commit:!1}),t++}}catch(i){n.e(i)}finally{n.f()}return oe.a.groupEnd(),t}},{key:"_autoClaiming",value:function(){var t=0;oe.a.group("[auto claiming]");var a,n=Object(o.a)(Ce(this.getCurCells(),1,{rb:!0,cb:!0}));try{for(n.s();!(a=n.n()).done;){var r=a.value;this.dispatch(e.actions.ELIMINATE_XGROUP,{tip:r},{commit:!1}),t++}}catch(i){n.e(i)}finally{n.f()}return oe.a.groupEnd(),t}},{key:"_updateCellValue",value:function(e){var t=e.isNoting,a=e.pos,n=e.value;t?this._noteCellValue(a,n):this._placeCellValue(a,n)}},{key:"_placeCellValue",value:function(e,t){var a=this.getCell(e);a.origin||(a.value===t&&(t=ve.new()),this.setCellValue(e,t))}},{key:"_noteCellValue",value:function(e,t){var a=this.getCell(e).value;if(ve.is(a)){var n=a;n=ve.has(n,t)?ve.delete(n,t):ve.add(n,t),this.setCellValue(e,n)}}},{key:"findGroup",value:function(){for(var e=1;e<=8;e++)for(var t=0,a=[0,1];t<a.length;t++){var n,r=a[t],i=Object(o.a)(ke(this.getCurCells(),e,r));try{for(i.s();!(n=i.n()).done;){var c=n.value;return c.type="group",c}}catch(l){i.e(l)}finally{i.f()}}}},{key:"_eliminateGroup",value:function(e){var t=this,a=e.group;if(1===a.n){var n=Object(T.a)(a.poses)[0],r=Object(T.a)(a.notes)[0];this.setCellValue(n,r)}else if(0===a.cls){var i=[];"row"===a.domain?i=Z(a.row):"col"===a.domain?i=q(a.col):"block"===a.domain&&(i=Q(a.block)),i=i.filter((function(e){var n=t.getCell(e).value;return!(!ve.is(n)||a.poses.has(e))}));var c,l=Object(o.a)(i);try{for(l.s();!(c=l.n()).done;){var s=c.value,u=this.getCell(s).value;this.setCellValue(s,ve.delete.apply(ve,[u].concat(Object(T.a)(a.notes))))}}catch(p){l.e(p)}finally{l.f()}}else if(1===a.cls){var f,v=Object(o.a)(a.poses);try{for(v.s();!(f=v.n()).done;){var d=f.value,h=this.getCell(d).value;this.setCellValue(d,ve.new.apply(ve,Object(T.a)(ve.entries(h).filter((function(e){return a.notes.has(e)})))))}}catch(p){v.e(p)}finally{v.f()}}}},{key:"findXGroup",value:function(){for(var e=1;e<=8;e++){var t,a=Object(o.a)(Ce(this.getCurCells(),e));try{for(a.s();!(t=a.n()).done;){var n=t.value;return n.type="X-Group",n}}catch(r){a.e(r)}finally{a.f()}}}},{key:"_eliminateXGroup",value:function(e){var t=e.tip,a=[];if("row"===t.effect){var n,r=Object(o.a)(t.rows);try{for(r.s();!(n=r.n()).done;){var i=n.value;a.push.apply(a,Object(T.a)(Z(i)))}}catch(k){r.e(k)}finally{r.f()}}else if("col"===t.effect){var c,l=Object(o.a)(t.cols);try{for(l.s();!(c=l.n()).done;){var s=c.value;a.push.apply(a,Object(T.a)(q(s)))}}catch(k){l.e(k)}finally{l.f()}}else if("block"===t.effect){var u,f=Object(o.a)(t.blocks);try{for(f.s();!(u=f.n()).done;){var v=u.value;a.push.apply(a,Object(T.a)(Q(v)))}}catch(k){f.e(k)}finally{f.f()}}for(var d=0,h=a;d<h.length;d++){var p=h[d],b=this.getCell(p).value;ve.is(b)&&!t.poses.has(p)&&this.setCellValue(p,ve.delete(b,t.d))}}},{key:"findTip",value:function(){var e=this.getCurCells();return this.findGroup(e)||this.findXGroup(e)||this.findChain(e)}},{key:"_handleTip",value:function(e){var t=e.tip;"group"===t.type?this.eliminateGroup(t):"X-Group"===t.type?this.eliminateXGroup(t):"chain"===t.type&&this.eliminateChain(t)}},{key:"findChain",value:function(){for(var e=this.getCurCells(),t=function(e){var t,a={},n={},r=Object(o.a)(ne);try{for(r.s();!(t=r.n()).done;){var i=t.value,c=ie(e,i).value;if(ve.is(c)){var l,s=ve.entries(c),u=Object(o.a)(s);try{var f=function(){var t=l.value;n[t]||(n[t]=[]);var r=n[t];a[t]||(a[t]={});var c=a[t];r.push(i);for(var u=new Set,f=new Set,v=0,d=[ee,te,$];v<d.length;v++){var h,p=d[v],b=0,k=null,_=Object(o.a)(p(i));try{for(_.s();!(h=_.n()).done;){var m=h.value,g=ie(e,m).value;ve.has(g,t)&&(f.add(m),b++,k=m)}}catch(O){_.e(O)}finally{_.f()}1===b&&u.add(k)}var y=s.filter((function(e){return e!==t}));c[i]={false:Object(T.a)(u),true:Object(T.a)(f),cell:{false:2===s.length?y:[],true:y}}};for(u.s();!(l=u.n()).done;)f()}catch(v){u.e(v)}finally{u.f()}}}}catch(v){r.e(v)}finally{r.f()}return[n,a]}(e),a=Object(l.a)(t,2),n=a[0],r=a[1],i=0,c=[!1,!0];i<c.length;i++){for(var s=c[i],u=null,f=1;f<=9;f++){var v,d=Object(o.a)(n[f]||[]);try{for(d.s();!(v=d.n()).done;){var h,p=v.value,b={pos:p,d:f,val:!1},k=Object(o.a)(he([],b,{dLinks:r,cells:e,td:f,tryCellLinks:s}));try{for(k.s();!(h=k.n()).done;){var _=h.value;_.type="chain",_.name="chain",(!u||u.chain.length>_.chain.length)&&(u=_)}}catch(m){k.e(m)}finally{k.f()}}}catch(m){d.e(m)}finally{d.f()}}if(u)return u}}},{key:"_eliminateChain",value:function(e){var t,a=e.tip,n=Object(o.a)(a.effectedPoses);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=this.getCell(r).value;ve.is(i)&&this.setCellValue(r,ve.delete(i,a.d))}}catch(c){n.e(c)}finally{n.f()}}},{key:"initialPuzzle",get:function(){return this.puzzle}},{key:"cells",get:function(){return this._cellsHistory[this._curCellsIdx].cells}},{key:"cellsRecord",get:function(){return this._cellsHistory[this._curCellsIdx]}},{key:"hasPrev",get:function(){return this._curCellsIdx>0}},{key:"hasNext",get:function(){return this._curCellsIdx<this._cellsHistory.length-1}}],[{key:"parse",value:function(t){if(!t||t.length<81)throw new Error("bad sudoku puzzle format [".concat(t,"]"));var a=t.match(e.cellPattern);if(81!==a.length)throw new Error("bad sudoku puzzle format [".concat(t,"]"));for(var n=a.map((function(t){if(t.startsWith("n")&&t.endsWith("N")){var a=t.slice(1,-1).split("").map((function(e){return parseInt(e)}));return{value:ve.new.apply(ve,Object(T.a)(a))}}if(t.startsWith("p"))return{value:parseInt(t[1])};if(e.valuePattern.test(t))return{value:parseInt(t),origin:!0};if("0"===t)return{value:ve.new()};throw new Error("impossible")})),r=Array.from(new Array(9)).map((function(){return new Array(9)})),i=0;i<9;i++)for(var c=0;c<9;c++)r[i][c]=n[9*i+c];return r}}]),e}();function he(e,t,a){var n,r,i,c,l,s,u,f,v,d,h,p,b,k,_,m,g,y,O,C,w,j;return P.a.wrap((function(E){for(;;)switch(E.prev=E.next){case 0:if(a=Object(I.a)({tryCellLinks:!1},a),n=t.pos,r=t.d,i=t.val,l=(c=a).dLinks,s=c.cells,u=c.td,r!==u||!0!==i){E.next=10;break}f=new Set,v=Object(o.a)(le(e[0].pos,n));try{for(v.s();!(d=v.n()).done;)h=d.value,p=ie(s,h),b=p.value,ve.has(b,r)&&f.add(h)}catch(x){v.e(x)}finally{v.f()}if(!(f.size>0)){E.next=10;break}return E.next=10,{chain:[].concat(Object(T.a)(e),[t]),effectedPoses:f,d:r};case 10:k=l[r][n][i],_=Object(o.a)(k),E.prev=12,_.s();case 14:if((m=_.n()).done){E.next=22;break}if(g=m.value,!pe(e,y={pos:g,val:!i,d:r})){E.next=19;break}return E.abrupt("continue",20);case 19:return E.delegateYield(he([].concat(Object(T.a)(e),[t]),y,a),"t0",20);case 20:E.next=14;break;case 22:E.next=27;break;case 24:E.prev=24,E.t1=E.catch(12),_.e(E.t1);case 27:return E.prev=27,_.f(),E.finish(27);case 30:if(!a.tryCellLinks){E.next=50;break}O=Object(o.a)(l[r][n].cell[i]),E.prev=32,O.s();case 34:if((C=O.n()).done){E.next=42;break}if(w=C.value,!pe(e,j={pos:n,val:!i,d:w})){E.next=39;break}return E.abrupt("continue",40);case 39:return E.delegateYield(he([].concat(Object(T.a)(e),[t]),j,a),"t2",40);case 40:E.next=34;break;case 42:E.next=47;break;case 44:E.prev=44,E.t3=E.catch(32),O.e(E.t3);case 47:return E.prev=47,O.f(),E.finish(47);case 50:case"end":return E.stop()}}),se,null,[[12,24,27,30],[32,44,47,50]])}de.defaultPuzzle="\n  000000000 000000000 000000000\n  000000000 000000000 000000000\n  000000000 000000000 000000000\n",de.cellPattern=/(\d)|(p\d)|(n[1-9]*N)/g,de.valuePattern=/^[1-9]$/,de.actions={RESET:"RESET",NOTE:"NOTE",UPDATE_CELL_VALUE:"UPDATE_CELL_VALUE",AUTO_NOTE:"AUTO_NOTE",AUTO_POINTING:"AUTO_POINTING",AUTO_CLAIMING:"AUTO_CLAIMING",AUTO_PLACE:"AUTO_PLACE",AUTO_PLACE_POINTING_CLAIMING:"AUTO_PLACE_POINTING_CLAIMING",ELIMINATE_GROUP:"ELIMINATE_GROUP",ELIMINATE_XGROUP:"ELIMINATE_XGROUP",ELIMINATE_CHAIN:"ELIMINATE_CHAIN",HANDLE_TIP:"HANDLE_TIP"};var pe=function(e,t){var a,n=Object(o.a)(e);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(r.pos===t.pos&&r.val===t.val&&r.d===t.d)return!0}}catch(i){n.e(i)}finally{n.f()}return!1};function be(e,t){var a,n=[],r=Object(o.a)(t);try{for(r.s();!(a=r.n()).done;){var i=a.value,c=e[i.row][i.col].value;if(ve.is(c)){var l,s=Object(o.a)(ve.entries(c));try{for(s.s();!(l=s.n()).done;){var u=l.value;n.push([i,u])}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){r.e(f)}finally{r.f()}return n}function ke(e,t,a){var n,r,i,c,l,s,u,f,v,d,h,p,b,k,_,m,g,y,O,C,w,j,E,x,N,A,I;return P.a.wrap((function(P){for(;;)switch(P.prev=P.next){case 0:n=Object(o.a)(H),P.prev=1,n.s();case 3:if((r=n.n()).done){P.next=27;break}i=r.value,c=be(e,Z(i)),l=Object(o.a)(Object(oe.b)(c,t,a,{checkClear:t>1})),P.prev=7,l.s();case 9:if((s=l.n()).done){P.next=17;break}return u=s.value,f=u[a],v=u[(a+1)%2],P.next=15,{cls:a,n:t,domain:"row",row:i,poses:f,notes:v,name:["naked","hidden"][a]+"-".concat(t,"-group")};case 15:P.next=9;break;case 17:P.next=22;break;case 19:P.prev=19,P.t0=P.catch(7),l.e(P.t0);case 22:return P.prev=22,l.f(),P.finish(22);case 25:P.next=3;break;case 27:P.next=32;break;case 29:P.prev=29,P.t1=P.catch(1),n.e(P.t1);case 32:return P.prev=32,n.f(),P.finish(32);case 35:d=Object(o.a)(V),P.prev=36,d.s();case 38:if((h=d.n()).done){P.next=62;break}p=h.value,b=be(e,q(p)),k=Object(o.a)(Object(oe.b)(b,t,a,{checkClear:t>1})),P.prev=42,k.s();case 44:if((_=k.n()).done){P.next=52;break}return m=_.value,g=m[a],y=m[(a+1)%2],P.next=50,{cls:a,n:t,domain:"col",col:p,poses:g,notes:y,name:["naked","hidden"][a]+"-".concat(t,"-group")};case 50:P.next=44;break;case 52:P.next=57;break;case 54:P.prev=54,P.t2=P.catch(42),k.e(P.t2);case 57:return P.prev=57,k.f(),P.finish(57);case 60:P.next=38;break;case 62:P.next=67;break;case 64:P.prev=64,P.t3=P.catch(36),d.e(P.t3);case 67:return P.prev=67,d.f(),P.finish(67);case 70:O=Object(o.a)(D),P.prev=71,O.s();case 73:if((C=O.n()).done){P.next=97;break}w=C.value,j=be(e,Q(w)),E=Object(o.a)(Object(oe.b)(j,t,a,{checkClear:t>1})),P.prev=77,E.s();case 79:if((x=E.n()).done){P.next=87;break}return N=x.value,A=N[a],I=N[(a+1)%2],P.next=85,{cls:a,n:t,domain:"block",block:w,poses:A,notes:I,name:["naked","hidden"][a]+"-".concat(t,"-group")};case 85:P.next=79;break;case 87:P.next=92;break;case 89:P.prev=89,P.t4=P.catch(77),E.e(P.t4);case 92:return P.prev=92,E.f(),P.finish(92);case 95:P.next=73;break;case 97:P.next=102;break;case 99:P.prev=99,P.t5=P.catch(71),O.e(P.t5);case 102:return P.prev=102,O.f(),P.finish(102);case 105:case"end":return P.stop()}}),ue,null,[[1,29,32,35],[7,19,22,25],[36,64,67,70],[42,54,57,60],[71,99,102,105],[77,89,92,95]])}var _e=function(e,t){return function(a,n){for(var r=[],i=0;i<9;i++){var c,l=Object(o.a)(e(i));try{for(l.s();!(c=l.n()).done;){var s=c.value,u=a[s.row][s.col].value;ve.is(u)&&(ve.has(u,n)&&r.push([i,t(s)]))}}catch(f){l.e(f)}finally{l.f()}}return r}},me=_e(Z,(function(e){return e.col})),ge=_e(Z,(function(e){return R(e.row,e.col)})),ye=_e(q,(function(e){return R(e.row,e.col)})),Oe=function(e,t,a){var n,r=[],i=Object(o.a)(a);try{for(i.s();!(n=i.n()).done;){var c=n.value,l=e[c.row][c.col].value;ve.is(l)&&ve.has(l,t)&&r.push(c)}}catch(s){i.e(s)}finally{i.f()}return r};function Ce(e,t){var a,n,r,i,c,s,u,f,v,d,h,p,b,k,_,m,g,y,O,C,w,j,E,x,N,A,I,M,S,L,G,D,H,V,R,U,z,B,X,W,F,J,K,Y,$,ee,te,ae,ne,re,ie,ce,le,se,ue,ve,de,he,pe,be,ke,_e,Ce,we,je,Ee,xe,Ne,Ae,Pe,Ie,Te,Me,Se,Le=arguments;return P.a.wrap((function(P){for(;;)switch(P.prev=P.next){case 0:a=Le.length>2&&void 0!==Le[2]?Le[2]:{rc:!0,cr:!0,rb:!0,br:!0,cb:!0,bc:!0},n=1;case 2:if(!(n<=9)){P.next=152;break}if(!a.rc&&!a.cr){P.next=53;break}if(r=me(e,n),!a.rc){P.next=29;break}i=Object(o.a)(Object(oe.b)(r,t,0)),P.prev=7,i.s();case 9:if((c=i.n()).done){P.next=21;break}s=c.value,u=Object(l.a)(s,2),f=u[0],v=u[1],d=[],h=!0,p=Object(o.a)(f);try{for(p.s();!(b=p.n()).done;)k=b.value,(_=Oe(e,n,Z(k))).length!==t&&(h=!1),d.push.apply(d,Object(T.a)(_))}catch(fe){p.e(fe)}finally{p.f()}return m="".concat(t,h?"-X-Wing":"-XRC-Group"),P.next=19,{name:m,domain:"row",effect:"col",rows:f,cols:v,poses:new Set(d),d:n};case 19:P.next=9;break;case 21:P.next=26;break;case 23:P.prev=23,P.t0=P.catch(7),i.e(P.t0);case 26:return P.prev=26,i.f(),P.finish(26);case 29:if(!a.cr){P.next=53;break}g=Object(o.a)(Object(oe.b)(r,t,1)),P.prev=31,g.s();case 33:if((y=g.n()).done){P.next=45;break}O=y.value,C=Object(l.a)(O,2),w=C[0],j=C[1],E=[],x=!0,N=Object(o.a)(w);try{for(N.s();!(A=N.n()).done;)I=A.value,Oe(e,n,q(I)).length!==t&&(x=!1),E.push.apply(E,Object(T.a)(Oe(e,n,q(I))))}catch(fe){N.e(fe)}finally{N.f()}return M="".concat(t,x?"-X-Wing":"-XCR-Group"),P.next=43,{name:M,domain:"col",effect:"row",rows:j,cols:w,poses:new Set(E),d:n};case 43:P.next=33;break;case 45:P.next=50;break;case 47:P.prev=47,P.t1=P.catch(31),g.e(P.t1);case 50:return P.prev=50,g.f(),P.finish(50);case 53:if(!a.rb&&!a.br){P.next=101;break}if(S=ge(e,n),!a.rb){P.next=78;break}L=Object(o.a)(Object(oe.b)(S,t,0)),P.prev=57,L.s();case 59:if((G=L.n()).done){P.next=70;break}D=G.value,H=Object(l.a)(D,2),V=H[0],R=H[1],U=[],z=Object(o.a)(V);try{for(z.s();!(B=z.n()).done;)X=B.value,U.push.apply(U,Object(T.a)(Oe(e,n,Z(X))))}catch(fe){z.e(fe)}finally{z.f()}return W=1===t?"claiming":"".concat(t,"-XRB-Group"),P.next=68,{name:W,domain:"row",effect:"block",rows:V,blocks:R,poses:new Set(U),d:n};case 68:P.next=59;break;case 70:P.next=75;break;case 72:P.prev=72,P.t2=P.catch(57),L.e(P.t2);case 75:return P.prev=75,L.f(),P.finish(75);case 78:if(!a.br){P.next=101;break}F=Object(o.a)(Object(oe.b)(S,t,1)),P.prev=80,F.s();case 82:if((J=F.n()).done){P.next=93;break}K=J.value,Y=Object(l.a)(K,2),$=Y[0],ee=Y[1],te=[],ae=Object(o.a)($);try{for(ae.s();!(ne=ae.n()).done;)re=ne.value,te.push.apply(te,Object(T.a)(Oe(e,n,Q(re))))}catch(fe){ae.e(fe)}finally{ae.f()}return ie=1===t?"pointing":"".concat(t,"-XBR-Group"),P.next=91,{name:ie,domain:"block",effect:"row",rows:ee,blocks:$,poses:new Set(te),d:n};case 91:P.next=82;break;case 93:P.next=98;break;case 95:P.prev=95,P.t3=P.catch(80),F.e(P.t3);case 98:return P.prev=98,F.f(),P.finish(98);case 101:if(!a.cb&&!a.bc){P.next=149;break}if(ce=ye(e,n),!a.cb){P.next=126;break}le=Object(o.a)(Object(oe.b)(ce,t,0)),P.prev=105,le.s();case 107:if((se=le.n()).done){P.next=118;break}ue=se.value,ve=Object(l.a)(ue,2),de=ve[0],he=ve[1],pe=[],be=Object(o.a)(de);try{for(be.s();!(ke=be.n()).done;)_e=ke.value,pe.push.apply(pe,Object(T.a)(Oe(e,n,q(_e))))}catch(fe){be.e(fe)}finally{be.f()}return Ce=1===t?"claiming":"".concat(t,"-XCB-Group"),P.next=116,{name:Ce,domain:"col",effect:"block",cols:de,blocks:he,poses:new Set(pe),d:n};case 116:P.next=107;break;case 118:P.next=123;break;case 120:P.prev=120,P.t4=P.catch(105),le.e(P.t4);case 123:return P.prev=123,le.f(),P.finish(123);case 126:if(!a.bc){P.next=149;break}we=Object(o.a)(Object(oe.b)(ce,t,1)),P.prev=128,we.s();case 130:if((je=we.n()).done){P.next=141;break}Ee=je.value,xe=Object(l.a)(Ee,2),Ne=xe[0],Ae=xe[1],Pe=[],Ie=Object(o.a)(Ne);try{for(Ie.s();!(Te=Ie.n()).done;)Me=Te.value,Pe.push.apply(Pe,Object(T.a)(Oe(e,n,Q(Me))))}catch(fe){Ie.e(fe)}finally{Ie.f()}return Se=1===t?"pointing":"".concat(t,"-XBC-Group"),P.next=139,{name:Se,domain:"block",effect:"col",cols:Ae,blocks:Ne,poses:new Set(Pe),d:n};case 139:P.next=130;break;case 141:P.next=146;break;case 143:P.prev=143,P.t5=P.catch(128),we.e(P.t5);case 146:return P.prev=146,we.f(),P.finish(146);case 149:n++,P.next=2;break;case 152:case"end":return P.stop()}}),fe,null,[[7,23,26,29],[31,47,50,53],[57,72,75,78],[80,95,98,101],[105,120,123,126],[128,143,146,149]])}var we=function(e,t,a,n,r){var i=[h.a.Note];if(e===t&&i.push(h.a.ActiveValue),r){var c=null;if(a?c=r.highlights:n&&(c=r.effect),c){var l=c,o=l.notes,s=l.subNotes;o&&o.has(e)?i.push(h.a.MarkedNoteValue):s&&s.has(e)&&i.push(h.a.MarkedValue)}}return i.join(" ")},je=r.a.memo((function(e){var t=e.value,a=e.origin,n=e.pos,i=e.activePos,c=e.activeVal,l=e.available,o=e.showAvail,s=e.isNoting,u=e.onClick,f=e.marks,v=n.block,d=n.row,p=n.col,b=[],k=null,_=!1;if(i){var m=i.row,g=i.col,y=i.block;d===m&&p===g?(_=!0,b.push(h.a.Selected)):d!==m&&p!==g&&v!==y||b.push(h.a.Related)}var O=l;l?(b.push(h.a.Available),o&&b.push(s?h.a.Note:h.a.Place)):null===l?(b.push(h.a.Available),O=!0):s||a||t!==c||(b.push(h.a.Available),O=!0);var C=!1,w=!1,j=!1;if(f){var E=f.domain,x=f.effect,A=f.highlights;if(E){var P=E.rows,I=E.cols,T=E.blocks;P&&P.has(d)&&(w=!0),I&&I.has(p)&&(w=!0),T&&T.has(v)&&(w=!0)}if(x){var M=x.rows,S=x.cols,L=x.blocks,D=x.poses;M&&M.has(d)&&(j=!0),S&&S.has(p)&&(j=!0),L&&L.has(v)&&(j=!0),D&&D.has(n)&&(j=!0)}A&&A.poses.has(n)&&(C=!0)}if(C?b.push(h.a.MarkedHighlight):w?b.push(h.a.MarkedDomain):j&&b.push(h.a.MarkedEffect),ve.is(t)){b.push(h.a.Notes);var H=t;ve.size(H)>0&&(k=G.map((function(e,t){return r.a.createElement("div",{key:t,className:h.a.RowNotes},e.map((function(e){return r.a.createElement("div",{key:e,className:we(e+1,c,C,j,f)},ve.has(H,e+1)?N[e+1]:null)})))})))}else b.push(h.a.Value),!a&&b.push(h.a.Placed),t!==c||_||b.push(h.a.ActiveValue),C&&f.highlights.values&&f.highlights.values.has(t)&&b.push(h.a.MarkedValue),k=N[t];return r.a.createElement("div",{className:b.join(" "),onClick:O?function(){return u(n)}:void 0},k)})),Ee=a(18),xe=a.n(Ee),Ne=function(e){var t=e.block,a=e.activePos,n=e.activeVal,i=e.cells,c=e.availableCells,l=e.cellClickedHandler,o=e.showAvail,s=e.isNoting,u=e.marks,f=t%2===1;return r.a.createElement("div",{className:"".concat(xe.a.Block," ").concat(f?xe.a.Odd:"")},function(e){return W[e]}(t).map((function(e,t){return r.a.createElement("div",{key:t,className:xe.a.Row},e.map((function(e){return r.a.createElement(je,Object.assign({key:e.key},i[e.row][e.col],{pos:e,activePos:a,activeVal:n,available:c&&c[e.row][e.col],onClick:l,showAvail:o,isNoting:s,marks:u}))})))})))},Ae=a(9),Pe=a(10);function Ie(){var e=Object(Ae.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  ","\n"]);return Ie=function(){return e},e}function Te(){var e=Object(Ae.a)(["\n  width: ",";\n  height: 0;\n  padding-top: ","%;\n  position: relative;\n"]);return Te=function(){return e},e}var Me=Pe.a.div(Te(),(function(e){var t=e.width;return void 0!==t?t:"auto"}),(function(e){return 100/e.ratio})),Se=Pe.a.div(Ie(),(function(e){var t=e.fixed,a=e.scroll;return t?"\n    height: 100%;\n    overflow: ".concat(a?"scroll":"hidden",";\n  "):"\n  min-height: 100%;\n  "})),Le=function(e){var t=e.ratio,a=void 0===t?1:t,n=e.fixed,i=void 0===n||n,c=e.scroll,l=void 0!==c&&c,o=e.children;return r.a.createElement(Me,{ratio:a},r.a.createElement(Se,{fixed:i,scroll:l},o))},Ge=a(36),De=a.n(Ge);function He(){var e=Object(Ae.a)(["\n  user-select: none;\n  pointer-events: none;\n  position: absolute;\n  border-top: 2px "," red;\n  width: ","%;\n  height: ","%;\n  transform-origin: top left;\n  transform: translate(","%, ","%)\n    rotate(","deg) translate(","%);\n"]);return He=function(){return e},e}var Ve=Pe.a.div(He(),(function(e){return e.type}),(function(e){return 100*e.distance}),(function(e){return 100*e.distance}),(function(e){return e.x/e.distance*100}),(function(e){return e.y/e.distance*100}),(function(e){return e.deg}),(function(e){return.015/e.distance*100})),Re=function(e,t){var a=e.row,n=e.col,r=function(e){return[Math.floor((e-1)/3),(e-1)%3]}(t),i=Object(l.a)(r,2),c=i[0];return[(n+(i[1]+.5)/3+.35/100)*(.985/9)+(.5*(Math.floor(n/3)+1)-.25)/100,(a+(c+.5)/3+.35/100)*(.985/9)+(.5*(Math.floor(a/3)+1)-.25)/100]},Ue=function(e){var t=e.type,a=void 0===t?"solid":t,n=e.startPos,i=e.startDigit,c=e.endPos,o=e.endDigit,s=Re(n,i),u=Re(c,o),f=function(e,t){var a=Object(l.a)(e,2),n=a[0],r=a[1],i=Object(l.a)(t,2),c=i[0]-n,o=i[1]-r;return Math.sqrt(c*c+o*o)}(s,u),v=function(e,t,a){var n=Object(l.a)(e,2),r=n[0],i=n[1],c=Object(l.a)(t,2),o=c[0]-r,s=c[1]-i;return Math.acos(o/a)*(s<0?-1:1)/Math.PI*180}(s,u,f);return console.log(a),r.a.createElement(Ve,{x:s[0],y:s[1],distance:f-.03,deg:v,type:a},r.a.createElement("div",{className:De.a.Pointer}))},ze=a(24),Be=a.n(ze),Xe=function(e){var t=e.availablePositions,a=e.cells,n=e.activeVal,i=e.activePos,c=e.cellClickedHandler,l=e.showAvail,o=e.isNoting,s=e.marks;if(i){var u=i.row,f=i.col;n=a[u][f].value}return console.log(s&&s.arrows),r.a.createElement(Le,{ratio:1},r.a.createElement("div",{className:Be.a.SudokuBoard},s&&s.arrows&&s.arrows.map((function(e){return r.a.createElement(Ue,Object.assign({key:"".concat(e.startPos,"-").concat(e.endPos)},e))})),G.map((function(e,u){return r.a.createElement("div",{key:u,className:Be.a.Row},e.map((function(e){return r.a.createElement(Ne,{key:e,block:e,cells:a,activePos:i,activeVal:n,availableCells:t,cellClickedHandler:c,showAvail:l,isNoting:o,marks:s})})))}))))},We=a(40);function Fe(){var e=Object(Ae.a)(["\n  &::before {\n    content: '';\n    width: 1px;\n    margin-left: -1px;\n    float: left;\n    height: 0;\n    padding-top: ","%;\n  }\n  &::after {\n    content: '';\n    display: table;\n    clear: both;\n  }\n"]);return Fe=function(){return e},e}var Je=Pe.a.div(Fe(),(function(e){return 100/e.ratio})),Ke=function(e){var t=e.ratio,a=void 0===t?1:t,n=e.children,i=Object(We.a)(e,["ratio","children"]);return r.a.createElement(Je,Object.assign({ratio:a},i),n)},Ye=a(8),Qe=a.n(Ye),Ze=r.a.memo((function(e){var t=e.isNoting,a=e.activeVal,i=e.availableDigits,c=e.remainingDigits,l=e.digitClickedHandler,o=Object(n.useCallback)((function(e){var t=[Qe.a.Digit];return e===a&&t.push(Qe.a.active),i.has(e)||t.push(Qe.a.Disabled),t.join(" ")}),[a,i]);return r.a.createElement("div",{className:"".concat(Qe.a.Digits," ").concat(t?Qe.a.isNoting:"")},r.a.createElement(Ke,{className:o(1),onClick:i.has(1)?function(){return l(1)}:void 0},N[1],r.a.createElement("div",{className:Qe.a.Count},N[c[1]])),[2,3,4,5,6,7,8,9].map((function(e){return r.a.createElement("div",{key:e,className:o(e),onClick:i.has(e)?function(){return l(e)}:void 0},N[e],r.a.createElement("div",{className:Qe.a.Count},N[c[e]]))})))})),qe=a(13),$e=a.n(qe),et=function(e){var t=e.cellsRecord,a=e.hasPrev,n=e.hasNext,i=e.jump,c=e.jumpToFirst,l=e.jumpToLast,o=e.remainingDigits,s=e.activeVal,u=e.availableDigits,f=e.digitClickedHandler,d=e.showAvail,h=e.isNoting,p=e.deselectHandler,b=e.toggleShowAvailHandler,k=e.toggleIsNotingHandler,_=e.resetHandler,m=e.eraseValueHandler,g=e.autoNoteHandler,y=e.autoPlacePointingClaimingHandler,O=e.tip,C=e.tipHandler;return r.a.createElement("div",{className:$e.a.Controls},r.a.createElement("div",{className:$e.a.History},r.a.createElement(v,{disabled:!a,onClick:c},"first"),r.a.createElement(v,{disabled:!a,onClick:function(){return i(-1)}},"prev"),r.a.createElement("span",null,"#",t.idx),r.a.createElement(v,{disabled:!n,onClick:function(){return i(1)}},"next"),r.a.createElement(v,{disabled:!n,onClick:l},"last"),r.a.createElement("span",null,t.desc)),r.a.createElement("div",{className:$e.a.Panel},r.a.createElement(v,{onClick:_},"Reset"),r.a.createElement(v,{onClick:m},"Erase"),r.a.createElement(v,{onClick:p},"Deselect"),r.a.createElement(v,{type:d?"On":"Off",onClick:b},"Avail"),r.a.createElement(v,{type:h?"On":"Off",onClick:k},"Note")),r.a.createElement(Ze,{isNoting:h,activeVal:s,availableDigits:u,remainingDigits:o,digitClickedHandler:f}),r.a.createElement("div",{className:$e.a.Tools},r.a.createElement(v,{onClick:g},"note"),r.a.createElement(v,{onClick:y},"place/point/claim"),r.a.createElement("div",{className:$e.a.Tip},r.a.createElement(v,{type:O&&"On",onClick:C},O?O.name:"tip"))))},tt=a(37),at=a.n(tt),nt=function(e){var t=e.show,a=e.onClick;return t?r.a.createElement("div",{className:at.a.Backdrop,onClick:a}):null},rt=a(19),it=a.n(rt),ct=r.a.memo(r.a.memo((function(e){var t=e.show,a=void 0!==t&&t,n=e.close,i=e.children,c=[it.a.Modal];return a&&c.push(it.a.Show),r.a.createElement(r.a.Fragment,null,r.a.createElement(nt,{show:a,onClick:n}),r.a.createElement("div",{className:c.join(" ")},r.a.createElement("div",{className:it.a.Close,onClick:n},"X"),i))})),(function(e,t){return!e.show&&!t.show})),lt=a(38),ot=a.n(lt),st=a(14),ut=a.n(st),ft=function(e){var t=e.sudoku,a=void 0===t?new de:t,i=e.startNewGameHandler,c=e.emptyHandler,u=Object(n.useState)(!1),f=Object(l.a)(u,2),d=f[0],h=f[1],p=Object(n.useState)(0),b=Object(l.a)(p,2)[1];Object(n.useEffect)((function(){return a.subscribe(b),function(){a.unsubscribe(b)}}),[a]);var k=Object(n.useState)({pos:null,val:0}),_=Object(l.a)(k,2),m=_[0],g=_[1],y=m.pos,O=m.val,C=Object(n.useState)(!1),w=Object(l.a)(C,2),j=w[0],E=w[1],x=Object(n.useState)(!0),N=Object(l.a)(x,2),A=N[0],P=N[1],I=Object(n.useState)(null),T=Object(l.a)(I,2),M=T[0],S=T[1],L=a.cellsRecord,G=L.cells,D=Object(n.useMemo)((function(){return a.calcAvailableDigits(y,G)}),[y,a,G]),H=Object(n.useMemo)((function(){return a.calcAvailablePositions(O,G)}),[O,a,G]),V=Object(n.useMemo)((function(){return a.calcRemainingDigits(G)}),[a,G]),R=Object(n.useCallback)((function(e){0!==O?a.updateCellValue(A,e,O):g((function(t){var a=t.pos;return a&&e===a&&(e=null),{pos:e,val:0}}))}),[O,A,a]),U=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)g({pos:null,val:e});else{if(!D.has(e))return;y?a.updateCellValue(A,y,e):g((function(t){var a=t.val,n=e;return a===e&&(n=0),{pos:null,val:n}}))}}),[y,D,A,a]),z=Object(n.useCallback)((function(){g({pos:null,val:0})}),[]),B=Object(n.useCallback)((function(){window.confirm&&!window.confirm("Are you sure to reset?")||(a.reset(),z())}),[z,a]),X=Object(n.useCallback)((function(){y&&a.updateCellValue(!1,y,ve.new())}),[y,a]),W=Object(n.useCallback)((function(){E((function(e){return!e}))}),[]),F=Object(n.useCallback)((function(){P((function(e){return!e}))}),[]),J=Object(n.useCallback)((function(){a.autoNote()}),[a]),K=Object(n.useCallback)((function(){a.autoPlacePointingClaiming()}),[a]),Q=Object(n.useCallback)((function(){if(M)S(null),a.handleTip(M);else{var e=a.findTip();e&&(oe.a.log("tip:",e),S(e))}z()}),[z,a,M]),Z=Object(n.useCallback)((function(e,t){y&&g((function(a){var n=a.pos,r=n.row,i=n.col;return{val:0,pos:Y((r+9+e)%9,(i+9+t)%9)}}))}),[y]),q=Object(n.useCallback)((function(e){O&&g((function(t){return{pos:null,val:(t.val-1+e+9)%9+1}}))}),[O]),$=Object(n.useMemo)((function(){if(M)if("group"===M.type){var e,t,a=M.cls,n=M.domain,r=M.poses,i=M.notes;if(0===a)return{effect:(e={},Object(s.a)(e,n+"s",new Set([M[n]])),Object(s.a)(e,"notes",i),e),highlights:{poses:r,notes:i}};if(1===a)return{domain:(t={},Object(s.a)(t,n+"s",new Set([M[n]])),Object(s.a)(t,"notes",i),t),highlights:{poses:r,notes:i}}}else if("X-Group"===M.type){var c=M.domain,l=M.rows,u=M.cols,f=M.blocks,v=M.poses,d=M.d,h=new Set([d]);if("row"===c)return{domain:{rows:l},effect:{cols:u,blocks:f,notes:h},highlights:{poses:v,notes:h}};if("col"===c)return{domain:{cols:u},effect:{rows:l,blocks:f,notes:h},highlights:{poses:v,notes:h}};if("block"===c)return{domain:{blocks:f},effect:{rows:l,cols:u,notes:h},highlights:{poses:v,notes:h}}}else if("chain"===M.type){var p,b=M.chain,k=M.effectedPoses,_=M.d,m=new Set(b.map((function(e){return e.pos}))),g=new Set(b.map((function(e){return e.d})).filter((function(e){return e!==_}))),y=new Set([_]),O=[],C=b[0],w=Object(o.a)(b.slice(1));try{for(w.s();!(p=w.n()).done;){var j=p.value;O.push({startPos:C.pos,startDigit:C.d,endPos:j.pos,endDigit:j.d,type:j.val?"solid":"dashed"}),C=j}}catch(E){w.e(E)}finally{w.f()}return{arrows:O,effect:{poses:k,notes:y},highlights:{poses:m,notes:y,subNotes:g}}}}),[M]);Object(n.useEffect)((function(){var e=function(e){if(oe.a.log(e),e.code.startsWith("Digit")){var t=parseInt(e.key);U(t)}else if("N"===e.key)i();else if("n"===e.key)e.ctrlKey?J():F();else if("b"===e.key)O||y||R(Y(4,4));else if("d"===e.key||"Escape"===e.key)z();else if("t"===e.key)Q();else if("p"===e.key)K();else if("h"===e.key||"ArrowLeft"===e.key)y?Z(0,-1):O?q(-1):a.jumpToFirst();else if("l"===e.key||"ArrowRight"===e.key)y?Z(0,1):O?q(1):a.jumpToLast();else if("j"===e.key||"ArrowDown"===e.key)y?Z(1,0):O?q(-1):a.jump(-1);else{if("k"!==e.key&&"ArrowUp"!==e.key)return;y?Z(-1,0):O?q(1):a.jump(1)}e.preventDefault()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[y,O,J,K,R,z,U,Z,q,i,a,Q,F]),Object(n.useEffect)((function(){S(null)}),[G]);var ee=null;if(d){var te=new URL(window.location),ae=a.initialPuzzle,ne=a.stringify();te.search="?puzzle="+ne,ee=r.a.createElement("div",{className:ut.a.QRCode},r.a.createElement(ot.a,{size:256,value:te.toString()}),r.a.createElement("p",null,ae),r.a.createElement("p",null,ne))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(ct,{show:d,close:function(){return h(!1)}},ee),r.a.createElement("div",{className:ut.a.Menu},r.a.createElement(v,{onClick:i},"New"),r.a.createElement(v,{onClick:c},"Empty"),r.a.createElement(v,{onClick:function(){return h(!0)}},"Share")),r.a.createElement("div",{className:ut.a.Board},r.a.createElement(Xe,{cells:G,availablePositions:H,activeVal:O,activePos:y,cellClickedHandler:R,showAvail:j,isNoting:A,marks:$})),r.a.createElement("div",{className:ut.a.Controls},r.a.createElement(et,{cellsRecord:L,hasPrev:a.hasPrev,hasNext:a.hasNext,jump:a.jump,jumpToFirst:a.jumpToFirst,jumpToLast:a.jumpToLast,remainingDigits:V,activeVal:O,availableDigits:D,digitClickedHandler:U,showAvail:j,isNoting:A,resetHandler:B,eraseValueHandler:X,deselectHandler:z,toggleShowAvailHandler:W,toggleIsNotingHandler:F,autoNoteHandler:J,autoPlacePointingClaimingHandler:K,tip:M,tipHandler:Q})),r.a.createElement("div",{className:ut.a.Info}))},vt=a(25),dt=a.n(vt),ht=function(e){var t=e.cancelNewGameHandler,a=e.newGameHandler,i=e.error,c=Object(n.useState)(""),o=Object(l.a)(c,2),s=o[0],u=o[1],f=Object(n.useCallback)((function(e){u(e.target.value)}),[]),d=Object(n.useRef)();return Object(n.useEffect)((function(){d.current.focus()}),[]),Object(n.useEffect)((function(){var e=function(e){if("Escape"===e.key)t();else{if("Enter"!==e.key||!e.shiftKey)return;a(s)}e.preventDefault()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[t,a,s]),r.a.createElement("div",{className:dt.a.NewGame},r.a.createElement("h1",null,"input a new puzzle"),i&&r.a.createElement("div",{className:dt.a.Error},i.message),r.a.createElement("textarea",{ref:d,id:"puzzle",name:"puzzle",inputMode:"numeric",onChange:f,value:s,placeholder:"901002708\n570060000\n000000004\n000000000\n700421900\n000098030\n300506070\n009003000\n000080051"}),r.a.createElement(v,{onClick:t},"Cancel"),r.a.createElement(v,{onClick:function(){return a(s)}},"Done"))},pt=a(39),bt=a.n(pt),kt=function(){var e=Object(n.useState)((function(){var e=new URLSearchParams(window.location.search).get("puzzle");try{return new de(e)}catch(t){return new de}})),t=Object(l.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)(!1),o=Object(l.a)(c,2),s=o[0],u=o[1],f=Object(n.useState)(null),v=Object(l.a)(f,2),d=v[0],h=v[1],p=Object(n.useCallback)((function(){u(!0)}),[]),b=Object(n.useCallback)((function(){u(!1)}),[]),k=Object(n.useCallback)((function(e){try{i(new de(e)),u(!1)}catch(t){h(t)}}),[]),_=Object(n.useCallback)((function(){k()}),[k]),m=null;return m=s?r.a.createElement(ht,{cancelNewGameHandler:b,newGameHandler:k,error:d}):r.a.createElement(ft,{sudoku:a,startNewGameHandler:p,emptyHandler:_}),r.a.createElement("div",{className:bt.a.Sudoku},m)};function _t(){return r.a.createElement(kt,null)}var mt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function gt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(_t,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/sudoku-game",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/sudoku-game","/service-worker.js");mt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):gt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):gt(t,e)}))}}()}],[[41,1,2]]]);
//# sourceMappingURL=main.efb07c94.chunk.js.map