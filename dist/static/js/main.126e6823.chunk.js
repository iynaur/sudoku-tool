(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[0],[,,,,function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b}));var a=n(7),r=n.n(a),i=n(2),o=n(1),c=r.a.mark(f),l=r.a.mark(d),s=r.a.mark(v),u=function(){};function f(e,t,n){var a,l,s,u,d,v;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t<n)){r.next=3;break}r.next=38;break;case 3:if(1!==n){r.next=13;break}a=e;case 5:if(!(a<t+e)){r.next=11;break}return r.next=8,[a];case 8:a++,r.next=5;break;case 11:r.next=38;break;case 13:if(t!==n){r.next=20;break}for(l=[],s=e;s<t+e;s++)l.push(s);return r.next=18,l;case 18:r.next=38;break;case 20:u=Object(o.a)(f(e+1,t-1,n-1)),r.prev=21,u.s();case 23:if((d=u.n()).done){r.next=29;break}return v=d.value,r.next=27,[e].concat(Object(i.a)(v));case 27:r.next=23;break;case 29:r.next=34;break;case 31:r.prev=31,r.t0=r.catch(21),u.e(r.t0);case 34:return r.prev=34,u.f(),r.finish(34);case 37:return r.delegateYield(f(e+1,t-1,n),"t1",38);case 38:case"end":return r.stop()}}),c,null,[[21,31,34,37]])}function d(e,t){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(f(0,e,t),"t0",1);case 1:case"end":return n.stop()}}),l)}function v(e,t){var n,a,c,l,u,f,v,h,p,b,k,m,_,g,y=arguments;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:n=y.length>2&&void 0!==y[2]?y[2]:0,a=y.length>3&&void 0!==y[3]?y[3]:{checkClear:!0},c={},l=Object(o.a)(e);try{for(l.s();!(u=l.n()).done;)f=u.value,v=f[n],h=f[(n+1)%2],(p=c[v]||{start:v,ends:new Set}).ends.add(h),c[v]=p}catch(O){l.e(O)}finally{l.f()}if(b=Object.values(c),k=b.filter((function(e){return e.ends.size<=t})),!(a.checkClear&&b.length<=t)){s.next=9;break}return s.abrupt("return");case 9:m=Object(o.a)(d(k.length,t)),s.prev=10,g=r.a.mark((function e(){var n,c,l,s,u,f,d,v,h,p,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=_.value,c=new Set,l=new Set,s=Object(o.a)(n),e.prev=4,s.s();case 6:if((u=s.n()).done){e.next=15;break}if(f=u.value,d=k[f],c.add(d.start),d.ends.forEach(l.add,l),!(l.size>t)){e.next=13;break}return e.abrupt("break",15);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),s.e(e.t0);case 20:return e.prev=20,s.f(),e.finish(20);case 23:if(l.size!==t){e.next=47;break}if(!(v=a.checkClear)){e.next=44;break}h=Object(o.a)(b.filter((function(e){return!c.has(e.start)}))),e.prev=27,h.s();case 29:if((p=h.n()).done){e.next=36;break}if(m=p.value,!(Object(i.a)(m.ends).filter((function(e){return!l.has(e)})).length<m.ends.size)){e.next=34;break}return v=!1,e.abrupt("break",36);case 34:e.next=29;break;case 36:e.next=41;break;case 38:e.prev=38,e.t1=e.catch(27),h.e(e.t1);case 41:return e.prev=41,h.f(),e.finish(41);case 44:if(v){e.next=47;break}return e.next=47,[c,l];case 47:case"end":return e.stop()}}),e,null,[[4,17,20,23],[27,38,41,44]])})),m.s();case 13:if((_=m.n()).done){s.next=17;break}return s.delegateYield(g(),"t0",15);case 15:s.next=13;break;case 17:s.next=22;break;case 19:s.prev=19,s.t1=s.catch(10),m.e(s.t1);case 22:return s.prev=22,m.f(),s.finish(22);case 25:case"end":return s.stop()}}),s,null,[[10,19,22,25]])}(window||e||{}).console;var h={group:u,groupEnd:u,log:u,error:u},p=function(e,t,n){return void 0===e[t]&&(e[t]=n),e[t]};function b(e){for(var t=Object(i.a)(e),n=t.length-1;n>0;n--){var a=Math.floor(Math.random()*(n+1)),r=[t[a],t[n]];t[n]=r[0],t[a]=r[1]}return t}}).call(this,n(50))},function(e,t,n){e.exports={Value:"Cell_Value__1lDbW",Notes:"Cell_Notes__10ap7",Related:"Cell_Related__ET6Lg",Available:"Cell_Available__3vvqK",Place:"Cell_Place__3TPHN",Note:"Cell_Note__2U2fC",MarkedDomain:"Cell_MarkedDomain__31hFJ",MarkedEffect:"Cell_MarkedEffect___usON",MarkedHighlight:"Cell_MarkedHighlight__2O1xC",WithoutOutline:"Cell_WithoutOutline__35g8t",ActiveValue:"Cell_ActiveValue__3McOV",Placed:"Cell_Placed__3HOvj",Selected:"Cell_Selected__2LsAU",MarkedValue:"Cell_MarkedValue__dMEee",MarkedNoteValue:"Cell_MarkedNoteValue__24o3W",Effected:"Cell_Effected__HnLYk",RowNotes:"Cell_RowNotes__1QNhn",PlacedValue:"Cell_PlacedValue__2vP-2"}},,,function(e,t,n){e.exports={Zero:"Digits_Zero__2W6xd",One:"Digits_One__-wXsd",Two:"Digits_Two__5WRCG",Three:"Digits_Three__1GKk-",Four:"Digits_Four__1ahFU",Five:"Digits_Five__3m1dx",Six:"Digits_Six__kvriF",Seven:"Digits_Seven__2_nmU",Eight:"Digits_Eight__GNMw3",Nine:"Digits_Nine__3u9wd"}},,,function(e,t,n){e.exports={Controls:"Controls_Controls__1Accx",History:"Controls_History__2GRXF",Panel:"Controls_Panel__1AK4m",Tools:"Controls_Tools__1-fbY",Tip:"Controls_Tip__2IHiE",ChainSteper:"Controls_ChainSteper__RRrIh"}},function(e,t,n){e.exports={Digits:"Digits_Digits__3-KZF",Digit:"Digits_Digit__1MXW9",digit:"Digits_digit__3Mpxe",Disabled:"Digits_Disabled__1N4Jw",active:"Digits_active__2AexO",Count:"Digits_Count__Eq4Q5",isNoting:"Digits_isNoting__-OBTK"}},,function(e,t,n){e.exports={Menu:"Main_Menu__3YGZL",Board:"Main_Board__3XJet",Controls:"Main_Controls__1MSdo",Info:"Main_Info__2888w",QRCode:"Main_QRCode__1jj5B"}},,,,function(e,t,n){e.exports={Block:"Block_Block__1kJyh",Odd:"Block_Odd__2xFZf",Row:"Block_Row__11Olq"}},function(e,t,n){e.exports={SudokuBoard:"Board_SudokuBoard__3cPYp",Row:"Board_Row__2r5V5",Complete:"Board_Complete__UekFD",SudokuComplete:"Board_SudokuComplete__13blN"}},function(e,t,n){e.exports={Modal:"Modal_Modal__31OI7",Show:"Modal_Show__d05bc",Close:"Modal_Close__IQjCe"}},function(e,t,n){e.exports={Button:"Button_Button__2Ajf-",Warn:"Button_Warn__1cddQ",On:"Button_On__3d77T",Off:"Button_Off__R9f9J"}},,,,function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__Vem4f",Absolute:"Backdrop_Absolute__Z8lxG"}},function(e,t,n){e.exports={NewGame:"NewGame_NewGame__2hKIv",Error:"NewGame_Error__mao55"}},,,,,,,,,,,function(e,t,n){e.exports={Pointer:"Arrow_Pointer__1rYd7"}},function(e,t,n){e.exports={Spinner:"Loading_Spinner__1CFco"}},function(e,t,n){e.exports={Loader:"Spinner_Loader__1twK-",load2:"Spinner_load2__2gkgc"}},,function(e,t,n){e.exports={Sudoku:"Sudoku_Sudoku__3acWS"}},,function(e,t,n){e.exports=n(61)},,,,,function(e,t,n){},,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getDigitLocalPos",(function(){return M})),n.d(a,"blockShape",(function(){return H})),n.d(a,"indices",(function(){return D})),n.d(a,"blocks",(function(){return V})),n.d(a,"rows",(function(){return B})),n.d(a,"cols",(function(){return U})),n.d(a,"rowColToBlock",(function(){return z})),n.d(a,"blockRowColIndex",(function(){return X})),n.d(a,"blockRows",(function(){return W})),n.d(a,"blockCols",(function(){return F})),n.d(a,"rowPositions",(function(){return K})),n.d(a,"colPositions",(function(){return Z})),n.d(a,"getPosition",(function(){return ae})),n.d(a,"getPosBlock",(function(){return re})),n.d(a,"getBlockPositions",(function(){return ie})),n.d(a,"getBlockFlattenPositions",(function(){return oe})),n.d(a,"getRowPositions",(function(){return ce})),n.d(a,"getColPositions",(function(){return le})),n.d(a,"getRelatedBlockPositions",(function(){return se})),n.d(a,"getRelatedRowPositions",(function(){return ue})),n.d(a,"getRelatedColPositions",(function(){return fe})),n.d(a,"getRelatedPositions",(function(){return de})),n.d(a,"flattenPositions",(function(){return ve})),n.d(a,"getPositionByKey",(function(){return pe})),n.d(a,"mapPositionsTo",(function(){return be})),n.d(a,"getCell",(function(){return ke})),n.d(a,"getCommonRelatedPositions",(function(){return _e})),n.d(a,"findClosedPosPair",(function(){return ye}));var r=n(0),i=n.n(r),o=n(33),c=n.n(o),l=(n(48),n(3)),s=n(2),u=n(1),f=n(6),d=n(21),v=n.n(d),h=function(e){var t=e.type,n=e.onClick,a=e.disabled,r=void 0!==a&&a,o=e.children,c=[v.a.Button];return t&&c.push(v.a[t]),i.a.createElement("button",{className:c.join(" "),disabled:r,onClick:n},o)},p=n(5),b=n.n(p),k=n(8),m=n.n(k),_=function(e){return function(t){var n,a=t.color,r=t.digitClassName,o=void 0===r?"digit":r,c=t.className,l=void 0===c?"":c,s=t.children;return i.a.createElement("div",{className:"".concat(e," ").concat(o," ").concat(l),style:(n=a,n?{backgroundColor:n}:{})},s)}},g=_(m.a.Zero),y=_(m.a.One),O=_(m.a.Two),C=_(m.a.Three),j=_(m.a.Four),w=_(m.a.Five),E=_(m.a.Six),x=_(m.a.Seven),N=_(m.a.Eight),P=_(m.a.Nine),A=[i.a.createElement(g,null),i.a.createElement(y,null),i.a.createElement(O,null),i.a.createElement(C,null),i.a.createElement(j,null),i.a.createElement(w,null),i.a.createElement(E,null),i.a.createElement(x,null),i.a.createElement(N,null),i.a.createElement(P,null)],T=n(7),I=n.n(T),S=n(17),G=n(22),L=n(23),M=function(e){return[Math.floor((e-1)/3),(e-1)%3]},R=[0,1,2,3,4,5,6,7,8],H=[[0,1,2],[3,4,5],[6,7,8]],D=R,V=R,B=R,U=R,z=function(e,t){return 3*Math.floor(e/3)+Math.floor(t/3)},X=function(e,t){return e%3*3+t%3},W=function(e){var t=3*Math.floor(e/3);return[t,t+1,t+2]},F=function(e){var t=e%3*3;return[t,t+1,t+2]},Y=R.map((function(e){return R.map((function(t){return{key:"r".concat(e,"c").concat(t),idx:9*e+t,row:e,col:t,block:z(e,t),toString:function(){return this.key}}}))})),K=Y,J=R.map((function(e){return R.map((function(t){return Y[e].filter((function(e){return e.col!==t}))}))})),Q=R.map((function(e){return R.map((function(t){return Y[t][e]}))})),Z=Q,q=R.map((function(e){return R.map((function(t){return Q[e].filter((function(e){return e.row!==t}))}))})),$=R.map((function(e){return W(e).map((function(t){return Y[t].filter((function(t){return t.block===e}))}))})),ee=R.map((function(e){var t=$[e];return[].concat(Object(s.a)(t[0]),Object(s.a)(t[1]),Object(s.a)(t[2]))})),te=R.map((function(e){return R.map((function(t){return ee[e].filter((function(e,n){return n!==t}))}))})),ne=R.map((function(e){return R.map((function(t){var n=z(e,t),a=[];return Y.forEach((function(r){return r.forEach((function(r){var i=r.row,o=r.col,c=r.block;e===i&&t===o&&n===c||e!==i&&t!==o&&n!==c||a.push(r)}))})),a}))})),ae=function(e,t){return Y[e][t]},re=function(e,t){return Y[e][t].block},ie=function(e){return $[e]},oe=function(e){return ee[e]},ce=function(e){return Y[e]},le=function(e){return Q[e]},se=function(e){var t=e.row,n=e.col,a=e.block;return te[void 0===a?z(t,n):a][X(t,n)]},ue=function(e){var t=e.row,n=e.col;return J[t][n]},fe=function(e){var t=e.row,n=e.col;return q[n][t]},de=function(e){var t=e.row,n=e.col;return ne[t][n]},ve=Y.flat(),he={};ve.forEach((function(e){he[e.key]=e}));var pe=function(e){return he[e]},be=function(e){return R.map((function(t){return R.map((function(n){return e(t,n)}))}))},ke=function(e,t){return e[t.row][t.col]},me=function(e,t){var n=new Set(t);return e.filter((function(e){return n.has(e)}))},_e=function e(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];switch(n.length){case 0:return[];case 1:return de(n[0]);default:var r=n[0],i=n.slice(1);return me(de(r),e.apply(void 0,Object(s.a)(i)))}},ge=function(e,t){var n=e.row-t.row,a=e.col-t.col;return n*n+a*a},ye=function(e,t){if(1===e.length&&1===t)return[e[0],t[0]];var n,a=Number.MAX_VALUE,r=null,i=null,o=Object(u.a)(e);try{for(o.s();!(n=o.n()).done;){var c,l=n.value,s=Object(u.a)(t);try{for(s.s();!(c=s.n()).done;){var f=c.value,d=ge(l,f);d<a&&(a=d,r=l,i=f)}}catch(v){s.e(v)}finally{s.f()}}}catch(v){o.e(v)}finally{o.f()}return[r,i]},Oe=n(4),Ce=I.a.mark(Te),je=I.a.mark(Ue),we=I.a.mark(Ke),Ee=[1,2,3,4,5,6,7,8,9],xe=function(){function e(){Object(G.a)(this,e)}return Object(L.a)(e,null,[{key:"new",value:function(){for(var e=65536,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var r=0,i=n;r<i.length;r++){var o=i[r];e|=1<<o}return e}},{key:"isEmpty",value:function(e){return e===this._base}},{key:"size",value:function(e){for(var t=0,n=1;n<=9;n++)1===(1&(e>>=1))&&t++;return t}},{key:"first",value:function(t){for(var n=1;n<=9;n++)if(e.has(t,n))return n}},{key:"entries",value:function(t){for(var n=[],a=1;a<=9;a++)e.has(t,a)&&n.push(a);return n}},{key:"is",value:function(e){return 0!==(e&this._base)}},{key:"has",value:function(t,n){return e.is(t)&&0!==(t&1<<n)}},{key:"add",value:function(e,t){return e|1<<t}},{key:"delete",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];for(var r=0,i=n;r<i.length;r++){var o=i[r];e&=~(1<<o)}return e}}]),e}();xe._base=65536;var Ne=function(){function e(t){var n=this;Object(G.a)(this,e),this.jumpTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e<n._historyLowerBound||(n._curCellsIdx=e,n._curCellsIdx<0?n._curCellsIdx=0:n._curCellsIdx>=n._cellsHistory.length&&(n._curCellsIdx=n._cellsHistory.length-1),t&&n._cut(),n._rollback(),n._notify())},this.revertTo=function(e){n.jumpTo(e,!0)},this.jump=function(e){n.jumpTo(n.curIdx+e)},this.jumpToFirst=function(){n.jumpTo(0)},this.jumpToLast=function(){n.jumpTo(n.lastIdx)},this._shouldNotify=!0,this.subscribers=[],this._setPuzzle(t||e.defaultPuzzle)}return Object(L.a)(e,[{key:"_setPuzzle",value:function(t){this._cellsHistory=[],this._curCellsIdx=-1,this._txCells=null,this._historyLowerBound=0,this._setCells(e.parse(t),"init"),this.puzzle=this.stringify(),this._checkComplete(),this._notify()}},{key:"setHistoryLowerBound",value:function(e){this._historyLowerBound=e}},{key:"clearHistoryLowerBound",value:function(){this._historyLowerBound=0}},{key:"_cut",value:function(){this._curCellsIdx+1<this._cellsHistory.length&&(this._cellsHistory=this._cellsHistory.slice(0,this._curCellsIdx+1))}},{key:"_setCells",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._cut(),this._curCellsIdx++,this._cellsHistory.push({idx:this._curCellsIdx,cells:e,desc:t})}},{key:"subscribe",value:function(e){this.subscribers.push(e)}},{key:"unsubscribe",value:function(e){this.subscribers=this.subscribers.filter((function(t){return t!==e}))}},{key:"_disableNotify",value:function(){this._shouldNotify=!1}},{key:"_enableNotify",value:function(){this._shouldNotify=!0}},{key:"_notify",value:function(){if(this._shouldNotify){this._checkComplete();var e,t=Object(u.a)(this.subscribers);try{for(t.s();!(e=t.n()).done;){(0,e.value)((function(e){return e+1}))}}catch(n){t.e(n)}finally{t.f()}}}},{key:"stringify",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Object(S.a)({placedAsOrigin:!1,withNotes:!0,originAsPlaced:!1},t),e=e||this.cells;var n,a=[],r=Object(u.a)(ve);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=e[i.row][i.col],c=o.origin,l=o.value;if(xe.is(l)){if(!t.withNotes){a.push("0");continue}xe.isEmpty(l)?a.push("0"):a.push.apply(a,["n"].concat(Object(s.a)(xe.entries(l)),["N"]))}else!t.placedAsOrigin&&!c||t.originAsPlaced?a.push("p",l):a.push(l)}}catch(f){r.e(f)}finally{r.f()}return a.join("")}},{key:"calcAvailableDigits",value:function(e){var t=new Set([1,2,3,4,5,6,7,8,9]);if(!e)return t;if(this.getCell(e).origin)return new Set;var n,a=Object(u.a)(de(e));try{for(a.s();!(n=a.n()).done;){var r=n.value,i=this.getCell(r).value;xe.is(i)||t.delete(i)}}catch(o){a.e(o)}finally{a.f()}return t}},{key:"calcRemainingDigits",value:function(){var e,t={1:9,2:9,3:9,4:9,5:9,6:9,7:9,8:9,9:9},n=Object(u.a)(ve);try{for(n.s();!(e=n.n()).done;){var a=e.value,r=this.getCell(a).value;xe.is(r)||t[r]--}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"calcAvailablePositions",value:function(e){if(!(e>=1&&e<=9))return null;var t,n=be((function(){return!0})),a=Object(u.a)(ve);try{for(a.s();!(t=a.n()).done;){var r=t.value,i=this.getCell(r).value;if(!xe.is(i)&&(n[r.row][r.col]=!1,i===e)){var o,c=Object(u.a)(de(r));try{for(c.s();!(o=c.n()).done;){var l=o.value,s=l.row,f=l.col;n[s][f]=!1}}catch(d){c.e(d)}finally{c.f()}}}}catch(d){a.e(d)}finally{a.f()}return n}},{key:"_txSetCellValue",value:function(e,t,n){var a=t.row,r=t.col;if(n===this.getCell(t).value)return e;var i=this.getCurCells();if(e===i&&(e=Object(s.a)(i)),e[a]===i[a]&&(e[a]=Object(s.a)(i[a])),e[a][r]===i[a][r]&&(e[a][r]=Object(S.a)({},i[a][r])),e[a][r].value=n,!xe.is(n)){var o,c=Object(u.a)(de(t));try{for(c.s();!(o=c.n()).done;){var l=o.value,f=this.getCell(l);xe.is(f.value)&&(e=this._txSetCellValue(e,l,xe.delete(f.value,n)))}}catch(d){c.e(d)}finally{c.f()}}return e}},{key:"getCurCells",value:function(){return this._txCells?this._txCells:this.cells}},{key:"getCell",value:function(e){var t=e.row,n=e.col;return this.getCurCells()[t][n]}},{key:"_startTx",value:function(){this._txCells||(this._txCells=this.getCurCells())}},{key:"_commit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._txCells&&this._txCells!==this.cells&&(this._setCells(this._txCells,e),this._txCells=null,this._notify())}},{key:"_rollback",value:function(){this._txCells=null}},{key:"_setCellValue",value:function(e,t){this._startTx(),this._txCells=this._txSetCellValue(this._txCells,e,t)}},{key:"_handlActions",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t){case e.actions.RESET:this._setPuzzle(this.puzzle);break;case e.actions.NOTE:this._note(n);break;case e.actions.AUTO_NOTE:this._autoNote();break;case e.actions.AUTO_PLACE:this._autoPlace();break;case e.actions.AUTO_POINTING:this._autoPointing();break;case e.actions.AUTO_CLAIMING:this._autoClaiming();break;case e.actions.AUTO_PLACE_POINTING_CLAIMING:this._autoPlacePointingClaiming();break;case e.actions.UPDATE_CELL_VALUE:this._updateCellValue(n);break;case e.actions.ELIMINATE_GROUP:this._eliminateGroup(n);break;case e.actions.ELIMINATE_XGROUP:this._eliminateXGroup(n);break;case e.actions.ELIMINATE_CHAIN:this._eliminateChain(n);break;case e.actions.ELIMINATE_TRIAL_ERROR:this._eliminateTrialError(n);break;case e.actions.HANDLE_TIP:this._handleTip(n)}}},{key:"dispatch",value:function(e,t,n){(n=Object(S.a)({commit:!0,log:!0},n||{})).log&&(Oe.a.group("[".concat(e,"]")),t&&Oe.a.log("->payload:",t),n&&Oe.a.log("->options:",n)),this._startTx(),this._handlActions(e,t,n),n.log&&Oe.a.groupEnd(),n.commit&&this._commit(e)}},{key:"reset",value:function(){this.dispatch(e.actions.RESET)}},{key:"note",value:function(t){this.dispatch(e.actions.NOTE,{pos:t})}},{key:"updateCellValue",value:function(t,n,a){this.dispatch(e.actions.UPDATE_CELL_VALUE,{isNoting:t,pos:n,value:a})}},{key:"autoNote",value:function(){this.dispatch(e.actions.AUTO_NOTE)}},{key:"autoPlacePointingClaiming",value:function(){this.dispatch(e.actions.AUTO_PLACE_POINTING_CLAIMING)}},{key:"autoPlace",value:function(){this.dispatch(e.actions.AUTO_PLACE)}},{key:"autoPointing",value:function(){this.dispatch(e.actions.AUTO_POINTING)}},{key:"autoClaiming",value:function(){this.dispatch(e.actions.AUTO_CLAIMING)}},{key:"eliminateGroup",value:function(t){this.dispatch(e.actions.ELIMINATE_GROUP,{group:t})}},{key:"eliminateXGroup",value:function(t){this.dispatch(e.actions.ELIMINATE_XGROUP,{tip:t})}},{key:"eliminateChain",value:function(t){this.dispatch(e.actions.ELIMINATE_CHAIN,{tip:t})}},{key:"eliminateTrialError",value:function(t){this.dispatch(e.actions.ELIMINATE_TRIAL_ERROR,{tip:t})}},{key:"handleTip",value:function(t){this.dispatch(e.actions.HANDLE_TIP,{tip:t})}},{key:"_checkValidity",value:function(){for(var e=this,t=0,n=[["row",ce],["col",le],["block",oe]];t<n.length;t++){var a,r=Object(l.a)(n[t],2),i=r[0],o=r[1],c=Object(u.a)(D);try{var s=function(){var t,n,r=a.value,c=new Set(Ee),l=Object(u.a)(o(r));try{for(l.s();!(t=l.n()).done;){var s=t.value,d=e.getCell(s).value;xe.is(d)?xe.entries(d).forEach((function(e){return c.delete(e)})):c.delete(d)}}catch(v){l.e(v)}finally{l.f()}if(0!==c.size)return{v:(n={domain:i},Object(f.a)(n,i,r),Object(f.a)(n,"digits",c),n)}};for(c.s();!(a=c.n()).done;){var d=s();if("object"===typeof d)return d.v}}catch(v){c.e(v)}finally{c.f()}}}},{key:"_checkComplete",value:function(){var e,t=Object(u.a)(ve);try{for(t.s();!(e=t.n()).done;){var n=e.value,a=this.getCell(n).value;if(xe.is(a))return this._isComplete=!1,!1}}catch(r){t.e(r)}finally{t.f()}return this._isComplete=!0,!0}},{key:"_note",value:function(e){var t=e.pos,n=this.getCell(t).value;xe.is(n)&&(xe.size(n)>0||this._setCellValue(t,xe.new.apply(xe,Object(s.a)(this.calcAvailableDigits(t)))))}},{key:"_autoNote",value:function(){var t,n=Object(u.a)(ve);try{for(n.s();!(t=n.n()).done;){var a=t.value;this.dispatch(e.actions.NOTE,{pos:a},{commit:!1,log:!1})}}catch(r){n.e(r)}finally{n.f()}}},{key:"_autoPlacePointingClaiming",value:function(){try{var t=0;do{t=0,t+=this._autoPlace(),this._commit(e.actions.AUTO_PLACE),t+=this._autoPointing(),this._commit(e.actions.AUTO_POINTING),t+=this._autoClaiming(),this._commit(e.actions.AUTO_CLAIMING)}while(t>0)}catch(n){Oe.a.log(n)}}},{key:"_autoPlace",value:function(){var t=0,n=!1;Oe.a.group("[auto place]");do{n=!1;for(var a=0,r=[0,1];a<r.length;a++){var i,o=r[a],c=Object(u.a)(Ue(this.getCurCells(),1,o));try{for(c.s();!(i=c.n()).done;){var l=i.value;this.dispatch(e.actions.ELIMINATE_GROUP,{group:l},{commit:!1}),t++,n=!0;break}}catch(s){c.e(s)}finally{c.f()}}}while(n);return Oe.a.groupEnd(),t}},{key:"_autoPointing",value:function(){var t=0;Oe.a.group("[auto pointing]");var n,a=Object(u.a)(Ke(this.getCurCells(),1,{br:!0,bc:!0}));try{for(a.s();!(n=a.n()).done;){var r=n.value;Oe.a.log(r),this.dispatch(e.actions.ELIMINATE_XGROUP,{tip:r},{commit:!1}),t++}}catch(i){a.e(i)}finally{a.f()}return Oe.a.groupEnd(),t}},{key:"_autoClaiming",value:function(){var t=0;Oe.a.group("[auto claiming]");var n,a=Object(u.a)(Ke(this.getCurCells(),1,{rb:!0,cb:!0}));try{for(a.s();!(n=a.n()).done;){var r=n.value;this.dispatch(e.actions.ELIMINATE_XGROUP,{tip:r},{commit:!1}),t++}}catch(i){a.e(i)}finally{a.f()}return Oe.a.groupEnd(),t}},{key:"_updateCellValue",value:function(e){var t=e.isNoting,n=e.pos,a=e.value;t?this._noteCellValue(n,a):this._placeCellValue(n,a)}},{key:"_placeCellValue",value:function(e,t){var n=this.getCell(e);n.origin||(n.value===t&&(t=xe.new()),this._setCellValue(e,t))}},{key:"_noteCellValue",value:function(e,t){var n=this.getCell(e).value;if(xe.is(n)){var a=n;a=xe.has(a,t)?xe.delete(a,t):xe.add(a,t),this._setCellValue(e,a)}}},{key:"findGroup",value:function(e){for(var t=1;t<=8;t++)for(var n=0,a=[0,1];n<a.length;n++){var r,i=a[n],o=Object(u.a)(Ue(e,t,i));try{for(o.s();!(r=o.n()).done;){var c=r.value;return c.type="group",c}}catch(l){o.e(l)}finally{o.f()}}}},{key:"_eliminateGroup",value:function(e){var t=this,n=e.group;if(1===n.n){var a=Object(s.a)(n.poses)[0],r=Object(s.a)(n.notes)[0];this._setCellValue(a,r)}else if(0===n.cls){var i=[];"row"===n.domain?i=ce(n.row):"col"===n.domain?i=le(n.col):"block"===n.domain&&(i=oe(n.block)),i=i.filter((function(e){var a=t.getCell(e).value;return!(!xe.is(a)||n.poses.has(e))}));var o,c=Object(u.a)(i);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=this.getCell(l).value;this._setCellValue(l,xe.delete.apply(xe,[f].concat(Object(s.a)(n.notes))))}}catch(b){c.e(b)}finally{c.f()}}else if(1===n.cls){var d,v=Object(u.a)(n.poses);try{for(v.s();!(d=v.n()).done;){var h=d.value,p=this.getCell(h).value;this._setCellValue(h,xe.new.apply(xe,Object(s.a)(xe.entries(p).filter((function(e){return n.notes.has(e)})))))}}catch(b){v.e(b)}finally{v.f()}}}},{key:"findXGroup",value:function(e){for(var t=1;t<=8;t++){var n,a=Object(u.a)(Ke(e,t));try{for(a.s();!(n=a.n()).done;){var r=n.value;return r.type="X-Group",r}}catch(i){a.e(i)}finally{a.f()}}}},{key:"_eliminateXGroup",value:function(e){var t=e.tip,n=[];if("row"===t.effect){var a,r=Object(u.a)(t.rows);try{for(r.s();!(a=r.n()).done;){var i=a.value;n.push.apply(n,Object(s.a)(ce(i)))}}catch(m){r.e(m)}finally{r.f()}}else if("col"===t.effect){var o,c=Object(u.a)(t.cols);try{for(c.s();!(o=c.n()).done;){var l=o.value;n.push.apply(n,Object(s.a)(le(l)))}}catch(m){c.e(m)}finally{c.f()}}else if("block"===t.effect){var f,d=Object(u.a)(t.blocks);try{for(d.s();!(f=d.n()).done;){var v=f.value;n.push.apply(n,Object(s.a)(oe(v)))}}catch(m){d.e(m)}finally{d.f()}}for(var h=0,p=n;h<p.length;h++){var b=p[h],k=this.getCell(b).value;xe.is(k)&&!t.poses.has(b)&&this._setCellValue(b,xe.delete(k,t.d))}}},{key:"findTip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{trial:!0},t=this.getCurCells();return this.findGroup(t)||this.findXGroup(t)||this.findChain(t)||e.trial&&this.findTrialError()}},{key:"_handleTip",value:function(e){var t=e.tip;"group"===t.type?this.eliminateGroup(t):"X-Group"===t.type?this.eliminateXGroup(t):"chain"===t.type?this.eliminateChain(t):"trial-error"===t.type&&this.eliminateTrialError(t)}},{key:"findTrialError",value:function(){var e=this;this._disableNotify();for(var t=this._curCellsIdx,n=Object(Oe.d)(ve),a=0,r=[!1,!0];a<r.length;a++){var i,o=r[a],c=Object(u.a)(n);try{for(c.s();!(i=c.n()).done;){var l=i.value,s=this.getCell(l).value;if(xe.is(s)){var f,d=Object(u.a)(xe.entries(s));try{for(d.s();!(f=d.n()).done;){var v=f.value,h=0;this.updateCellValue(!1,l,v),this.autoPlacePointingClaiming();var p=this._checkValidity();if(!p&&o){for(var b=this.findTip({trial:!1});b&&(h++,this.handleTip(b),this.autoPlacePointingClaiming(),!(p=this._checkValidity()));)b=this.findTip({trial:!1});this._checkComplete()&&(p=!0)}if(p){var k=function(){e._enableNotify();var n=e._curCellsIdx,a=new Set(e._cellsHistory.filter((function(e){var a=e.idx;return a>=t&&a<=n})).map((function(e){return e.cells})));return{v:{startIdx:t,endIdx:n,includedCells:a,pos:l,d:v,err:p,type:"trial-error",name:"try".concat(h?"*"+h:""," ").concat(v,"@").concat(l)}}}();if("object"===typeof k)return k.v}this.jumpTo(t)}}catch(m){d.e(m)}finally{d.f()}}}}catch(m){c.e(m)}finally{c.f()}}this.jumpTo(t),this._enableNotify()}},{key:"_eliminateTrialError",value:function(e){var t=e.tip,n=t.startIdx,a=t.pos,r=t.d;if(!0!==t.err){this.revertTo(n);var i=this.getCell(a).value;xe.is(i)&&this._setCellValue(a,xe.delete(i,r))}}},{key:"findChain",value:function(e){var t=function(e){var t,n=function(e){for(var t={},n=0,a=[["row",K],["col",Z]];n<a.length;n++){var r,i=Object(l.a)(a[n],2),o=i[0],c=i[1],s=Object(u.a)(c);try{for(s.s();!(r=s.n()).done;){var f,d=r.value,v={},h=0,p=Object(u.a)(d);try{for(p.s();!(f=p.n()).done;){var b=f.value;h=b[o];var k=ke(e,b).value;if(xe.is(k)){var m,_=Object(Oe.c)(v,b.block,{}),g=Object(u.a)(xe.entries(k));try{for(g.s();!(m=g.n()).done;){var y=m.value;Object(Oe.c)(_,y,[]).push(b)}}catch(L){g.e(L)}finally{g.f()}}}}catch(L){p.e(L)}finally{p.f()}for(var O=0,C=Object.entries(v);O<C.length;O++)for(var j=Object(l.a)(C[O],2),w=j[0],E=j[1],x=0,N=Object.entries(E);x<N.length;x++){var P=Object(l.a)(N[x],2),A=P[0],T=P[1],I=parseInt(w),S=parseInt(A),G=Object(Oe.c)(t,S,[]);T.length>1?G.push(Se(o,h,I,T,S)):function(){var e=T[0],t=G.filter((function(t){return t.pos===e}))[0];t||(t=Se(o,h,I,T,S),G.push(t)),t.domain.add(o),t[o]=h}()}}}catch(L){s.e(L)}finally{s.f()}}return t}(e),a={},r={},i=Object(u.a)(ve);try{for(i.s();!(t=i.n()).done;){var o=t.value,c=ke(e,o).value;if(xe.is(c)){var s,f=xe.entries(c),d=Object(u.a)(f);try{var v=function(){var t=s.value;Object(Oe.c)(r,t,[]).push(o);var i=Object(Oe.c)(a,t,{}),c=Ve(e,t,o);i[o]=c,c.group=De(n[t],o,t);var l=f.filter((function(e){return e!==t}));c.cell={false:2===f.length?l:[],true:l}};for(d.s();!(s=d.n()).done;)v()}catch(w){d.e(w)}finally{d.f()}}}}catch(w){i.e(w)}finally{i.f()}for(var h=0,p=Object.entries(n);h<p.length;h++){var b,k=Object(l.a)(p[h],2),m=k[0],_=k[1],g=parseInt(m),y=Object(Oe.c)(a,g,{}),O=Object(u.a)(_.filter((function(e){return e.isGroup})));try{for(O.s();!(b=O.n()).done;){var C=b.value,j=Ve(e,g,C);y[C]=j,j.group=De(n[g],C),j.cell={false:[],true:[]}}}catch(w){O.e(w)}finally{O.f()}}return[r,n,a]}(e),n=Object(l.a)(t,3),a=n[0],r=n[1],i=n[2];Oe.a.log("chain info:",r,i);for(var o=Object(Oe.d)(Ee),c=0,s=[20,Number.MAX_VALUE];c<s.length;c++)for(var f=s[c],d=0,v=[!1,!0];d<v.length;d++)for(var h=v[d],p=0,b=[!1,!0];p<b.length;p++)for(var k=b[p],m=0,_=[function(e){return a[e]||[]},function(e){return(r[e]||[]).filter((function(e){return e.isGroup}))}];m<_.length;m++){var g,y=_[m],O=null,C=f,j=Object(u.a)(o);try{for(j.s();!(g=j.n()).done;){var w,E=g.value,x=Object(u.a)(y(E));try{for(x.s();!(w=x.n()).done;){var N,P=w.value,A={pos:P,d:E,val:!1},T={dLinks:i,val:!1,cells:e,td:E,tryGroupLinks:k,tryCellLinks:h,maxLength:C},I=Object(u.a)(Te([],A,T));try{for(I.s();!(N=I.n()).done;){var S=N.value;if(S.chain.length<C&&(C=(O=S).chain.length,T.maxLength=C,C<=10))return Pe(O)}}catch(G){I.e(G)}finally{I.f()}}}catch(G){x.e(G)}finally{x.f()}}}catch(G){j.e(G)}finally{j.f()}if(O)return Pe(O)}}},{key:"_eliminateChain",value:function(e){var t,n=e.tip,a=Object(u.a)(n.effectedPoses);try{for(a.s();!(t=a.n()).done;){var r=t.value,i=this.getCell(r).value;if(xe.is(i)){var o=i;o=n.keep?xe.new.apply(xe,Object(s.a)(n.keepDs)):xe.delete(i,n.d),this._setCellValue(r,o)}}}catch(c){a.e(c)}finally{a.f()}}},{key:"isComplete",get:function(){return this._isComplete}},{key:"initialPuzzle",get:function(){return this.puzzle}},{key:"cells",get:function(){return this._cellsHistory[this._curCellsIdx].cells}},{key:"cellsRecord",get:function(){return this._cellsHistory[this._curCellsIdx]}},{key:"curIdx",get:function(){return this._curCellsIdx}},{key:"lastIdx",get:function(){return this._cellsHistory.length-1}},{key:"hasPrev",get:function(){return this._curCellsIdx>0}},{key:"hasNext",get:function(){return this._curCellsIdx<this._cellsHistory.length-1}}],[{key:"parse",value:function(t){if(!t||t.length<81)throw new Error("bad sudoku puzzle format [".concat(t,"]"));var n=t.match(e.cellPattern);if(81!==n.length)throw new Error("bad sudoku puzzle format [".concat(t,"]"));for(var a=n.map((function(t){if(t.startsWith("n")&&t.endsWith("N")){var n=t.slice(1,-1).split("").map((function(e){return parseInt(e)}));return{value:xe.new.apply(xe,Object(s.a)(n))}}if(t.startsWith("p"))return{value:parseInt(t[1])};if(e.valuePattern.test(t))return{value:parseInt(t),origin:!0};if("0"===t)return{value:xe.new()};throw new Error("impossible")})),r=Array.from(new Array(9)).map((function(){return new Array(9)})),i=0;i<9;i++)for(var o=0;o<9;o++)r[i][o]=a[9*i+o];return r}}]),e}();Ne.defaultPuzzle="\n  000000000 000000000 000000000\n  000000000 000000000 000000000\n  000000000 000000000 000000000\n",Ne.cellPattern=/(\d)|(p\d)|(n[1-9]*N)/g,Ne.valuePattern=/^[1-9]$/,Ne.actions={RESET:"RESET",NOTE:"NOTE",UPDATE_CELL_VALUE:"U CELL_VALUE",AUTO_NOTE:"A NOTE",AUTO_POINTING:"A POINTING",AUTO_CLAIMING:"A CLAIMING",AUTO_PLACE:"A PLACE",AUTO_PLACE_POINTING_CLAIMING:"A PLACE/POINTING/CLAIMING",ELIMINATE_GROUP:"- GROUP",ELIMINATE_XGROUP:"- XGROUP",ELIMINATE_CHAIN:"- CHAIN",ELIMINATE_TRIAL_ERROR:"- TRIAL_ERROR",HANDLE_TIP:"HANDLE_TIP"};var Pe=function(e){e.type="chain";var t,n=e.chain[0].pos,a=e.chain[e.chain.length-1],r=a.pos,i=e.d,o=!1,c=!1,l=Object(u.a)(e.chain);try{for(l.s();!(t=l.n()).done;){var s=t.value;if(s.d!==i&&(o=!0),s.pos.isGroup&&(c=!0),o&&c)break}}catch(d){l.e(d)}finally{l.f()}var f=[e.chain.length-1];return c&&f.push("G"),f.push(o?"XY":"X","Chain"),f.push([n.isGroup?"g":"d",r.isGroup?"g":"d",a.d===i?"-x":"-xy"].join("")),e.name=f.join("-"),e},Ae=function(e,t){return void 0!==e&&e===t};function Te(e,t,n){var r,i,o,c,l,f,d,v,h,p,b,k,m,_,g,y,O,C,j,w,E,x,N,P,A,T,S;return I.a.wrap((function(G){for(;;)switch(G.prev=G.next){case 0:if(!(e.length+1>=n.maxLength)){G.next=2;break}return G.abrupt("return");case 2:if(r=t.pos,i=t.d,o=t.val,c=n.dLinks,l=n.cells,f=n.td,!1!==n.val||!0!==o){G.next=27;break}if((d=e[0].pos).isGroup&&!r.isGroup){G.next=27;break}if(i!==f){G.next=17;break}v=new Set,h=[].concat(Object(s.a)(Ge(d)),Object(s.a)(Ge(r))),p=Object(u.a)(_e.apply(a,Object(s.a)(h)));try{for(p.s();!(b=p.n()).done;)k=b.value,m=ke(l,k),_=m.value,xe.has(_,i)&&v.add(k)}catch(L){p.e(L)}finally{p.f()}if(!(v.size>0)){G.next=15;break}return G.next=15,{chain:[].concat(Object(s.a)(e),[t]),effectedPoses:v,d:f};case 15:G.next=27;break;case 17:if(d.key!==r.key){G.next=21;break}return G.delegateYield(I.a.mark((function n(){var a,o,c,d,v,h,p;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=r.isGroup?Object(s.a)(r.poses):[r],o=new Set,c=Object(u.a)(a);try{for(c.s();!(d=c.n()).done;)v=d.value,h=ke(l,v),p=h.value,xe.entries(p).forEach((function(e){return o.add(e)}))}catch(L){c.e(L)}finally{c.f()}if(!(o.size>2)){n.next=9;break}return o.delete(i),o.delete(f),n.next=9,{chain:[].concat(Object(s.a)(e),[t]),effectedPoses:new Set(a),d:f,effectedDs:o,keep:!0,keepDs:[i,f]};case 9:case"end":return n.stop()}}),n)}))(),"t0",19);case 19:G.next=27;break;case 21:if(r.isGroup){G.next=27;break}if(!(Ae(r.row,d.row)||Ae(r.col,d.col)||Ae(r.block,d.block))){G.next=27;break}if(g=ke(l,r),y=g.value,!xe.has(y,f)){G.next=27;break}return G.next=27,{chain:[].concat(Object(s.a)(e),[t]),effectedPoses:new Set([r]),d:f};case 27:O=0,C=[c[i][r][o],n.tryGroupLinks?c[i][r].group[o]:[]];case 28:if(!(O<C.length)){G.next=52;break}j=C[O],w=Object(u.a)(j),G.prev=31,w.s();case 33:if((E=w.n()).done){G.next=41;break}if(x=E.value,!Ie(e,N={pos:x,val:!o,d:i})){G.next=38;break}return G.abrupt("continue",39);case 38:return G.delegateYield(Te([].concat(Object(s.a)(e),[t]),N,n),"t1",39);case 39:G.next=33;break;case 41:G.next=46;break;case 43:G.prev=43,G.t2=G.catch(31),w.e(G.t2);case 46:return G.prev=46,w.f(),G.finish(46);case 49:O++,G.next=28;break;case 52:if(!n.tryCellLinks){G.next=72;break}P=Object(u.a)(c[i][r].cell[o]),G.prev=54,P.s();case 56:if((A=P.n()).done){G.next=64;break}if(T=A.value,!Ie(e,S={pos:r,val:!o,d:T})){G.next=61;break}return G.abrupt("continue",62);case 61:return G.delegateYield(Te([].concat(Object(s.a)(e),[t]),S,n),"t3",62);case 62:G.next=56;break;case 64:G.next=69;break;case 66:G.prev=66,G.t4=G.catch(54),P.e(G.t4);case 69:return G.prev=69,P.f(),G.finish(69);case 72:case"end":return G.stop()}}),Ce,null,[[31,43,46,49],[54,66,69,72]])}var Ie=function(e,t){var n,a=t.pos.isGroup?t.pos.poses:[t.pos],r=Object(u.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.val===t.val&&i.d===t.d&&i.pos===t.pos)return!0;if((i.pos.isGroup||t.pos.isGroup)&&Le(a,i.pos.isGroup?i.pos.poses:[i.pos]))return!0}}catch(o){r.e(o)}finally{r.f()}return!1},Se=function(e,t,n,a,r){var i,o;if(a.length>1)return o={key:"".concat(r,"@").concat(e).concat(t,"block").concat(n),d:r,isGroup:!0,domain:new Set([e])},Object(f.a)(o,e,t),Object(f.a)(o,"block",n),Object(f.a)(o,"poses",a),Object(f.a)(o,"toString",(function(){return this.key})),o;var c=a[0];return i={key:c.key,d:r,isGroup:!1,domain:new Set([e])},Object(f.a)(i,e,t),Object(f.a)(i,"block",n),Object(f.a)(i,"pos",c),Object(f.a)(i,"poses",a),Object(f.a)(i,"toString",(function(){return this.key})),i},Ge=function(e){return e.isGroup?e.poses:[e]};var Le=function(e,t){var n=new Set(t);return e.filter((function(e){return n.has(e)})).length>0},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter((function(e){return void 0!==t.row&&e.row===t.row&&e.key!==t.key}))},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter((function(e){return void 0!==t.col&&e.col===t.col&&e.key!==t.key}))},He=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,a=t.filter((function(e){return e.block===n.block&&e.key!==n.key&&!Le(e.poses,n.isGroup?n.poses:[n])})),r=a.filter((function(e){return e.isGroup})),i=Object(u.a)(a.filter((function(e){return!e.isGroup})));try{for(i.s();!(e=i.n()).done;){var o,c=e.value,l=!0,s=Object(u.a)(r);try{for(s.s();!(o=s.n()).done;){var f=o.value;if(Le(f.poses,c.poses)){l=!1;break}}}catch(d){s.e(d)}finally{s.f()}l&&r.push(c)}}catch(d){i.e(d)}finally{i.f()}return r};function De(e,t,n){for(var a=new Set,r=new Set,i=0,o=[["row",Me],["col",Re],["block",He]];i<o.length;i++){var c=Object(l.a)(o[i],2),f=c[0],d=c[1];if(!t.isGroup||"block"===f||t.domain.has(f)){var v,h=0,p=null,b=Object(u.a)(d(e,t));try{for(b.s();!(v=b.n()).done;){var k=v.value;h++,k.isGroup&&(t.isGroup?(r.add(k),p=k):new Set(k.poses).has(t)||(r.add(k),p=k))}}catch(m){b.e(m)}finally{b.f()}1===h&&p&&a.add(p)}}return{false:Object(s.a)(a),true:Object(s.a)(r)}}function Ve(e,t,n){for(var a=new Set,r=new Set,i=function(){var i=Object(l.a)(c[o],2),s=i[0],f=i[1],d=n,v=new Set;if(n.isGroup){if("block"!==s&&!n.domain.has(s))return"continue";d=n.poses[0],v=new Set(n.poses)}var h,p=0,b=null,k=Object(u.a)(f(d).filter((function(e){return!v.has(e)})));try{for(k.s();!(h=k.n()).done;){var m=h.value,_=ke(e,m).value;xe.has(_,t)&&(r.add(m),p++,b=m)}}catch(g){k.e(g)}finally{k.f()}1===p&&a.add(b)},o=0,c=[["row",ue],["col",fe],["block",se]];o<c.length;o++)i();return{false:Object(s.a)(a),true:Object(s.a)(r)}}function Be(e,t){var n,a=[],r=Object(u.a)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=e[i.row][i.col].value;if(xe.is(o)){var c,l=Object(u.a)(xe.entries(o));try{for(l.s();!(c=l.n()).done;){var s=c.value;a.push([i,s])}}catch(f){l.e(f)}finally{l.f()}}}}catch(f){r.e(f)}finally{r.f()}return a}function Ue(e,t,n){var a,r,i,o,c,l,s,f,d,v,h,p,b,k,m,_,g,y,O,C,j,w,E,x,N,P,A;return I.a.wrap((function(T){for(;;)switch(T.prev=T.next){case 0:a=Object(u.a)(B),T.prev=1,a.s();case 3:if((r=a.n()).done){T.next=27;break}i=r.value,o=Be(e,ce(i)),c=Object(u.a)(Object(Oe.b)(o,t,n,{checkClear:t>1})),T.prev=7,c.s();case 9:if((l=c.n()).done){T.next=17;break}return s=l.value,f=s[n],d=s[(n+1)%2],T.next=15,{cls:n,n:t,domain:"row",row:i,poses:f,notes:d,name:["naked","hidden"][n]+"-".concat(t,"-group")};case 15:T.next=9;break;case 17:T.next=22;break;case 19:T.prev=19,T.t0=T.catch(7),c.e(T.t0);case 22:return T.prev=22,c.f(),T.finish(22);case 25:T.next=3;break;case 27:T.next=32;break;case 29:T.prev=29,T.t1=T.catch(1),a.e(T.t1);case 32:return T.prev=32,a.f(),T.finish(32);case 35:v=Object(u.a)(U),T.prev=36,v.s();case 38:if((h=v.n()).done){T.next=62;break}p=h.value,b=Be(e,le(p)),k=Object(u.a)(Object(Oe.b)(b,t,n,{checkClear:t>1})),T.prev=42,k.s();case 44:if((m=k.n()).done){T.next=52;break}return _=m.value,g=_[n],y=_[(n+1)%2],T.next=50,{cls:n,n:t,domain:"col",col:p,poses:g,notes:y,name:["naked","hidden"][n]+"-".concat(t,"-group")};case 50:T.next=44;break;case 52:T.next=57;break;case 54:T.prev=54,T.t2=T.catch(42),k.e(T.t2);case 57:return T.prev=57,k.f(),T.finish(57);case 60:T.next=38;break;case 62:T.next=67;break;case 64:T.prev=64,T.t3=T.catch(36),v.e(T.t3);case 67:return T.prev=67,v.f(),T.finish(67);case 70:O=Object(u.a)(V),T.prev=71,O.s();case 73:if((C=O.n()).done){T.next=97;break}j=C.value,w=Be(e,oe(j)),E=Object(u.a)(Object(Oe.b)(w,t,n,{checkClear:t>1})),T.prev=77,E.s();case 79:if((x=E.n()).done){T.next=87;break}return N=x.value,P=N[n],A=N[(n+1)%2],T.next=85,{cls:n,n:t,domain:"block",block:j,poses:P,notes:A,name:["naked","hidden"][n]+"-".concat(t,"-group")};case 85:T.next=79;break;case 87:T.next=92;break;case 89:T.prev=89,T.t4=T.catch(77),E.e(T.t4);case 92:return T.prev=92,E.f(),T.finish(92);case 95:T.next=73;break;case 97:T.next=102;break;case 99:T.prev=99,T.t5=T.catch(71),O.e(T.t5);case 102:return T.prev=102,O.f(),T.finish(102);case 105:case"end":return T.stop()}}),je,null,[[1,29,32,35],[7,19,22,25],[36,64,67,70],[42,54,57,60],[71,99,102,105],[77,89,92,95]])}var ze=function(e,t){return function(n,a){for(var r=[],i=0;i<9;i++){var o,c=Object(u.a)(e(i));try{for(c.s();!(o=c.n()).done;){var l=o.value,s=n[l.row][l.col].value;xe.is(s)&&(xe.has(s,a)&&r.push([i,t(l)]))}}catch(f){c.e(f)}finally{c.f()}}return r}},Xe=ze(ce,(function(e){return e.col})),We=ze(ce,(function(e){return z(e.row,e.col)})),Fe=ze(le,(function(e){return z(e.row,e.col)})),Ye=function(e,t,n){var a,r=[],i=Object(u.a)(n);try{for(i.s();!(a=i.n()).done;){var o=a.value,c=e[o.row][o.col].value;xe.is(c)&&xe.has(c,t)&&r.push(o)}}catch(l){i.e(l)}finally{i.f()}return r};function Ke(e,t){var n,a,r,i,o,c,f,d,v,h,p,b,k,m,_,g,y,O,C,j,w,E,x,N,P,A,T,S,G,L,M,R,H,D,V,B,U,z,X,W,F,Y,K,J,Q,Z,q,$,ee,te,ne,ae,re,ie,se,ue,fe,de,ve,he,pe,be,ke,me,_e,ge,ye,Ce,je,Ee,xe,Ne,Pe,Ae,Te=arguments;return I.a.wrap((function(I){for(;;)switch(I.prev=I.next){case 0:n=Te.length>2&&void 0!==Te[2]?Te[2]:{rc:!0,cr:!0,rb:!0,br:!0,cb:!0,bc:!0},a=1;case 2:if(!(a<=9)){I.next=152;break}if(!n.rc&&!n.cr){I.next=53;break}if(r=Xe(e,a),!n.rc){I.next=29;break}i=Object(u.a)(Object(Oe.b)(r,t,0)),I.prev=7,i.s();case 9:if((o=i.n()).done){I.next=21;break}c=o.value,f=Object(l.a)(c,2),d=f[0],v=f[1],h=[],p=!0,b=Object(u.a)(d);try{for(b.s();!(k=b.n()).done;)m=k.value,(_=Ye(e,a,ce(m))).length!==t&&(p=!1),h.push.apply(h,Object(s.a)(_))}catch(we){b.e(we)}finally{b.f()}return g="".concat(t,p?"-X-Wing":"-XRC-Group"),I.next=19,{name:g,domain:"row",effect:"col",rows:d,cols:v,poses:new Set(h),d:a};case 19:I.next=9;break;case 21:I.next=26;break;case 23:I.prev=23,I.t0=I.catch(7),i.e(I.t0);case 26:return I.prev=26,i.f(),I.finish(26);case 29:if(!n.cr){I.next=53;break}y=Object(u.a)(Object(Oe.b)(r,t,1)),I.prev=31,y.s();case 33:if((O=y.n()).done){I.next=45;break}C=O.value,j=Object(l.a)(C,2),w=j[0],E=j[1],x=[],N=!0,P=Object(u.a)(w);try{for(P.s();!(A=P.n()).done;)T=A.value,Ye(e,a,le(T)).length!==t&&(N=!1),x.push.apply(x,Object(s.a)(Ye(e,a,le(T))))}catch(we){P.e(we)}finally{P.f()}return S="".concat(t,N?"-X-Wing":"-XCR-Group"),I.next=43,{name:S,domain:"col",effect:"row",rows:E,cols:w,poses:new Set(x),d:a};case 43:I.next=33;break;case 45:I.next=50;break;case 47:I.prev=47,I.t1=I.catch(31),y.e(I.t1);case 50:return I.prev=50,y.f(),I.finish(50);case 53:if(!n.rb&&!n.br){I.next=101;break}if(G=We(e,a),!n.rb){I.next=78;break}L=Object(u.a)(Object(Oe.b)(G,t,0)),I.prev=57,L.s();case 59:if((M=L.n()).done){I.next=70;break}R=M.value,H=Object(l.a)(R,2),D=H[0],V=H[1],B=[],U=Object(u.a)(D);try{for(U.s();!(z=U.n()).done;)X=z.value,B.push.apply(B,Object(s.a)(Ye(e,a,ce(X))))}catch(we){U.e(we)}finally{U.f()}return W=1===t?"claiming":"".concat(t,"-XRB-Group"),I.next=68,{name:W,domain:"row",effect:"block",rows:D,blocks:V,poses:new Set(B),d:a};case 68:I.next=59;break;case 70:I.next=75;break;case 72:I.prev=72,I.t2=I.catch(57),L.e(I.t2);case 75:return I.prev=75,L.f(),I.finish(75);case 78:if(!n.br){I.next=101;break}F=Object(u.a)(Object(Oe.b)(G,t,1)),I.prev=80,F.s();case 82:if((Y=F.n()).done){I.next=93;break}K=Y.value,J=Object(l.a)(K,2),Q=J[0],Z=J[1],q=[],$=Object(u.a)(Q);try{for($.s();!(ee=$.n()).done;)te=ee.value,q.push.apply(q,Object(s.a)(Ye(e,a,oe(te))))}catch(we){$.e(we)}finally{$.f()}return ne=1===t?"pointing":"".concat(t,"-XBR-Group"),I.next=91,{name:ne,domain:"block",effect:"row",rows:Z,blocks:Q,poses:new Set(q),d:a};case 91:I.next=82;break;case 93:I.next=98;break;case 95:I.prev=95,I.t3=I.catch(80),F.e(I.t3);case 98:return I.prev=98,F.f(),I.finish(98);case 101:if(!n.cb&&!n.bc){I.next=149;break}if(ae=Fe(e,a),!n.cb){I.next=126;break}re=Object(u.a)(Object(Oe.b)(ae,t,0)),I.prev=105,re.s();case 107:if((ie=re.n()).done){I.next=118;break}se=ie.value,ue=Object(l.a)(se,2),fe=ue[0],de=ue[1],ve=[],he=Object(u.a)(fe);try{for(he.s();!(pe=he.n()).done;)be=pe.value,ve.push.apply(ve,Object(s.a)(Ye(e,a,le(be))))}catch(we){he.e(we)}finally{he.f()}return ke=1===t?"claiming":"".concat(t,"-XCB-Group"),I.next=116,{name:ke,domain:"col",effect:"block",cols:fe,blocks:de,poses:new Set(ve),d:a};case 116:I.next=107;break;case 118:I.next=123;break;case 120:I.prev=120,I.t4=I.catch(105),re.e(I.t4);case 123:return I.prev=123,re.f(),I.finish(123);case 126:if(!n.bc){I.next=149;break}me=Object(u.a)(Object(Oe.b)(ae,t,1)),I.prev=128,me.s();case 130:if((_e=me.n()).done){I.next=141;break}ge=_e.value,ye=Object(l.a)(ge,2),Ce=ye[0],je=ye[1],Ee=[],xe=Object(u.a)(Ce);try{for(xe.s();!(Ne=xe.n()).done;)Pe=Ne.value,Ee.push.apply(Ee,Object(s.a)(Ye(e,a,oe(Pe))))}catch(we){xe.e(we)}finally{xe.f()}return Ae=1===t?"pointing":"".concat(t,"-XBC-Group"),I.next=139,{name:Ae,domain:"block",effect:"col",cols:je,blocks:Ce,poses:new Set(Ee),d:a};case 139:I.next=130;break;case 141:I.next=146;break;case 143:I.prev=143,I.t5=I.catch(128),me.e(I.t5);case 146:return I.prev=146,me.f(),I.finish(146);case 149:a++,I.next=2;break;case 152:case"end":return I.stop()}}),we,null,[[7,23,26,29],[31,47,50,53],[57,72,75,78],[80,95,98,101],[105,120,123,126],[128,143,146,149]])}var Je=function(e,t,n,a,r,i){var o=[b.a.Note];if(e===t&&o.push(b.a.ActiveValue),r){var c=null;if(n?c=r.highlights:a&&(c=r.effect),c){var l=c,s=l.posNotes,u=l.posSubNotes,f=c,d=f.notes,v=f.subNotes;s&&u&&(d=s[i],v=u[i]),d&&d.has(e)?o.push(b.a.MarkedNoteValue):v&&v.has(e)&&o.push(b.a.MarkedValue),n&&a&&r.effect.notes.has(e)&&o.push(b.a.Effected)}}return o.join(" ")},Qe=i.a.memo((function(e){var t=e.value,n=e.origin,a=e.pos,r=e.activePos,o=e.activeVal,c=e.available,l=e.showAvail,s=e.isNoting,u=e.onClick,f=e.marks,d=a.block,v=a.row,h=a.col,p=[],k=null,m=!1;if(r){var _=r.row,g=r.col,y=r.block;v===_&&h===g?(m=!0,p.push(b.a.Selected)):v!==_&&h!==g&&d!==y||p.push(b.a.Related)}var O=c;c?(p.push(b.a.Available),l&&p.push(s?b.a.Note:b.a.Place)):null===c?(p.push(b.a.Available),O=!0):s||n||t!==o||(p.push(b.a.Available),O=!0);var C=!1,j=!1,w=!1;if(f){var E=f.domain,x=f.effect,N=f.highlights;if(E){var P=E.rows,T=E.cols,I=E.blocks;P&&P.has(v)&&(j=!0),T&&T.has(h)&&(j=!0),I&&I.has(d)&&(j=!0)}if(x){var S=x.rows,G=x.cols,L=x.blocks,M=x.poses;S&&S.has(v)&&(w=!0),G&&G.has(h)&&(w=!0),L&&L.has(d)&&(w=!0),M&&M.has(a)&&(w=!0)}N&&N.poses.has(a)&&(C=!0)}if(C?(p.push(b.a.MarkedHighlight),f.highlights.withoutOutlinePoses&&f.highlights.withoutOutlinePoses.has(a)&&p.push(b.a.WithoutOutline)):j&&p.push(b.a.MarkedDomain),w&&p.push(b.a.MarkedEffect),xe.is(t)){p.push(b.a.Notes);var R=t;xe.size(R)>0&&(k=H.map((function(e,t){return i.a.createElement("div",{key:t,className:b.a.RowNotes},e.map((function(e){return i.a.createElement("div",{key:e,className:Je(e+1,o,C,w,f,a)},xe.has(R,e+1)?A[e+1]:null)})))})))}else p.push(b.a.Value),!n&&p.push(b.a.Placed),t!==o||m||p.push(b.a.ActiveValue),C&&f.highlights.values&&f.highlights.values.has(t)&&p.push(b.a.MarkedValue),k=A[t];return i.a.createElement("div",{className:p.join(" "),onClick:O?function(){return u(a)}:void 0},k)})),Ze=n(18),qe=n.n(Ze),$e=function(e){var t=e.block,n=e.activePos,a=e.activeVal,r=e.cells,o=e.availableCells,c=e.cellClickedHandler,l=e.showAvail,s=e.isNoting,u=e.marks,f=t%2===1;return i.a.createElement("div",{className:"".concat(qe.a.Block," ").concat(f?qe.a.Odd:"")},ie(t).map((function(e,t){return i.a.createElement("div",{key:t,className:qe.a.Row},e.map((function(e){return i.a.createElement(Qe,Object.assign({key:e.key},r[e.row][e.col],{pos:e,activePos:n,activeVal:a,available:o&&o[e.row][e.col],onClick:c,showAvail:l,isNoting:s,marks:u}))})))})))},et=n(9),tt=n(10);function nt(){var e=Object(et.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  ","\n"]);return nt=function(){return e},e}function at(){var e=Object(et.a)(["\n  width: ",";\n  height: 0;\n  padding-top: ","%;\n  position: relative;\n"]);return at=function(){return e},e}var rt=tt.a.div(at(),(function(e){var t=e.width;return void 0!==t?t:"auto"}),(function(e){return 100/e.ratio})),it=tt.a.div(nt(),(function(e){var t=e.fixed,n=e.scroll;return t?"\n    height: 100%;\n    overflow: ".concat(n?"scroll":"hidden",";\n  "):"\n  min-height: 100%;\n  "})),ot=function(e){var t=e.ratio,n=void 0===t?1:t,a=e.fixed,r=void 0===a||a,o=e.scroll,c=void 0!==o&&o,l=e.children;return i.a.createElement(rt,{ratio:n},i.a.createElement(it,{fixed:r,scroll:c},l))},ct=n(37),lt=n.n(ct),st=function(e,t){var n=e.row,a=e.col,r=M(t),i=Object(l.a)(r,2),o=i[0];return[(a+(i[1]+.5)/3+.35/100)*(.985/9)+(.5*(Math.floor(a/3)+1)-.25)/100,(n+(o+.5)/3+.35/100)*(.985/9)+(.5*(Math.floor(n/3)+1)-.25)/100]};function ut(){var e=Object(et.a)(["\n  user-select: none;\n  pointer-events: none;\n  position: absolute;\n  transform-origin: top left;\n"]);return ut=function(){return e},e}var ft=tt.a.div.attrs((function(e){var t=e.x,n=e.y,a=e.distance,r=e.deg,i=e.type;return{style:{borderTop:"2px ".concat(i," red"),width:"".concat(100*a,"%"),height:"".concat(100*a,"%"),transform:"translate(".concat(t/a*100,"%, ").concat(n/a*100,"%)\n    rotate(").concat(r,"deg)\n    translate(").concat(.01/a*100,"%)")}}}))(ut()),dt=function(e){var t=e.type,n=void 0===t?"solid":t,a=e.startPos,r=e.startDigit,o=e.endPos,c=e.endDigit,s=st(a,r),u=st(o,c),f=function(e,t){var n=Object(l.a)(e,2),a=n[0],r=n[1],i=Object(l.a)(t,2),o=i[0]-a,c=i[1]-r;return Math.sqrt(o*o+c*c)}(s,u),d=function(e,t,n){var a=Object(l.a)(e,2),r=a[0],i=a[1],o=Object(l.a)(t,2),c=o[0]-r,s=o[1]-i;return Math.acos(c/n)*(s<0?-1:1)/Math.PI*180}(s,u,f);return i.a.createElement(ft,{x:s[0],y:s[1],distance:f-.02,deg:d,type:n},i.a.createElement("div",{className:lt.a.Pointer}))};function vt(){var e=Object(et.a)(["\n  user-select: none;\n  pointer-events: none;\n  position: absolute;\n  border: 1px solid red;\n"]);return vt=function(){return e},e}var ht=tt.a.div.attrs((function(e){var t=e.sx,n=e.sy,a=e.ex,r=e.ey;return{style:{top:"".concat(100*n-.8,"%"),left:"".concat(100*t-.8,"%"),right:"".concat(100*(1-a)-.8,"%"),bottom:"".concat(100*(1-r)-.8,"%")}}}))(vt()),pt=function(e){var t,n,a,r,o=e.domain,c=e.row,s=e.col,u=e.block;"row"===o?(t=a=c,r=(n=F(u)[0])+2):"col"===o&&(n=r=s,a=(t=W(u)[0])+2);var f=st({row:t,col:n},1),d=Object(l.a)(f,2),v=d[0],h=d[1],p=st({row:a,col:r},9),b=Object(l.a)(p,2),k=b[0],m=b[1];return i.a.createElement(ht,{sx:v,sy:h,ex:k,ey:m})},bt=n(19),kt=n.n(bt),mt=function(e){var t=e.isComplete,n=e.availablePositions,a=e.cells,r=e.activeVal,o=e.activePos,c=e.cellClickedHandler,l=e.showAvail,s=e.isNoting,u=e.marks;if(o){var f=o.row,d=o.col;r=a[f][d].value}var v=[kt.a.SudokuBoard];return t&&v.push(kt.a.Complete),i.a.createElement(ot,{ratio:1},i.a.createElement("div",{className:v.join(" ")},u&&u.frames&&u.frames.map((function(e){return i.a.createElement(pt,e)})),u&&u.arrows&&u.arrows.map((function(e){return i.a.createElement(dt,Object.assign({key:"".concat(e.startPos,"-").concat(e.endPos)},e))})),H.map((function(e,t){return i.a.createElement("div",{key:t,className:kt.a.Row},e.map((function(e){return i.a.createElement($e,{key:e,block:e,cells:a,activePos:o,activeVal:r,availableCells:n,cellClickedHandler:c,showAvail:l,isNoting:s,marks:u})})))}))))},_t=n(42);function gt(){var e=Object(et.a)(["\n  &::before {\n    content: '';\n    width: 1px;\n    margin-left: -1px;\n    float: left;\n    height: 0;\n    padding-top: ","%;\n  }\n  &::after {\n    content: '';\n    display: table;\n    clear: both;\n  }\n"]);return gt=function(){return e},e}var yt=tt.a.div(gt(),(function(e){return 100/e.ratio})),Ot=function(e){var t=e.ratio,n=void 0===t?1:t,a=e.children,r=Object(_t.a)(e,["ratio","children"]);return i.a.createElement(yt,Object.assign({ratio:n},r),a)},Ct=n(12),jt=n.n(Ct),wt=i.a.memo((function(e){var t=e.isNoting,n=e.activeVal,a=e.availableDigits,o=e.remainingDigits,c=e.digitClickedHandler,l=Object(r.useCallback)((function(e){var t=[jt.a.Digit];return e===n&&t.push(jt.a.active),a.has(e)||t.push(jt.a.Disabled),t.join(" ")}),[n,a]);return i.a.createElement("div",{className:"".concat(jt.a.Digits," ").concat(t?jt.a.isNoting:"")},i.a.createElement(Ot,{className:l(1),onClick:a.has(1)?function(){return c(1)}:void 0},A[1],i.a.createElement("div",{className:jt.a.Count},A[o[1]])),[2,3,4,5,6,7,8,9].map((function(e){return i.a.createElement("div",{key:e,className:l(e),onClick:a.has(e)?function(){return c(e)}:void 0},A[e],i.a.createElement("div",{className:jt.a.Count},A[o[e]]))})))})),Et=n(11),xt=n.n(Et),Nt=function(e){var t=e.cellsRecord,n=e.hasPrev,a=e.hasNext,r=e.jump,o=e.jumpToFirst,c=e.jumpToLast,l=e.remainingDigits,s=e.activeVal,u=e.availableDigits,f=e.digitClickedHandler,d=e.showAvail,v=e.isNoting,p=e.deselectHandler,b=e.toggleShowAvailHandler,k=e.toggleIsNotingHandler,m=e.resetHandler,_=e.eraseValueHandler,g=e.autoNoteHandler,y=e.autoPlacePointingClaimingHandler,O=e.tip,C=e.tipHandler,j=e.cancelTipHandler,w=e.changeChainStepHandler,E=e.jumpToTrailStartHandler;return i.a.createElement("div",{className:xt.a.Controls},i.a.createElement("div",{className:xt.a.History},i.a.createElement(h,{disabled:!n,onClick:o},"first"),i.a.createElement(h,{disabled:!n,onClick:function(){return r(-1)}},"prev"),i.a.createElement("span",null,"#",t.idx),i.a.createElement(h,{disabled:!a,onClick:function(){return r(1)}},"next"),i.a.createElement(h,{disabled:!a,onClick:c},"last"),i.a.createElement("span",null,t.desc)),i.a.createElement("div",{className:xt.a.Panel},i.a.createElement(h,{onClick:m},"Reset"),i.a.createElement(h,{onClick:_},"Erase"),i.a.createElement(h,{onClick:p},"Deselect"),i.a.createElement(h,{type:d?"On":"Off",onClick:b},"Avail"),i.a.createElement(h,{type:v?"On":"Off",onClick:k},"Note")),i.a.createElement(wt,{isNoting:v,activeVal:s,availableDigits:u,remainingDigits:l,digitClickedHandler:f}),i.a.createElement("div",{className:xt.a.Tools},i.a.createElement(h,{onClick:g},"note"),i.a.createElement(h,{onClick:y},"place/point/claim"),i.a.createElement("div",{className:xt.a.Tip},i.a.createElement(h,{type:O&&"On",onClick:C},O?O.name:"tip"),O&&i.a.createElement(h,{type:"Warn",onClick:j},"X"),O&&"chain"===O.type&&i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:xt.a.ChainSteper,onClick:function(){return w(-1)}},"<"),i.a.createElement("span",{className:xt.a.ChainSteper,onClick:function(){return w(1)}},">")),O&&"trial-error"===O.type&&i.a.createElement("span",{className:xt.a.ChainSteper,onClick:E},"<start"))))},Pt=n(25),At=n.n(Pt),Tt=function(e){var t=e.show,n=e.onClick,a=e.absolute,r=void 0!==a&&a;if(!t)return null;var o=[At.a.Backdrop];return r&&o.push(At.a.Absolute),i.a.createElement("div",{className:o.join(" "),onClick:n})},It=n(20),St=n.n(It),Gt=i.a.memo(i.a.memo((function(e){var t=e.show,n=void 0!==t&&t,a=e.close,r=e.children,o=[St.a.Modal];return n&&o.push(St.a.Show),i.a.createElement(i.a.Fragment,null,i.a.createElement(Tt,{show:n,onClick:a}),i.a.createElement("div",{className:o.join(" ")},i.a.createElement("div",{className:St.a.Close,onClick:a},"X"),r))})),(function(e,t){return!e.show&&!t.show})),Lt=n(38),Mt=n.n(Lt),Rt=n(39),Ht=n.n(Rt),Dt=function(){return i.a.createElement("div",{className:Ht.a.Loader},"Loading...")},Vt=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Tt,{show:!0,absolute:!0}),i.a.createElement("div",{className:Mt.a.Spinner},i.a.createElement(Dt,null)))},Bt=n(40),Ut=n.n(Bt),zt=n(14),Xt=n.n(zt),Wt=function(e){var t=e.sudoku,n=void 0===t?new Ne:t,a=e.startNewGameHandler,o=e.newGameHandler,c=e.emptyHandler,d=Object(r.useState)(!1),v=Object(l.a)(d,2),p=v[0],b=v[1],k=Object(r.useState)(!1),m=Object(l.a)(k,2),_=m[0],g=m[1],y=Object(r.useState)(0),O=Object(l.a)(y,2)[1];Object(r.useEffect)((function(){return n.subscribe(O),function(){n.unsubscribe(O)}}),[n]);var C=Object(r.useState)({pos:null,val:0}),j=Object(l.a)(C,2),w=j[0],E=j[1],x=w.pos,N=w.val,P=Object(r.useState)(!1),A=Object(l.a)(P,2),T=A[0],I=A[1],S=Object(r.useState)(!0),G=Object(l.a)(S,2),L=G[0],M=G[1],R=Object(r.useState)(null),H=Object(l.a)(R,2),D=H[0],V=H[1],B=Object(r.useState)(2),U=Object(l.a)(B,2),z=U[0],X=U[1],W=n.cellsRecord,F=n.isComplete,Y=W.cells,K=Object(r.useMemo)((function(){return n.calcAvailableDigits(x,Y)}),[x,n,Y]),J=Object(r.useMemo)((function(){return n.calcAvailablePositions(N,Y)}),[N,n,Y]),Q=Object(r.useMemo)((function(){return n.calcRemainingDigits(Y)}),[n,Y]),Z=Object(r.useCallback)((function(){o(n.stringify(Y,{placedAsOrigin:!0,withNotes:!1}))}),[Y,o,n]),q=Object(r.useCallback)((function(){o(n.stringify(Y,{originAsPlaced:!0,withNotes:!1}))}),[Y,o,n]),$=Object(r.useCallback)((function(e){0!==N?n.updateCellValue(L,e,N):E((function(t){var n=t.pos;return n&&e===n&&(e=null),{pos:e,val:0}}))}),[N,L,n]),ee=Object(r.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)E({pos:null,val:e});else{if(!K.has(e))return;x?n.updateCellValue(L,x,e):E((function(t){var n=t.val,a=e;return n===e&&(a=0),{pos:null,val:a}}))}}),[x,K,L,n]),te=Object(r.useCallback)((function(){E({pos:null,val:0})}),[]),ne=Object(r.useCallback)((function(){window.confirm&&!window.confirm("Are you sure to reset?")||(n.reset(),te())}),[te,n]),re=Object(r.useCallback)((function(){x&&n.updateCellValue(!1,x,xe.new())}),[x,n]),ie=Object(r.useCallback)((function(){I((function(e){return!e}))}),[]),oe=Object(r.useCallback)((function(){M((function(e){return!e}))}),[]),ce=Object(r.useCallback)((function(){n.autoNote()}),[n]),le=Object(r.useCallback)((function(){n.autoPlacePointingClaiming()}),[n]),se=Object(r.useCallback)((function(){D?(V(null),n.clearHistoryLowerBound(),n.handleTip(D)):(b(!0),setTimeout((function(){var e=n.findTip();b(!1),e&&(Oe.a.log("tip:",e),V(e),"chain"===e.type?X(e.chain.length):"trial-error"===e.type&&n.setHistoryLowerBound(e.startIdx))}),0)),te()}),[te,n,D]),ue=Object(r.useCallback)((function(){D&&(V(null),"trial-error"===D.type&&(n.clearHistoryLowerBound(),n.revertTo(D.startIdx)))}),[n,D]),fe=Object(r.useCallback)((function(e,t){x&&E((function(n){var a=n.pos,r=a.row,i=a.col;return{val:0,pos:ae((r+9+e)%9,(i+9+t)%9)}}))}),[x]),de=Object(r.useCallback)((function(e){N&&E((function(t){return{pos:null,val:(t.val-1+e+9)%9+1}}))}),[N]),ve=Object(r.useMemo)((function(){if(D)if("group"===D.type){var e,t,n=D.cls,a=D.domain,r=D.poses,i=D.notes;if(0===n)return{effect:(e={},Object(f.a)(e,a+"s",new Set([D[a]])),Object(f.a)(e,"notes",i),e),highlights:{poses:r,notes:i}};if(1===n)return{domain:(t={},Object(f.a)(t,a+"s",new Set([D[a]])),Object(f.a)(t,"notes",i),t),highlights:{poses:r,notes:i}}}else if("X-Group"===D.type){var o=D.domain,c=D.rows,d=D.cols,v=D.blocks,h=D.poses,p=D.d,b=new Set([p]);if("row"===o)return{domain:{rows:c},effect:{cols:d,blocks:v,notes:b},highlights:{poses:h,notes:b}};if("col"===o)return{domain:{cols:d},effect:{rows:c,blocks:v,notes:b},highlights:{poses:h,notes:b}};if("block"===o)return{domain:{blocks:v},effect:{rows:c,cols:d,notes:b},highlights:{poses:h,notes:b}}}else{if("chain"===D.type){var k=D.chain,m=D.effectedPoses,_=D.d,g=D.effectedDs,y=k.slice(0,z),O=[];y.forEach((function(e){var t=e.pos;t.isGroup?t.poses.forEach((function(e){return O.push(e)})):O.push(t)}));var C=new Set(O),j=new Set(O);Ge(k[0].pos).forEach((function(e){return j.delete(e)})),Ge(k[k.length-1].pos).forEach((function(e){return j.delete(e)}));var w,E=g||new Set([_]),x={},N={},P=Object(u.a)(y);try{for(P.s();!(w=P.n()).done;){var A=w.value,T=x;A.d!==_&&(T=N);var I,S=A.pos,G=Object(u.a)(Ge(S));try{for(G.s();!(I=G.n()).done;){var L=I.value,M=T[L]||new Set;T[L]=M,M.add(A.d)}}catch(ie){G.e(ie)}finally{G.f()}}}catch(ie){P.e(ie)}finally{P.f()}var R=[];y.forEach((function(e){var t=e.pos;if(t.isGroup){var n=t.key,a=t.domain,r=t.block,i=t.row,o=t.col;R.push({key:n,domain:Object(s.a)(a)[0],block:r,row:i,col:o})}}));var H,V=[],B=y[0],U=Object(u.a)(y.slice(1));try{for(U.s();!(H=U.n()).done;){var X=H.value,F=ye(B.pos.isGroup?B.pos.poses:[B.pos],X.pos.isGroup?X.pos.poses:[X.pos]),Y=Object(l.a)(F,2),K=Y[0],J=Y[1];V.push({startPos:K,startDigit:B.d,endPos:J,endDigit:X.d,type:X.val?"solid":"dashed"}),B=X}}catch(ie){U.e(ie)}finally{U.f()}return{frames:R,arrows:V,effect:{poses:m,notes:E},highlights:{poses:C,posNotes:x,posSubNotes:N,withoutOutlinePoses:j}}}if("trial-error"===D.type){var Q=D.startIdx,Z=D.pos,q=D.d,$=D.err,ee=new Set([q]),te=null;if(!0===$)te={highlights:{poses:new Set([Z]),values:ee,notes:ee}};else{var ne,ae=$.domain,re=$.digits;if(W.idx>=Q)te={effect:(ne={},Object(f.a)(ne,ae+"s",new Set([$[ae]])),Object(f.a)(ne,"notes",re),Object(f.a)(ne,"values",re),ne),highlights:{poses:new Set([Z]),values:ee,notes:ee}}}if(W.idx>=Q)return te}}}),[W.idx,z,D]),he=Object(r.useCallback)((function(e){if(D&&"chain"===D.type){var t=D.chain.length;X((function(n){return(n-1+e+t)%t+1}))}}),[D]),pe=Object(r.useCallback)((function(){D&&"trial-error"===D.type&&n.jumpTo(D.startIdx)}),[n,D]);Object(r.useEffect)((function(){var e=function(e){if(Oe.a.log(e),e.code.startsWith("Digit")){var t=parseInt(e.key);ee(t)}else if("N"===e.key)a();else if("n"===e.key)e.ctrlKey?ce():oe();else if("a"===e.key)ie();else if("r"===e.key)ne();else if("e"===e.key)re();else if("b"===e.key)N||x||$(ae(4,4));else if("d"===e.key||"Escape"===e.key)te();else if("t"===e.key)se();else if("x"===e.key)ue();else if("y"===e.key)he(-1);else if("u"===e.key)he(1);else if("p"===e.key)le();else if("h"===e.key||"ArrowLeft"===e.key)x?fe(0,-1):N?de(-1):n.jumpToFirst();else if("l"===e.key||"ArrowRight"===e.key)x?fe(0,1):N?de(1):n.jumpToLast();else if("j"===e.key||"ArrowDown"===e.key)x?fe(1,0):N?de(-1):n.jump(-1);else{if("k"!==e.key&&"ArrowUp"!==e.key)return;x?fe(-1,0):N?de(1):n.jump(1)}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[x,N,ce,le,ue,$,he,te,ee,re,fe,de,ne,a,n,D,se,oe,ie]),Object(r.useEffect)((function(){if(D){if(D.includedCells&&D.includedCells.has(Y))return;V(null),n.clearHistoryLowerBound()}}),[Y]);var be=null;if(_){var ke=new URL(window.location),me=n.initialPuzzle,_e=n.stringify();ke.search="?puzzle="+_e,be=i.a.createElement("div",{className:Xt.a.QRCode},i.a.createElement(Ut.a,{size:256,value:ke.toString()}),i.a.createElement("p",null,me),i.a.createElement("p",null,_e))}return i.a.createElement(i.a.Fragment,null,p&&i.a.createElement(Vt,null),i.a.createElement(Gt,{show:_,close:function(){return g(!1)}},be),i.a.createElement("div",{className:Xt.a.Menu},i.a.createElement(h,{onClick:a},"New"),i.a.createElement(h,{onClick:Z},"Start"),i.a.createElement(h,{onClick:q},"Edit"),i.a.createElement(h,{onClick:c},"Empty"),i.a.createElement(h,{onClick:function(){return g(!0)}},"Share")),i.a.createElement("div",{className:Xt.a.Board},i.a.createElement(mt,{isComplete:F,cells:Y,availablePositions:J,activeVal:N,activePos:x,cellClickedHandler:$,showAvail:T,isNoting:L,marks:ve})),i.a.createElement("div",{className:Xt.a.Controls},i.a.createElement(Nt,{cellsRecord:W,hasPrev:n.hasPrev,hasNext:n.hasNext,jump:n.jump,jumpToFirst:n.jumpToFirst,jumpToLast:n.jumpToLast,remainingDigits:Q,activeVal:N,availableDigits:K,digitClickedHandler:ee,showAvail:T,isNoting:L,resetHandler:ne,eraseValueHandler:re,deselectHandler:te,toggleShowAvailHandler:ie,toggleIsNotingHandler:oe,autoNoteHandler:ce,autoPlacePointingClaimingHandler:le,tip:D,tipHandler:se,cancelTipHandler:ue,changeChainStepHandler:he,jumpToTrailStartHandler:pe})),i.a.createElement("div",{className:Xt.a.Info}))},Ft=n(26),Yt=n.n(Ft),Kt=function(e){var t=e.cancelNewGameHandler,n=e.newGameHandler,a=e.error,o=Object(r.useState)(""),c=Object(l.a)(o,2),s=c[0],u=c[1],f=Object(r.useCallback)((function(e){u(e.target.value)}),[]),d=Object(r.useRef)();return Object(r.useEffect)((function(){d.current.focus()}),[]),Object(r.useEffect)((function(){var e=function(e){if("Escape"===e.key)t();else{if("Enter"!==e.key||!e.shiftKey)return;n(s)}e.preventDefault()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[t,n,s]),i.a.createElement("div",{className:Yt.a.NewGame},i.a.createElement("h1",null,"input a new puzzle"),a&&i.a.createElement("div",{className:Yt.a.Error},a.message),i.a.createElement("textarea",{ref:d,id:"puzzle",name:"puzzle",inputMode:"numeric",onChange:f,value:s,placeholder:"901002708\n570060000\n000000004\n000000000\n700421900\n000098030\n300506070\n009003000\n000080051"}),i.a.createElement(h,{onClick:t},"Cancel"),i.a.createElement(h,{onClick:function(){return n(s)}},"Done"))},Jt=n(41),Qt=n.n(Jt),Zt=function(){var e=Object(r.useState)((function(){var e=new URLSearchParams(window.location.search).get("puzzle");try{return new Ne(e)}catch(t){return new Ne}})),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(!1),c=Object(l.a)(o,2),s=c[0],u=c[1],f=Object(r.useState)(null),d=Object(l.a)(f,2),v=d[0],h=d[1],p=Object(r.useCallback)((function(){u(!0)}),[]),b=Object(r.useCallback)((function(){u(!1)}),[]),k=Object(r.useCallback)((function(e){try{a(new Ne(e)),u(!1)}catch(t){h(t)}}),[]),m=Object(r.useCallback)((function(){k()}),[k]),_=null;return _=s?i.a.createElement(Kt,{cancelNewGameHandler:b,newGameHandler:k,error:v}):i.a.createElement(Wt,{sudoku:n,startNewGameHandler:p,newGameHandler:k,emptyHandler:m}),i.a.createElement("div",{className:Qt.a.Sudoku},_)};function qt(){return i.a.createElement(Zt,null)}var $t=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function en(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(i.a.createElement(qt,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/sudoku-game",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/sudoku-game","/service-worker.js");$t?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):en(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):en(t,e)}))}}()}],[[43,1,2]]]);
//# sourceMappingURL=main.126e6823.chunk.js.map